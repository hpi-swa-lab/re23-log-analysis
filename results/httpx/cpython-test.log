.package create: /workdir/httpx-0.23.1/.tox/.package
.package installdeps: hatchling, hatch-fancy-pypi-readme
cpythonlibtest-unit-test-tests create: /workdir/httpx-0.23.1/.tox/cpythonlibtest-unit-test-tests
cpythonlibtest-unit-test-tests installdeps: mock, pytest, -rrequirements.txt
cpythonlibtest-unit-test-tests inst: /workdir/httpx-0.23.1/.tox/.tmp/package/1/httpx-0.23.1.tar.gz
cpythonlibtest-unit-test-tests installed: anyio==4.0.0,async-generator==1.10,attrs==23.1.0,autoflake==1.7.7,black==22.10.0,Brotli==1.1.0,build==0.8.0,certifi==2023.11.17,cffi==1.16.0,chardet==5.0.0,charset-normalizer==3.3.2,click==8.1.7,commonmark==0.9.1,coverage==6.5.0,cryptography==38.0.1,docutils==0.20.1,exceptiongroup==1.2.0,flake8==3.9.2,flake8-bugbear==22.7.1,flake8-pie==0.16.0,ghp-import==2.1.0,h11==0.14.0,h2==4.1.0,hpack==4.0.0,httpcore==0.16.3,httpx @ file:///workdir/httpx-0.23.1/.tox/.tmp/package/1/httpx-0.23.1.tar.gz#sha256=38b9db9d06c57fbff22ff8d3c10ce68bcb3325e31773db39be18cd3f2a438469,hyperframe==6.0.1,idna==3.4,importlib-metadata==4.13.0,iniconfig==2.0.0,isort==5.10.1,jaraco.classes==3.3.0,jeepney==0.8.0,Jinja2==3.1.2,keyring==24.3.0,Markdown==3.3.7,MarkupSafe==2.1.3,mccabe==0.6.1,mergedeep==1.3.4,mkautodoc==0.2.0,mkdocs==1.4.0,mkdocs-material==8.5.5,mkdocs-material-extensions==1.3,mock==5.1.0,more-itertools==10.1.0,multipart==0.2.4,mypy==0.982,mypy-extensions==1.0.0,nh3==0.2.14,outcome==1.3.0.post0,packaging==23.2,pathspec==0.11.2,pep517==0.13.1,pkginfo==1.9.6,platformdirs==4.0.0,pluggy==1.3.0,py==1.11.0,pycodestyle==2.7.0,pycparser==2.21,pyflakes==2.3.1,Pygments==2.17.2,pymdown-extensions==10.4,pytest==7.1.2,pytest-asyncio==0.19.0,pytest-trio==0.7.0,python-dateutil==2.8.2,PyYAML==6.0.1,pyyaml_env_tag==0.1,readme-renderer==42.0,requests==2.31.0,requests-toolbelt==1.0.0,rfc3986==1.5.0,rich==12.6.0,SecretStorage==3.3.3,six==1.16.0,sniffio==1.3.0,socksio==1.0.0,sortedcontainers==2.4.0,tomli==2.0.1,trio==0.21.0,trio-typing==0.7.0,trustme==0.9.0,twine==4.0.1,types-certifi==2021.10.8.2,types-chardet==5.0.3,typing_extensions==4.8.0,urllib3==2.1.0,uvicorn==0.19.0,watchdog==3.0.0,zipp==3.17.0
cpythonlibtest-unit-test-tests run-test-pre: PYTHONHASHSEED='942477680'
cpythonlibtest-unit-test-tests run-test: commands[0] | pytest -v --tb=native --junitxml /workdir/results/httpx/0.23.1/1/cpython-test-results.xml
/workdir/httpx-0.23.1/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/trio/_core/_multierror.py:511: RuntimeWarning: You seem to already have a custom sys.excepthook handler installed. I'll skip installing Trio's custom handler, but this means MultiErrors will not show full tracebacks.
  warnings.warn(
============================= test session starts ==============================
platform linux -- Python 3.10.8, pytest-7.1.2, pluggy-1.3.0 -- /workdir/httpx-0.23.1/.tox/cpythonlibtest-unit-test-tests/bin/python
cachedir: .tox/cpythonlibtest-unit-test-tests/.pytest_cache
rootdir: /workdir/httpx-0.23.1, configfile: setup.cfg
plugins: anyio-4.0.0, trio-0.7.0, asyncio-0.19.0
asyncio: mode=strict
collecting ... collected 704 items

tests/test_api.py::test_get PASSED                                       [  0%]
tests/test_api.py::test_post PASSED                                      [  0%]
tests/test_api.py::test_post_byte_iterator PASSED                        [  0%]
tests/test_api.py::test_post_byte_stream PASSED                          [  0%]
tests/test_api.py::test_options PASSED                                   [  0%]
tests/test_api.py::test_head PASSED                                      [  0%]
tests/test_api.py::test_put PASSED                                       [  0%]
tests/test_api.py::test_patch PASSED                                     [  1%]
tests/test_api.py::test_delete PASSED                                    [  1%]
tests/test_api.py::test_stream PASSED                                    [  1%]
tests/test_api.py::test_get_invalid_url PASSED                           [  1%]
tests/test_asgi.py::test_asgi_transport[asyncio] PASSED                  [  1%]
tests/test_asgi.py::test_asgi_transport[trio] PASSED                     [  1%]
tests/test_asgi.py::test_asgi_transport_no_body[asyncio] PASSED          [  1%]
tests/test_asgi.py::test_asgi_transport_no_body[trio] PASSED             [  2%]
tests/test_asgi.py::test_asgi[asyncio] PASSED                            [  2%]
tests/test_asgi.py::test_asgi[trio] PASSED                               [  2%]
tests/test_asgi.py::test_asgi_urlencoded_path[asyncio] PASSED            [  2%]
tests/test_asgi.py::test_asgi_urlencoded_path[trio] PASSED               [  2%]
tests/test_asgi.py::test_asgi_raw_path[asyncio] PASSED                   [  2%]
tests/test_asgi.py::test_asgi_raw_path[trio] PASSED                      [  2%]
tests/test_asgi.py::test_asgi_upload[asyncio] PASSED                     [  3%]
tests/test_asgi.py::test_asgi_upload[trio] PASSED                        [  3%]
tests/test_asgi.py::test_asgi_headers[asyncio] PASSED                    [  3%]
tests/test_asgi.py::test_asgi_headers[trio] PASSED                       [  3%]
tests/test_asgi.py::test_asgi_exc[asyncio] PASSED                        [  3%]
tests/test_asgi.py::test_asgi_exc[trio] PASSED                           [  3%]
tests/test_asgi.py::test_asgi_exc_after_response[asyncio] PASSED         [  3%]
tests/test_asgi.py::test_asgi_exc_after_response[trio] PASSED            [  4%]
tests/test_asgi.py::test_asgi_disconnect_after_response_complete[asyncio] PASSED [  4%]
tests/test_asgi.py::test_asgi_disconnect_after_response_complete[trio] PASSED [  4%]
tests/test_auth.py::test_basic_auth PASSED                               [  4%]
tests/test_auth.py::test_digest_auth_with_200 PASSED                     [  4%]
tests/test_auth.py::test_digest_auth_with_401 PASSED                     [  4%]
tests/test_config.py::test_load_ssl_config PASSED                        [  4%]
tests/test_config.py::test_load_ssl_config_verify_non_existing_path PASSED [  5%]
tests/test_config.py::test_load_ssl_config_verify_existing_file PASSED   [  5%]
tests/test_config.py::test_load_ssl_config_verify_env_file[SSL_CERT_FILE] PASSED [  5%]
tests/test_config.py::test_load_ssl_config_verify_env_file[SSL_CERT_DIR] PASSED [  5%]
tests/test_config.py::test_load_ssl_config_verify_directory PASSED       [  5%]
tests/test_config.py::test_load_ssl_config_cert_and_key PASSED           [  5%]
tests/test_config.py::test_load_ssl_config_cert_and_encrypted_key[password0] PASSED [  5%]
tests/test_config.py::test_load_ssl_config_cert_and_encrypted_key[password1] PASSED [  6%]
tests/test_config.py::test_load_ssl_config_cert_and_key_invalid_password PASSED [  6%]
tests/test_config.py::test_load_ssl_config_cert_without_key_raises PASSED [  6%]
tests/test_config.py::test_load_ssl_config_no_verify PASSED              [  6%]
tests/test_config.py::test_load_ssl_context PASSED                       [  6%]
tests/test_config.py::test_create_ssl_context_with_get_request PASSED    [  6%]
tests/test_config.py::test_limits_repr PASSED                            [  6%]
tests/test_config.py::test_limits_eq PASSED                              [  7%]
tests/test_config.py::test_timeout_eq PASSED                             [  7%]
tests/test_config.py::test_timeout_all_parameters_set PASSED             [  7%]
tests/test_config.py::test_timeout_from_nothing PASSED                   [  7%]
tests/test_config.py::test_timeout_from_none PASSED                      [  7%]
tests/test_config.py::test_timeout_from_one_none_value PASSED            [  7%]
tests/test_config.py::test_timeout_from_one_value PASSED                 [  7%]
tests/test_config.py::test_timeout_from_one_value_and_default PASSED     [  8%]
tests/test_config.py::test_timeout_missing_default PASSED                [  8%]
tests/test_config.py::test_timeout_from_tuple PASSED                     [  8%]
tests/test_config.py::test_timeout_from_config_instance PASSED           [  8%]
tests/test_config.py::test_timeout_repr PASSED                           [  8%]
tests/test_config.py::test_ssl_config_support_for_keylog_file PASSED     [  8%]
tests/test_config.py::test_proxy_from_url PASSED                         [  8%]
tests/test_config.py::test_proxy_with_auth_from_url PASSED               [  9%]
tests/test_config.py::test_invalid_proxy_scheme PASSED                   [  9%]
tests/test_content.py::test_empty_content PASSED                         [  9%]
tests/test_content.py::test_bytes_content PASSED                         [  9%]
tests/test_content.py::test_bytesio_content PASSED                       [  9%]
tests/test_content.py::test_async_bytesio_content PASSED                 [  9%]
tests/test_content.py::test_iterator_content PASSED                      [  9%]
tests/test_content.py::test_aiterator_content PASSED                     [ 10%]
tests/test_content.py::test_json_content PASSED                          [ 10%]
tests/test_content.py::test_urlencoded_content PASSED                    [ 10%]
tests/test_content.py::test_urlencoded_boolean PASSED                    [ 10%]
tests/test_content.py::test_urlencoded_none PASSED                       [ 10%]
tests/test_content.py::test_urlencoded_list PASSED                       [ 10%]
tests/test_content.py::test_multipart_files_content PASSED               [ 10%]
tests/test_content.py::test_multipart_data_and_files_content PASSED      [ 11%]
tests/test_content.py::test_empty_request PASSED                         [ 11%]
tests/test_content.py::test_invalid_argument PASSED                      [ 11%]
tests/test_content.py::test_multipart_multiple_files_single_input_content PASSED [ 11%]
tests/test_content.py::test_response_empty_content PASSED                [ 11%]
tests/test_content.py::test_response_bytes_content PASSED                [ 11%]
tests/test_content.py::test_response_iterator_content PASSED             [ 11%]
tests/test_content.py::test_response_aiterator_content PASSED            [ 12%]
tests/test_content.py::test_response_invalid_argument PASSED             [ 12%]
tests/test_decoders.py::test_deflate PASSED                              [ 12%]
tests/test_decoders.py::test_zlib PASSED                                 [ 12%]
tests/test_decoders.py::test_gzip PASSED                                 [ 12%]
tests/test_decoders.py::test_brotli PASSED                               [ 12%]
tests/test_decoders.py::test_multi PASSED                                [ 12%]
tests/test_decoders.py::test_multi_with_identity PASSED                  [ 13%]
tests/test_decoders.py::test_streaming PASSED                            [ 13%]
tests/test_decoders.py::test_empty_content[deflate] PASSED               [ 13%]
tests/test_decoders.py::test_empty_content[gzip] PASSED                  [ 13%]
tests/test_decoders.py::test_empty_content[br] PASSED                    [ 13%]
tests/test_decoders.py::test_empty_content[identity] PASSED              [ 13%]
tests/test_decoders.py::test_decoders_empty_cases[BrotliDecoder] PASSED  [ 13%]
tests/test_decoders.py::test_decoders_empty_cases[DeflateDecoder] PASSED [ 14%]
tests/test_decoders.py::test_decoders_empty_cases[GZipDecoder] PASSED    [ 14%]
tests/test_decoders.py::test_decoders_empty_cases[IdentityDecoder] PASSED [ 14%]
tests/test_decoders.py::test_decoding_errors[deflate] PASSED             [ 14%]
tests/test_decoders.py::test_decoding_errors[gzip] PASSED                [ 14%]
tests/test_decoders.py::test_decoding_errors[br] PASSED                  [ 14%]
tests/test_decoders.py::test_text_decoder_with_autodetect[data0-ascii] PASSED [ 14%]
tests/test_decoders.py::test_text_decoder_with_autodetect[data1-utf-8] PASSED [ 15%]
tests/test_decoders.py::test_text_decoder_with_autodetect[data2-cp1252] PASSED [ 15%]
tests/test_decoders.py::test_text_decoder_with_autodetect[data3-iso-8859-1] PASSED [ 15%]
tests/test_decoders.py::test_text_decoder_known_encoding PASSED          [ 15%]
tests/test_decoders.py::test_text_decoder_empty_cases PASSED             [ 15%]
tests/test_decoders.py::test_line_decoder_nl PASSED                      [ 15%]
tests/test_decoders.py::test_line_decoder_cr PASSED                      [ 15%]
tests/test_decoders.py::test_line_decoder_crnl PASSED                    [ 16%]
tests/test_decoders.py::test_byte_chunker PASSED                         [ 16%]
tests/test_decoders.py::test_text_chunker PASSED                         [ 16%]
tests/test_decoders.py::test_invalid_content_encoding_header PASSED      [ 16%]
tests/test_exceptions.py::test_httpcore_all_exceptions_mapped PASSED     [ 16%]
tests/test_exceptions.py::test_httpcore_exception_mapping PASSED         [ 16%]
tests/test_exceptions.py::test_httpx_exceptions_exposed PASSED           [ 16%]
tests/test_exceptions.py::test_request_attribute PASSED                  [ 17%]
tests/test_exported_members.py::test_all_imports_are_exported PASSED     [ 17%]
tests/test_main.py::test_help PASSED                                     [ 17%]
tests/test_main.py::test_get PASSED                                      [ 17%]
tests/test_main.py::test_json PASSED                                     [ 17%]
tests/test_main.py::test_binary PASSED                                   [ 17%]
tests/test_main.py::test_redirects PASSED                                [ 17%]
tests/test_main.py::test_follow_redirects PASSED                         [ 18%]
tests/test_main.py::test_post PASSED                                     [ 18%]
tests/test_main.py::test_verbose PASSED                                  [ 18%]
tests/test_main.py::test_auth PASSED                                     [ 18%]
tests/test_main.py::test_download PASSED                                 [ 18%]
tests/test_main.py::test_errors PASSED                                   [ 18%]
tests/test_multipart.py::test_multipart[abc-abc0] PASSED                 [ 18%]
tests/test_multipart.py::test_multipart[abc-abc1] PASSED                 [ 19%]
tests/test_multipart.py::test_multipart_explicit_boundary[multipart/form-data; boundary=+++; charset=utf-8] PASSED [ 19%]
tests/test_multipart.py::test_multipart_explicit_boundary[multipart/form-data; charset=utf-8; boundary=+++] PASSED [ 19%]
tests/test_multipart.py::test_multipart_explicit_boundary[multipart/form-data; boundary=+++] PASSED [ 19%]
tests/test_multipart.py::test_multipart_explicit_boundary[multipart/form-data; boundary=+++ ;] PASSED [ 19%]
tests/test_multipart.py::test_multipart_explicit_boundary[multipart/form-data; boundary="+++"; charset=utf-8] PASSED [ 19%]
tests/test_multipart.py::test_multipart_explicit_boundary[multipart/form-data; charset=utf-8; boundary="+++"] PASSED [ 19%]
tests/test_multipart.py::test_multipart_explicit_boundary[multipart/form-data; boundary="+++"] PASSED [ 20%]
tests/test_multipart.py::test_multipart_explicit_boundary[multipart/form-data; boundary="+++" ;] PASSED [ 20%]
tests/test_multipart.py::test_multipart_header_without_boundary[multipart/form-data; charset=utf-8] PASSED [ 20%]
tests/test_multipart.py::test_multipart_header_without_boundary[multipart/form-data; charset=utf-8; ] PASSED [ 20%]
tests/test_multipart.py::test_multipart_invalid_key[abc] PASSED          [ 20%]
tests/test_multipart.py::test_multipart_invalid_key[1] PASSED            [ 20%]
tests/test_multipart.py::test_multipart_invalid_key[2.3] PASSED          [ 20%]
tests/test_multipart.py::test_multipart_invalid_key[None] PASSED         [ 21%]
tests/test_multipart.py::test_multipart_invalid_value[value0] PASSED     [ 21%]
tests/test_multipart.py::test_multipart_invalid_value[value1] PASSED     [ 21%]
tests/test_multipart.py::test_multipart_file_tuple PASSED                [ 21%]
tests/test_multipart.py::test_multipart_file_tuple_headers[None] PASSED  [ 21%]
tests/test_multipart.py::test_multipart_file_tuple_headers[text/plain] PASSED [ 21%]
tests/test_multipart.py::test_multipart_headers_include_content_type PASSED [ 21%]
tests/test_multipart.py::test_multipart_encode PASSED                    [ 22%]
tests/test_multipart.py::test_multipart_encode_unicode_file_contents PASSED [ 22%]
tests/test_multipart.py::test_multipart_encode_files_allows_filenames_as_none PASSED [ 22%]
tests/test_multipart.py::test_multipart_encode_files_guesses_correct_content_type[example.json-application/json] PASSED [ 22%]
tests/test_multipart.py::test_multipart_encode_files_guesses_correct_content_type[example.txt-text/plain] PASSED [ 22%]
tests/test_multipart.py::test_multipart_encode_files_guesses_correct_content_type[no-extension-application/octet-stream] PASSED [ 22%]
tests/test_multipart.py::test_multipart_encode_files_allows_bytes_content PASSED [ 22%]
tests/test_multipart.py::test_multipart_encode_files_allows_str_content PASSED [ 23%]
tests/test_multipart.py::test_multipart_encode_files_raises_exception_with_StringIO_content PASSED [ 23%]
tests/test_multipart.py::test_multipart_encode_files_raises_exception_with_text_mode_file PASSED [ 23%]
tests/test_multipart.py::test_multipart_encode_non_seekable_filelike PASSED [ 23%]
tests/test_multipart.py::test_multipart_rewinds_files PASSED             [ 23%]
tests/test_multipart.py::TestHeaderParamHTML5Formatting::test_unicode PASSED [ 23%]
tests/test_multipart.py::TestHeaderParamHTML5Formatting::test_ascii PASSED [ 23%]
tests/test_multipart.py::TestHeaderParamHTML5Formatting::test_unicode_escape PASSED [ 24%]
tests/test_multipart.py::TestHeaderParamHTML5Formatting::test_unicode_with_control_character PASSED [ 24%]
tests/test_status_codes.py::test_status_code_as_int PASSED               [ 24%]
tests/test_status_codes.py::test_status_code_value_lookup PASSED         [ 24%]
tests/test_status_codes.py::test_status_code_phrase_lookup PASSED        [ 24%]
tests/test_status_codes.py::test_lowercase_status_code PASSED            [ 24%]
tests/test_status_codes.py::test_reason_phrase_for_status_code PASSED    [ 24%]
tests/test_status_codes.py::test_reason_phrase_for_unknown_status_code PASSED [ 25%]
tests/test_timeouts.py::test_read_timeout[asyncio] PASSED                [ 25%]
tests/test_timeouts.py::test_read_timeout[trio] PASSED                   [ 25%]
tests/test_timeouts.py::test_write_timeout[asyncio] PASSED               [ 25%]
tests/test_timeouts.py::test_write_timeout[trio] PASSED                  [ 25%]
tests/test_timeouts.py::test_connect_timeout[asyncio] PASSED             [ 25%]
tests/test_timeouts.py::test_connect_timeout[trio] PASSED                [ 25%]
tests/test_timeouts.py::test_pool_timeout[asyncio] PASSED                [ 25%]
tests/test_timeouts.py::test_pool_timeout[trio] PASSED                   [ 26%]
tests/test_utils.py::test_encoded[utf-32] PASSED                         [ 26%]
tests/test_utils.py::test_encoded[utf-8-sig] PASSED                      [ 26%]
tests/test_utils.py::test_encoded[utf-16] PASSED                         [ 26%]
tests/test_utils.py::test_encoded[utf-8] PASSED                          [ 26%]
tests/test_utils.py::test_encoded[utf-16-be] PASSED                      [ 26%]
tests/test_utils.py::test_encoded[utf-16-le] PASSED                      [ 26%]
tests/test_utils.py::test_encoded[utf-32-be] PASSED                      [ 27%]
tests/test_utils.py::test_encoded[utf-32-le] PASSED                      [ 27%]
tests/test_utils.py::test_bad_utf_like_encoding PASSED                   [ 27%]
tests/test_utils.py::test_guess_by_bom[utf-16-be-utf-16] PASSED          [ 27%]
tests/test_utils.py::test_guess_by_bom[utf-16-le-utf-16] PASSED          [ 27%]
tests/test_utils.py::test_guess_by_bom[utf-32-be-utf-32] PASSED          [ 27%]
tests/test_utils.py::test_guess_by_bom[utf-32-le-utf-32] PASSED          [ 27%]
tests/test_utils.py::test_bad_get_netrc_login PASSED                     [ 28%]
tests/test_utils.py::test_get_netrc_login PASSED                         [ 28%]
tests/test_utils.py::test_get_netrc_unknown PASSED                       [ 28%]
tests/test_utils.py::test_parse_header_links[<http:/.../front.jpeg>; rel=front; type="image/jpeg"-expected0] PASSED [ 28%]
tests/test_utils.py::test_parse_header_links[<http:/.../front.jpeg>-expected1] PASSED [ 28%]
tests/test_utils.py::test_parse_header_links[<http:/.../front.jpeg>;-expected2] PASSED [ 28%]
tests/test_utils.py::test_parse_header_links[<http:/.../front.jpeg>; type="image/jpeg",<http://.../back.jpeg>;-expected3] PASSED [ 28%]
tests/test_utils.py::test_parse_header_links[-expected4] PASSED          [ 29%]
tests/test_utils.py::test_logs_debug PASSED                              [ 29%]
tests/test_utils.py::test_logs_trace PASSED                              [ 29%]
tests/test_utils.py::test_logs_redirect_chain PASSED                     [ 29%]
tests/test_utils.py::test_get_ssl_cert_file PASSED                       [ 29%]
tests/test_utils.py::test_get_environment_proxies[environment0-proxies0] PASSED [ 29%]
tests/test_utils.py::test_get_environment_proxies[environment1-proxies1] PASSED [ 29%]
tests/test_utils.py::test_get_environment_proxies[environment2-proxies2] PASSED [ 30%]
tests/test_utils.py::test_get_environment_proxies[environment3-proxies3] PASSED [ 30%]
tests/test_utils.py::test_get_environment_proxies[environment4-proxies4] PASSED [ 30%]
tests/test_utils.py::test_obfuscate_sensitive_headers[headers0-output0] PASSED [ 30%]
tests/test_utils.py::test_obfuscate_sensitive_headers[headers1-output1] PASSED [ 30%]
tests/test_utils.py::test_obfuscate_sensitive_headers[headers2-output2] PASSED [ 30%]
tests/test_utils.py::test_same_origin PASSED                             [ 30%]
tests/test_utils.py::test_not_same_origin PASSED                         [ 31%]
tests/test_utils.py::test_is_https_redirect PASSED                       [ 31%]
tests/test_utils.py::test_is_not_https_redirect PASSED                   [ 31%]
tests/test_utils.py::test_is_not_https_redirect_if_not_default_ports PASSED [ 31%]
tests/test_utils.py::test_url_matches[http://example.com-http://example.com-True] PASSED [ 31%]
tests/test_utils.py::test_url_matches[http://example.com-https://example.com-False] PASSED [ 31%]
tests/test_utils.py::test_url_matches[http://example.com-http://other.com-False] PASSED [ 31%]
tests/test_utils.py::test_url_matches[http://example.com:123-http://example.com:123-True] PASSED [ 32%]
tests/test_utils.py::test_url_matches[http://example.com:123-http://example.com:456-False] PASSED [ 32%]
tests/test_utils.py::test_url_matches[http://example.com:123-http://example.com-False] PASSED [ 32%]
tests/test_utils.py::test_url_matches[all://example.com-http://example.com-True] PASSED [ 32%]
tests/test_utils.py::test_url_matches[all://example.com-https://example.com-True] PASSED [ 32%]
tests/test_utils.py::test_url_matches[http://-http://example.com-True] PASSED [ 32%]
tests/test_utils.py::test_url_matches[http://-https://example.com-False] PASSED [ 32%]
tests/test_utils.py::test_url_matches[all://-https://example.com:123-True] PASSED [ 33%]
tests/test_utils.py::test_url_matches[-https://example.com:123-True] PASSED [ 33%]
tests/test_utils.py::test_pattern_priority PASSED                        [ 33%]
tests/test_wsgi.py::test_wsgi PASSED                                     [ 33%]
tests/test_wsgi.py::test_wsgi_upload PASSED                              [ 33%]
tests/test_wsgi.py::test_wsgi_upload_with_response_stream PASSED         [ 33%]
tests/test_wsgi.py::test_wsgi_exc PASSED                                 [ 33%]
tests/test_wsgi.py::test_wsgi_http_error PASSED                          [ 34%]
tests/test_wsgi.py::test_wsgi_generator PASSED                           [ 34%]
tests/test_wsgi.py::test_wsgi_generator_empty PASSED                     [ 34%]
tests/test_wsgi.py::test_logging PASSED                                  [ 34%]
tests/test_wsgi.py::test_wsgi_server_port[auto-http] PASSED              [ 34%]
tests/test_wsgi.py::test_wsgi_server_port[auto-https] PASSED             [ 34%]
tests/test_wsgi.py::test_wsgi_server_port[explicit-port] PASSED          [ 34%]
tests/client/test_async_client.py::test_get[asyncio] PASSED              [ 35%]
tests/client/test_async_client.py::test_get[trio] PASSED                 [ 35%]
tests/client/test_async_client.py::test_get_invalid_url[asyncio-scheme-not-http(s)] PASSED [ 35%]
tests/client/test_async_client.py::test_get_invalid_url[asyncio-no-scheme] PASSED [ 35%]
tests/client/test_async_client.py::test_get_invalid_url[asyncio-no-host] PASSED [ 35%]
tests/client/test_async_client.py::test_get_invalid_url[trio-scheme-not-http(s)] PASSED [ 35%]
tests/client/test_async_client.py::test_get_invalid_url[trio-no-scheme] PASSED [ 35%]
tests/client/test_async_client.py::test_get_invalid_url[trio-no-host] PASSED [ 36%]
tests/client/test_async_client.py::test_build_request[asyncio] PASSED    [ 36%]
tests/client/test_async_client.py::test_build_request[trio] PASSED       [ 36%]
tests/client/test_async_client.py::test_post[asyncio] PASSED             [ 36%]
tests/client/test_async_client.py::test_post[trio] PASSED                [ 36%]
tests/client/test_async_client.py::test_post_json[asyncio] PASSED        [ 36%]
tests/client/test_async_client.py::test_post_json[trio] PASSED           [ 36%]
tests/client/test_async_client.py::test_stream_response[asyncio] PASSED  [ 37%]
tests/client/test_async_client.py::test_stream_response[trio] PASSED     [ 37%]
tests/client/test_async_client.py::test_access_content_stream_response[asyncio] PASSED [ 37%]
tests/client/test_async_client.py::test_access_content_stream_response[trio] PASSED [ 37%]
tests/client/test_async_client.py::test_stream_request[asyncio] PASSED   [ 37%]
tests/client/test_async_client.py::test_stream_request[trio] PASSED      [ 37%]
tests/client/test_async_client.py::test_cannot_stream_sync_request[asyncio] PASSED [ 37%]
tests/client/test_async_client.py::test_cannot_stream_sync_request[trio] PASSED [ 38%]
tests/client/test_async_client.py::test_raise_for_status[asyncio] PASSED [ 38%]
tests/client/test_async_client.py::test_raise_for_status[trio] PASSED    [ 38%]
tests/client/test_async_client.py::test_options[asyncio] PASSED          [ 38%]
tests/client/test_async_client.py::test_options[trio] PASSED             [ 38%]
tests/client/test_async_client.py::test_head[asyncio] PASSED             [ 38%]
tests/client/test_async_client.py::test_head[trio] PASSED                [ 38%]
tests/client/test_async_client.py::test_put[asyncio] PASSED              [ 39%]
tests/client/test_async_client.py::test_put[trio] PASSED                 [ 39%]
tests/client/test_async_client.py::test_patch[asyncio] PASSED            [ 39%]
tests/client/test_async_client.py::test_patch[trio] PASSED               [ 39%]
tests/client/test_async_client.py::test_delete[asyncio] PASSED           [ 39%]
tests/client/test_async_client.py::test_delete[trio] PASSED              [ 39%]
tests/client/test_async_client.py::test_100_continue[asyncio] PASSED     [ 39%]
tests/client/test_async_client.py::test_100_continue[trio] PASSED        [ 40%]
tests/client/test_async_client.py::test_context_managed_transport[asyncio] PASSED [ 40%]
tests/client/test_async_client.py::test_context_managed_transport[trio] PASSED [ 40%]
tests/client/test_async_client.py::test_context_managed_transport_and_mount[asyncio] PASSED [ 40%]
tests/client/test_async_client.py::test_context_managed_transport_and_mount[trio] PASSED [ 40%]
tests/client/test_async_client.py::test_client_closed_state_using_implicit_open[asyncio] PASSED [ 40%]
tests/client/test_async_client.py::test_client_closed_state_using_implicit_open[trio] PASSED [ 40%]
tests/client/test_async_client.py::test_client_closed_state_using_with_block[asyncio] PASSED [ 41%]
tests/client/test_async_client.py::test_client_closed_state_using_with_block[trio] PASSED [ 41%]
tests/client/test_async_client.py::test_mounted_transport[asyncio] PASSED [ 41%]
tests/client/test_async_client.py::test_mounted_transport[trio] PASSED   [ 41%]
tests/client/test_async_client.py::test_async_mock_transport[asyncio] PASSED [ 41%]
tests/client/test_async_client.py::test_async_mock_transport[trio] PASSED [ 41%]
tests/client/test_async_client.py::test_cancellation_during_stream[asyncio] PASSED [ 41%]
tests/client/test_async_client.py::test_cancellation_during_stream[trio] PASSED [ 42%]
tests/client/test_async_client.py::test_server_extensions[asyncio] PASSED [ 42%]
tests/client/test_async_client.py::test_server_extensions[trio] PASSED   [ 42%]
tests/client/test_auth.py::test_basic_auth PASSED                        [ 42%]
tests/client/test_auth.py::test_basic_auth_with_stream PASSED            [ 42%]
tests/client/test_auth.py::test_basic_auth_in_url PASSED                 [ 42%]
tests/client/test_auth.py::test_basic_auth_on_session PASSED             [ 42%]
tests/client/test_auth.py::test_custom_auth PASSED                       [ 43%]
tests/client/test_auth.py::test_netrc_auth PASSED                        [ 43%]
tests/client/test_auth.py::test_auth_header_has_priority_over_netrc PASSED [ 43%]
tests/client/test_auth.py::test_trust_env_auth PASSED                    [ 43%]
tests/client/test_auth.py::test_auth_disable_per_request PASSED          [ 43%]
tests/client/test_auth.py::test_auth_hidden_url PASSED                   [ 43%]
tests/client/test_auth.py::test_auth_hidden_header PASSED                [ 43%]
tests/client/test_auth.py::test_auth_property PASSED                     [ 44%]
tests/client/test_auth.py::test_auth_invalid_type PASSED                 [ 44%]
tests/client/test_auth.py::test_digest_auth_returns_no_auth_if_no_digest_header_in_response PASSED [ 44%]
tests/client/test_auth.py::test_digest_auth_returns_no_auth_if_alternate_auth_scheme PASSED [ 44%]
tests/client/test_auth.py::test_digest_auth_200_response_including_digest_auth_header PASSED [ 44%]
tests/client/test_auth.py::test_digest_auth_401_response_without_digest_auth_header PASSED [ 44%]
tests/client/test_auth.py::test_digest_auth[MD5-64-32] PASSED            [ 44%]
tests/client/test_auth.py::test_digest_auth[MD5-SESS-64-32] PASSED       [ 45%]
tests/client/test_auth.py::test_digest_auth[SHA-64-40] PASSED            [ 45%]
tests/client/test_auth.py::test_digest_auth[SHA-SESS-64-40] PASSED       [ 45%]
tests/client/test_auth.py::test_digest_auth[SHA-256-64-64] PASSED        [ 45%]
tests/client/test_auth.py::test_digest_auth[SHA-256-SESS-64-64] PASSED   [ 45%]
tests/client/test_auth.py::test_digest_auth[SHA-512-64-128] PASSED       [ 45%]
tests/client/test_auth.py::test_digest_auth[SHA-512-SESS-64-128] PASSED  [ 45%]
tests/client/test_auth.py::test_digest_auth_no_specified_qop PASSED      [ 46%]
tests/client/test_auth.py::test_digest_auth_qop_including_spaces_and_auth_returns_auth[auth, auth-int] PASSED [ 46%]
tests/client/test_auth.py::test_digest_auth_qop_including_spaces_and_auth_returns_auth[auth,auth-int] PASSED [ 46%]
tests/client/test_auth.py::test_digest_auth_qop_including_spaces_and_auth_returns_auth[unknown,auth] PASSED [ 46%]
tests/client/test_auth.py::test_digest_auth_qop_auth_int_not_implemented PASSED [ 46%]
tests/client/test_auth.py::test_digest_auth_qop_must_be_auth_or_auth_int PASSED [ 46%]
tests/client/test_auth.py::test_digest_auth_incorrect_credentials PASSED [ 46%]
tests/client/test_auth.py::test_async_digest_auth_raises_protocol_error_on_malformed_header[Digest realm="httpx@example.org", qop="auth"] PASSED [ 47%]
tests/client/test_auth.py::test_async_digest_auth_raises_protocol_error_on_malformed_header[Digest realm="httpx@example.org", qop="auth,au] PASSED [ 47%]
tests/client/test_auth.py::test_sync_digest_auth_raises_protocol_error_on_malformed_header[Digest realm="httpx@example.org", qop="auth"] PASSED [ 47%]
tests/client/test_auth.py::test_sync_digest_auth_raises_protocol_error_on_malformed_header[Digest realm="httpx@example.org", qop="auth,au] PASSED [ 47%]
tests/client/test_auth.py::test_async_auth_history PASSED                [ 47%]
tests/client/test_auth.py::test_sync_auth_history PASSED                 [ 47%]
tests/client/test_auth.py::test_digest_auth_unavailable_streaming_body PASSED [ 47%]
tests/client/test_auth.py::test_async_auth_reads_response_body PASSED    [ 48%]
tests/client/test_auth.py::test_sync_auth_reads_response_body PASSED     [ 48%]
tests/client/test_auth.py::test_async_auth PASSED                        [ 48%]
tests/client/test_auth.py::test_sync_auth PASSED                         [ 48%]
tests/client/test_client.py::test_get PASSED                             [ 48%]
tests/client/test_client.py::test_get_invalid_url[scheme-not-http(s)] PASSED [ 48%]
tests/client/test_client.py::test_get_invalid_url[no-scheme] PASSED      [ 48%]
tests/client/test_client.py::test_get_invalid_url[no-host] PASSED        [ 49%]
tests/client/test_client.py::test_build_request PASSED                   [ 49%]
tests/client/test_client.py::test_build_post_request PASSED              [ 49%]
tests/client/test_client.py::test_post PASSED                            [ 49%]
tests/client/test_client.py::test_post_json PASSED                       [ 49%]
tests/client/test_client.py::test_stream_response PASSED                 [ 49%]
tests/client/test_client.py::test_stream_iterator PASSED                 [ 49%]
tests/client/test_client.py::test_raw_iterator PASSED                    [ 50%]
tests/client/test_client.py::test_cannot_stream_async_request PASSED     [ 50%]
tests/client/test_client.py::test_raise_for_status PASSED                [ 50%]
tests/client/test_client.py::test_options PASSED                         [ 50%]
tests/client/test_client.py::test_head PASSED                            [ 50%]
tests/client/test_client.py::test_put PASSED                             [ 50%]
tests/client/test_client.py::test_patch PASSED                           [ 50%]
tests/client/test_client.py::test_delete PASSED                          [ 50%]
tests/client/test_client.py::test_base_url PASSED                        [ 51%]
tests/client/test_client.py::test_merge_absolute_url PASSED              [ 51%]
tests/client/test_client.py::test_merge_relative_url PASSED              [ 51%]
tests/client/test_client.py::test_merge_relative_url_with_path PASSED    [ 51%]
tests/client/test_client.py::test_merge_relative_url_with_dotted_path PASSED [ 51%]
tests/client/test_client.py::test_merge_relative_url_with_path_including_colon PASSED [ 51%]
tests/client/test_client.py::test_merge_relative_url_with_encoded_slashes PASSED [ 51%]
tests/client/test_client.py::test_context_managed_transport PASSED       [ 52%]
tests/client/test_client.py::test_context_managed_transport_and_mount PASSED [ 52%]
tests/client/test_client.py::test_client_closed_state_using_implicit_open PASSED [ 52%]
tests/client/test_client.py::test_client_closed_state_using_with_block PASSED [ 52%]
tests/client/test_client.py::test_raw_client_header PASSED               [ 52%]
tests/client/test_client.py::test_mounted_transport PASSED               [ 52%]
tests/client/test_client.py::test_all_mounted_transport PASSED           [ 52%]
tests/client/test_client.py::test_server_extensions PASSED               [ 53%]
tests/client/test_client.py::test_client_decode_text_using_autodetect PASSED [ 53%]
tests/client/test_client.py::test_client_decode_text_using_explicit_encoding PASSED [ 53%]
tests/client/test_cookies.py::test_set_cookie PASSED                     [ 53%]
tests/client/test_cookies.py::test_set_per_request_cookie_is_deprecated PASSED [ 53%]
tests/client/test_cookies.py::test_set_cookie_with_cookiejar PASSED      [ 53%]
tests/client/test_cookies.py::test_setting_client_cookies_to_cookiejar PASSED [ 53%]
tests/client/test_cookies.py::test_set_cookie_with_cookies_model PASSED  [ 54%]
tests/client/test_cookies.py::test_get_cookie PASSED                     [ 54%]
tests/client/test_cookies.py::test_cookie_persistence PASSED             [ 54%]
tests/client/test_event_hooks.py::test_event_hooks PASSED                [ 54%]
tests/client/test_event_hooks.py::test_event_hooks_raising_exception PASSED [ 54%]
tests/client/test_event_hooks.py::test_async_event_hooks[asyncio] PASSED [ 54%]
tests/client/test_event_hooks.py::test_async_event_hooks[trio] PASSED    [ 54%]
tests/client/test_event_hooks.py::test_async_event_hooks_raising_exception[asyncio] PASSED [ 55%]
tests/client/test_event_hooks.py::test_async_event_hooks_raising_exception[trio] PASSED [ 55%]
tests/client/test_event_hooks.py::test_event_hooks_with_redirect PASSED  [ 55%]
tests/client/test_event_hooks.py::test_async_event_hooks_with_redirect[asyncio] PASSED [ 55%]
tests/client/test_event_hooks.py::test_async_event_hooks_with_redirect[trio] PASSED [ 55%]
tests/client/test_headers.py::test_client_header PASSED                  [ 55%]
tests/client/test_headers.py::test_header_merge PASSED                   [ 55%]
tests/client/test_headers.py::test_header_merge_conflicting_headers PASSED [ 56%]
tests/client/test_headers.py::test_header_update PASSED                  [ 56%]
tests/client/test_headers.py::test_header_repeated_items PASSED          [ 56%]
tests/client/test_headers.py::test_header_repeated_multi_items PASSED    [ 56%]
tests/client/test_headers.py::test_remove_default_header PASSED          [ 56%]
tests/client/test_headers.py::test_header_does_not_exist PASSED          [ 56%]
tests/client/test_headers.py::test_host_with_auth_and_port_in_url PASSED [ 56%]
tests/client/test_headers.py::test_host_with_non_default_port_in_url PASSED [ 57%]
tests/client/test_headers.py::test_request_auto_headers PASSED           [ 57%]
tests/client/test_properties.py::test_client_base_url PASSED             [ 57%]
tests/client/test_properties.py::test_client_base_url_without_trailing_slash PASSED [ 57%]
tests/client/test_properties.py::test_client_base_url_with_trailing_slash PASSED [ 57%]
tests/client/test_properties.py::test_client_headers PASSED              [ 57%]
tests/client/test_properties.py::test_client_cookies PASSED              [ 57%]
tests/client/test_properties.py::test_client_timeout PASSED              [ 58%]
tests/client/test_properties.py::test_client_event_hooks PASSED          [ 58%]
tests/client/test_proxies.py::test_proxies_parameter[http://127.0.0.1-expected_proxies0] PASSED [ 58%]
tests/client/test_proxies.py::test_proxies_parameter[proxies1-expected_proxies1] PASSED [ 58%]
tests/client/test_proxies.py::test_proxies_parameter[proxies2-expected_proxies2] PASSED [ 58%]
tests/client/test_proxies.py::test_proxies_parameter[proxies3-expected_proxies3] PASSED [ 58%]
tests/client/test_proxies.py::test_proxies_parameter[proxies4-expected_proxies4] PASSED [ 58%]
tests/client/test_proxies.py::test_socks_proxy PASSED                    [ 59%]
tests/client/test_proxies.py::test_transport_for_request[http://example.com-None-None] PASSED [ 59%]
tests/client/test_proxies.py::test_transport_for_request[http://example.com-proxies1-None] PASSED [ 59%]
tests/client/test_proxies.py::test_transport_for_request[http://example.com-proxies2-None] PASSED [ 59%]
tests/client/test_proxies.py::test_transport_for_request[http://example.com-proxies3-None] PASSED [ 59%]
tests/client/test_proxies.py::test_transport_for_request[http://example.com-proxies4-http://[::1]] PASSED [ 59%]
tests/client/test_proxies.py::test_transport_for_request[https://example.com-proxies5-None] PASSED [ 59%]
tests/client/test_proxies.py::test_transport_for_request[http://example.com-proxies6-http://[::1]] PASSED [ 60%]
tests/client/test_proxies.py::test_transport_for_request[http://www.example.com-proxies7-None] PASSED [ 60%]
tests/client/test_proxies.py::test_transport_for_request[http://example.com-proxies8-None] PASSED [ 60%]
tests/client/test_proxies.py::test_transport_for_request[http://www.example.com-proxies9-http://[::1]] PASSED [ 60%]
tests/client/test_proxies.py::test_transport_for_request[http://example.com-proxies10-http://[::1]] PASSED [ 60%]
tests/client/test_proxies.py::test_transport_for_request[http://www.example.com-proxies11-http://[::1]] PASSED [ 60%]
tests/client/test_proxies.py::test_transport_for_request[http://wwwexample.com-proxies12-None] PASSED [ 60%]
tests/client/test_proxies.py::test_transport_for_request[http://example.com:443-proxies13-http://[::1]] PASSED [ 61%]
tests/client/test_proxies.py::test_transport_for_request[http://example.com-proxies14-http://[::1]] PASSED [ 61%]
tests/client/test_proxies.py::test_transport_for_request[http://example.com-proxies15-None] PASSED [ 61%]
tests/client/test_proxies.py::test_transport_for_request[http://example.com-proxies16-http://[::1]] PASSED [ 61%]
tests/client/test_proxies.py::test_transport_for_request[http://example.com-proxies17-http://[::1]] PASSED [ 61%]
tests/client/test_proxies.py::test_transport_for_request[http://example.com-proxies18-http://[::1]] PASSED [ 61%]
tests/client/test_proxies.py::test_transport_for_request[http://example.com-proxies19-http://[::1]] PASSED [ 61%]
tests/client/test_proxies.py::test_transport_for_request[http://example.com:8080-proxies20-http://[::1]] PASSED [ 62%]
tests/client/test_proxies.py::test_transport_for_request[http://example.com:8080-proxies21-http://[::1]] PASSED [ 62%]
tests/client/test_proxies.py::test_transport_for_request[http://example.com-proxies22-http://[::1]:4] PASSED [ 62%]
tests/client/test_proxies.py::test_transport_for_request[http://example.com-proxies23-http://[::1]:3] PASSED [ 62%]
tests/client/test_proxies.py::test_transport_for_request[http://example.com-proxies24-http://[::1]:2] PASSED [ 62%]
tests/client/test_proxies.py::test_async_proxy_close PASSED              [ 62%]
tests/client/test_proxies.py::test_sync_proxy_close PASSED               [ 62%]
tests/client/test_proxies.py::test_unsupported_proxy_scheme PASSED       [ 63%]
tests/client/test_proxies.py::test_proxies_environ[Client-http://google.com-env0-None] PASSED [ 63%]
tests/client/test_proxies.py::test_proxies_environ[Client-http://google.com-env1-http://example.com] PASSED [ 63%]
tests/client/test_proxies.py::test_proxies_environ[Client-http://google.com-env2-http://example.com] PASSED [ 63%]
tests/client/test_proxies.py::test_proxies_environ[Client-http://google.com-env3-None] PASSED [ 63%]
tests/client/test_proxies.py::test_proxies_environ[Client-http://127.0.0.1-env4-http://localhost:123] PASSED [ 63%]
tests/client/test_proxies.py::test_proxies_environ[Client-http://127.0.0.1-env5-None] PASSED [ 63%]
tests/client/test_proxies.py::test_proxies_environ[Client-http://127.0.0.1-env6-http://localhost:123] PASSED [ 64%]
tests/client/test_proxies.py::test_proxies_environ[Client-http://127.0.0.1-env7-http://localhost:123] PASSED [ 64%]
tests/client/test_proxies.py::test_proxies_environ[Client-http://courses.mit.edu-env8-None] PASSED [ 64%]
tests/client/test_proxies.py::test_proxies_environ[Client-https://mit.edu.info-env9-http://localhost:123] PASSED [ 64%]
tests/client/test_proxies.py::test_proxies_environ[Client-https://mit.edu.info-env10-None] PASSED [ 64%]
tests/client/test_proxies.py::test_proxies_environ[Client-https://mit.edu.info-env11-None] PASSED [ 64%]
tests/client/test_proxies.py::test_proxies_environ[Client-https://mit.edu.info-env12-http://localhost:123] PASSED [ 64%]
tests/client/test_proxies.py::test_proxies_environ[Client-https://foo.example.com-env13-http://localhost:123] PASSED [ 65%]
tests/client/test_proxies.py::test_proxies_environ[Client-https://www.example1.com-env14-None] PASSED [ 65%]
tests/client/test_proxies.py::test_proxies_environ[Client-https://www.example2.com-env15-http://localhost:123] PASSED [ 65%]
tests/client/test_proxies.py::test_proxies_environ[Client-https://www.example3.com-env16-None] PASSED [ 65%]
tests/client/test_proxies.py::test_proxies_environ[AsyncClient-http://google.com-env0-None] PASSED [ 65%]
tests/client/test_proxies.py::test_proxies_environ[AsyncClient-http://google.com-env1-http://example.com] PASSED [ 65%]
tests/client/test_proxies.py::test_proxies_environ[AsyncClient-http://google.com-env2-http://example.com] PASSED [ 65%]
tests/client/test_proxies.py::test_proxies_environ[AsyncClient-http://google.com-env3-None] PASSED [ 66%]
tests/client/test_proxies.py::test_proxies_environ[AsyncClient-http://127.0.0.1-env4-http://localhost:123] PASSED [ 66%]
tests/client/test_proxies.py::test_proxies_environ[AsyncClient-http://127.0.0.1-env5-None] PASSED [ 66%]
tests/client/test_proxies.py::test_proxies_environ[AsyncClient-http://127.0.0.1-env6-http://localhost:123] PASSED [ 66%]
tests/client/test_proxies.py::test_proxies_environ[AsyncClient-http://127.0.0.1-env7-http://localhost:123] PASSED [ 66%]
tests/client/test_proxies.py::test_proxies_environ[AsyncClient-http://courses.mit.edu-env8-None] PASSED [ 66%]
tests/client/test_proxies.py::test_proxies_environ[AsyncClient-https://mit.edu.info-env9-http://localhost:123] PASSED [ 66%]
tests/client/test_proxies.py::test_proxies_environ[AsyncClient-https://mit.edu.info-env10-None] PASSED [ 67%]
tests/client/test_proxies.py::test_proxies_environ[AsyncClient-https://mit.edu.info-env11-None] PASSED [ 67%]
tests/client/test_proxies.py::test_proxies_environ[AsyncClient-https://mit.edu.info-env12-http://localhost:123] PASSED [ 67%]
tests/client/test_proxies.py::test_proxies_environ[AsyncClient-https://foo.example.com-env13-http://localhost:123] PASSED [ 67%]
tests/client/test_proxies.py::test_proxies_environ[AsyncClient-https://www.example1.com-env14-None] PASSED [ 67%]
tests/client/test_proxies.py::test_proxies_environ[AsyncClient-https://www.example2.com-env15-http://localhost:123] PASSED [ 67%]
tests/client/test_proxies.py::test_proxies_environ[AsyncClient-https://www.example3.com-env16-None] PASSED [ 67%]
tests/client/test_proxies.py::test_for_deprecated_proxy_params[proxies0-False] PASSED [ 68%]
tests/client/test_proxies.py::test_for_deprecated_proxy_params[proxies1-False] PASSED [ 68%]
tests/client/test_proxies.py::test_for_deprecated_proxy_params[proxies2-False] PASSED [ 68%]
tests/client/test_proxies.py::test_for_deprecated_proxy_params[proxies3-True] PASSED [ 68%]
tests/client/test_proxies.py::test_for_deprecated_proxy_params[proxies4-True] PASSED [ 68%]
tests/client/test_proxies.py::test_for_deprecated_proxy_params[proxies5-True] PASSED [ 68%]
tests/client/test_queryparams.py::test_client_queryparams PASSED         [ 68%]
tests/client/test_queryparams.py::test_client_queryparams_string PASSED  [ 69%]
tests/client/test_queryparams.py::test_client_queryparams_echo PASSED    [ 69%]
tests/client/test_redirects.py::test_redirect_301 PASSED                 [ 69%]
tests/client/test_redirects.py::test_redirect_302 PASSED                 [ 69%]
tests/client/test_redirects.py::test_redirect_303 PASSED                 [ 69%]
tests/client/test_redirects.py::test_next_request PASSED                 [ 69%]
tests/client/test_redirects.py::test_async_next_request[asyncio] PASSED  [ 69%]
tests/client/test_redirects.py::test_async_next_request[trio] PASSED     [ 70%]
tests/client/test_redirects.py::test_head_redirect PASSED                [ 70%]
tests/client/test_redirects.py::test_relative_redirect PASSED            [ 70%]
tests/client/test_redirects.py::test_malformed_redirect PASSED           [ 70%]
tests/client/test_redirects.py::test_invalid_redirect PASSED             [ 70%]
tests/client/test_redirects.py::test_no_scheme_redirect PASSED           [ 70%]
tests/client/test_redirects.py::test_fragment_redirect PASSED            [ 70%]
tests/client/test_redirects.py::test_multiple_redirects PASSED           [ 71%]
tests/client/test_redirects.py::test_async_too_many_redirects[asyncio] PASSED [ 71%]
tests/client/test_redirects.py::test_async_too_many_redirects[trio] PASSED [ 71%]
tests/client/test_redirects.py::test_sync_too_many_redirects PASSED      [ 71%]
tests/client/test_redirects.py::test_redirect_loop PASSED                [ 71%]
tests/client/test_redirects.py::test_cross_domain_redirect_with_auth_header PASSED [ 71%]
tests/client/test_redirects.py::test_cross_domain_https_redirect_with_auth_header PASSED [ 71%]
tests/client/test_redirects.py::test_cross_domain_redirect_with_auth PASSED [ 72%]
tests/client/test_redirects.py::test_same_domain_redirect PASSED         [ 72%]
tests/client/test_redirects.py::test_same_domain_https_redirect_with_auth_header PASSED [ 72%]
tests/client/test_redirects.py::test_body_redirect PASSED                [ 72%]
tests/client/test_redirects.py::test_no_body_redirect PASSED             [ 72%]
tests/client/test_redirects.py::test_can_stream_if_no_redirect PASSED    [ 72%]
tests/client/test_redirects.py::test_cannot_redirect_streaming_body PASSED [ 72%]
tests/client/test_redirects.py::test_cross_subdomain_redirect PASSED     [ 73%]
tests/client/test_redirects.py::test_redirect_cookie_behavior PASSED     [ 73%]
tests/client/test_redirects.py::test_redirect_custom_scheme PASSED       [ 73%]
tests/client/test_redirects.py::test_async_invalid_redirect[asyncio] PASSED [ 73%]
tests/client/test_redirects.py::test_async_invalid_redirect[trio] PASSED [ 73%]
tests/models/test_cookies.py::test_cookies PASSED                        [ 73%]
tests/models/test_cookies.py::test_cookies_update PASSED                 [ 73%]
tests/models/test_cookies.py::test_cookies_with_domain PASSED            [ 74%]
tests/models/test_cookies.py::test_cookies_with_domain_and_path PASSED   [ 74%]
tests/models/test_cookies.py::test_multiple_set_cookie PASSED            [ 74%]
tests/models/test_cookies.py::test_cookies_can_be_a_list_of_tuples PASSED [ 74%]
tests/models/test_cookies.py::test_cookies_repr PASSED                   [ 74%]
tests/models/test_headers.py::test_headers PASSED                        [ 74%]
tests/models/test_headers.py::test_header_mutations PASSED               [ 74%]
tests/models/test_headers.py::test_copy_headers_method PASSED            [ 75%]
tests/models/test_headers.py::test_copy_headers_init PASSED              [ 75%]
tests/models/test_headers.py::test_headers_insert_retains_ordering PASSED [ 75%]
tests/models/test_headers.py::test_headers_insert_appends_if_new PASSED  [ 75%]
tests/models/test_headers.py::test_headers_insert_removes_all_existing PASSED [ 75%]
tests/models/test_headers.py::test_headers_delete_removes_all_existing PASSED [ 75%]
tests/models/test_headers.py::test_headers_dict_repr PASSED              [ 75%]
tests/models/test_headers.py::test_headers_encoding_in_repr PASSED       [ 75%]
tests/models/test_headers.py::test_headers_list_repr PASSED              [ 76%]
tests/models/test_headers.py::test_headers_decode_ascii PASSED           [ 76%]
tests/models/test_headers.py::test_headers_decode_utf_8 PASSED           [ 76%]
tests/models/test_headers.py::test_headers_decode_iso_8859_1 PASSED      [ 76%]
tests/models/test_headers.py::test_headers_decode_explicit_encoding PASSED [ 76%]
tests/models/test_headers.py::test_multiple_headers PASSED               [ 76%]
tests/models/test_headers.py::test_sensitive_headers[authorization] PASSED [ 76%]
tests/models/test_headers.py::test_sensitive_headers[proxy-authorization] PASSED [ 77%]
tests/models/test_queryparams.py::test_queryparams[a=123&a=456&b=789] PASSED [ 77%]
tests/models/test_queryparams.py::test_queryparams[source1] PASSED       [ 77%]
tests/models/test_queryparams.py::test_queryparams[source2] PASSED       [ 77%]
tests/models/test_queryparams.py::test_queryparams[source3] PASSED       [ 77%]
tests/models/test_queryparams.py::test_queryparams[source4] PASSED       [ 77%]
tests/models/test_queryparams.py::test_queryparam_types PASSED           [ 77%]
tests/models/test_queryparams.py::test_empty_query_params PASSED         [ 78%]
tests/models/test_queryparams.py::test_queryparam_update_is_hard_deprecated PASSED [ 78%]
tests/models/test_queryparams.py::test_queryparam_setter_is_hard_deprecated PASSED [ 78%]
tests/models/test_queryparams.py::test_queryparam_set PASSED             [ 78%]
tests/models/test_queryparams.py::test_queryparam_add PASSED             [ 78%]
tests/models/test_queryparams.py::test_queryparam_remove PASSED          [ 78%]
tests/models/test_queryparams.py::test_queryparam_merge PASSED           [ 78%]
tests/models/test_queryparams.py::test_queryparams_are_hashable PASSED   [ 79%]
tests/models/test_requests.py::test_request_repr PASSED                  [ 79%]
tests/models/test_requests.py::test_no_content PASSED                    [ 79%]
tests/models/test_requests.py::test_content_length_header PASSED         [ 79%]
tests/models/test_requests.py::test_iterable_content PASSED              [ 79%]
tests/models/test_requests.py::test_generator_with_transfer_encoding_header PASSED [ 79%]
tests/models/test_requests.py::test_generator_with_content_length_header PASSED [ 79%]
tests/models/test_requests.py::test_url_encoded_data PASSED              [ 80%]
tests/models/test_requests.py::test_json_encoded_data PASSED             [ 80%]
tests/models/test_requests.py::test_headers PASSED                       [ 80%]
tests/models/test_requests.py::test_read_and_stream_data PASSED          [ 80%]
tests/models/test_requests.py::test_aread_and_stream_data PASSED         [ 80%]
tests/models/test_requests.py::test_cannot_access_streaming_content_without_read PASSED [ 80%]
tests/models/test_requests.py::test_transfer_encoding_header PASSED      [ 80%]
tests/models/test_requests.py::test_ignore_transfer_encoding_header_if_content_length_exists PASSED [ 81%]
tests/models/test_requests.py::test_override_host_header PASSED          [ 81%]
tests/models/test_requests.py::test_override_accept_encoding_header PASSED [ 81%]
tests/models/test_requests.py::test_override_content_length_header PASSED [ 81%]
tests/models/test_requests.py::test_url PASSED                           [ 81%]
tests/models/test_requests.py::test_request_picklable PASSED             [ 81%]
tests/models/test_requests.py::test_request_async_streaming_content_picklable PASSED [ 81%]
tests/models/test_requests.py::test_request_generator_content_picklable PASSED [ 82%]
tests/models/test_responses.py::test_response PASSED                     [ 82%]
tests/models/test_responses.py::test_response_content PASSED             [ 82%]
tests/models/test_responses.py::test_response_text PASSED                [ 82%]
tests/models/test_responses.py::test_response_html PASSED                [ 82%]
tests/models/test_responses.py::test_response_json PASSED                [ 82%]
tests/models/test_responses.py::test_raise_for_status PASSED             [ 82%]
tests/models/test_responses.py::test_response_repr PASSED                [ 83%]
tests/models/test_responses.py::test_response_content_type_encoding PASSED [ 83%]
tests/models/test_responses.py::test_response_default_to_utf8_encoding PASSED [ 83%]
tests/models/test_responses.py::test_response_fallback_to_utf8_encoding PASSED [ 83%]
tests/models/test_responses.py::test_response_no_charset_with_ascii_content PASSED [ 83%]
tests/models/test_responses.py::test_response_no_charset_with_utf8_content PASSED [ 83%]
tests/models/test_responses.py::test_response_no_charset_with_iso_8859_1_content PASSED [ 83%]
tests/models/test_responses.py::test_response_no_charset_with_cp_1252_content PASSED [ 84%]
tests/models/test_responses.py::test_response_non_text_encoding PASSED   [ 84%]
tests/models/test_responses.py::test_response_set_explicit_encoding PASSED [ 84%]
tests/models/test_responses.py::test_response_force_encoding PASSED      [ 84%]
tests/models/test_responses.py::test_read PASSED                         [ 84%]
tests/models/test_responses.py::test_empty_read PASSED                   [ 84%]
tests/models/test_responses.py::test_aread PASSED                        [ 84%]
tests/models/test_responses.py::test_empty_aread PASSED                  [ 85%]
tests/models/test_responses.py::test_iter_raw PASSED                     [ 85%]
tests/models/test_responses.py::test_iter_raw_with_chunksize PASSED      [ 85%]
tests/models/test_responses.py::test_iter_raw_doesnt_return_empty_chunks PASSED [ 85%]
tests/models/test_responses.py::test_iter_raw_on_iterable PASSED         [ 85%]
tests/models/test_responses.py::test_iter_raw_on_async PASSED            [ 85%]
tests/models/test_responses.py::test_close_on_async PASSED               [ 85%]
tests/models/test_responses.py::test_iter_raw_increments_updates_counter PASSED [ 86%]
tests/models/test_responses.py::test_aiter_raw PASSED                    [ 86%]
tests/models/test_responses.py::test_aiter_raw_with_chunksize PASSED     [ 86%]
tests/models/test_responses.py::test_aiter_raw_on_sync PASSED            [ 86%]
tests/models/test_responses.py::test_aclose_on_sync PASSED               [ 86%]
tests/models/test_responses.py::test_aiter_raw_increments_updates_counter PASSED [ 86%]
tests/models/test_responses.py::test_iter_bytes PASSED                   [ 86%]
tests/models/test_responses.py::test_iter_bytes_with_chunk_size PASSED   [ 87%]
tests/models/test_responses.py::test_iter_bytes_with_empty_response PASSED [ 87%]
tests/models/test_responses.py::test_iter_bytes_doesnt_return_empty_chunks PASSED [ 87%]
tests/models/test_responses.py::test_aiter_bytes PASSED                  [ 87%]
tests/models/test_responses.py::test_aiter_bytes_with_chunk_size PASSED  [ 87%]
tests/models/test_responses.py::test_iter_text PASSED                    [ 87%]
tests/models/test_responses.py::test_iter_text_with_chunk_size PASSED    [ 87%]
tests/models/test_responses.py::test_aiter_text PASSED                   [ 88%]
tests/models/test_responses.py::test_aiter_text_with_chunk_size PASSED   [ 88%]
tests/models/test_responses.py::test_iter_lines PASSED                   [ 88%]
tests/models/test_responses.py::test_aiter_lines PASSED                  [ 88%]
tests/models/test_responses.py::test_sync_streaming_response PASSED      [ 88%]
tests/models/test_responses.py::test_async_streaming_response PASSED     [ 88%]
tests/models/test_responses.py::test_cannot_read_after_stream_consumed PASSED [ 88%]
tests/models/test_responses.py::test_cannot_aread_after_stream_consumed PASSED [ 89%]
tests/models/test_responses.py::test_cannot_read_after_response_closed PASSED [ 89%]
tests/models/test_responses.py::test_cannot_aread_after_response_closed PASSED [ 89%]
tests/models/test_responses.py::test_elapsed_not_available_until_closed PASSED [ 89%]
tests/models/test_responses.py::test_unknown_status_code PASSED          [ 89%]
tests/models/test_responses.py::test_json_with_specified_encoding PASSED [ 89%]
tests/models/test_responses.py::test_json_with_options PASSED            [ 89%]
tests/models/test_responses.py::test_json_without_specified_charset[utf-8] PASSED [ 90%]
tests/models/test_responses.py::test_json_without_specified_charset[utf-8-sig] PASSED [ 90%]
tests/models/test_responses.py::test_json_without_specified_charset[utf-16] PASSED [ 90%]
tests/models/test_responses.py::test_json_without_specified_charset[utf-16-be] PASSED [ 90%]
tests/models/test_responses.py::test_json_without_specified_charset[utf-16-le] PASSED [ 90%]
tests/models/test_responses.py::test_json_without_specified_charset[utf-32] PASSED [ 90%]
tests/models/test_responses.py::test_json_without_specified_charset[utf-32-be] PASSED [ 90%]
tests/models/test_responses.py::test_json_without_specified_charset[utf-32-le] PASSED [ 91%]
tests/models/test_responses.py::test_json_with_specified_charset[utf-8] PASSED [ 91%]
tests/models/test_responses.py::test_json_with_specified_charset[utf-8-sig] PASSED [ 91%]
tests/models/test_responses.py::test_json_with_specified_charset[utf-16] PASSED [ 91%]
tests/models/test_responses.py::test_json_with_specified_charset[utf-16-be] PASSED [ 91%]
tests/models/test_responses.py::test_json_with_specified_charset[utf-16-le] PASSED [ 91%]
tests/models/test_responses.py::test_json_with_specified_charset[utf-32] PASSED [ 91%]
tests/models/test_responses.py::test_json_with_specified_charset[utf-32-be] PASSED [ 92%]
tests/models/test_responses.py::test_json_with_specified_charset[utf-32-le] PASSED [ 92%]
tests/models/test_responses.py::test_link_headers[headers0-expected0] PASSED [ 92%]
tests/models/test_responses.py::test_link_headers[headers1-expected1] PASSED [ 92%]
tests/models/test_responses.py::test_decode_error_with_request[deflate] PASSED [ 92%]
tests/models/test_responses.py::test_decode_error_with_request[gzip] PASSED [ 92%]
tests/models/test_responses.py::test_decode_error_with_request[br] PASSED [ 92%]
tests/models/test_responses.py::test_value_error_without_request[deflate] PASSED [ 93%]
tests/models/test_responses.py::test_value_error_without_request[gzip] PASSED [ 93%]
tests/models/test_responses.py::test_value_error_without_request[br] PASSED [ 93%]
tests/models/test_responses.py::test_response_with_unset_request PASSED  [ 93%]
tests/models/test_responses.py::test_set_request_after_init PASSED       [ 93%]
tests/models/test_responses.py::test_cannot_access_unset_request PASSED  [ 93%]
tests/models/test_responses.py::test_generator_with_transfer_encoding_header PASSED [ 93%]
tests/models/test_responses.py::test_generator_with_content_length_header PASSED [ 94%]
tests/models/test_responses.py::test_response_picklable PASSED           [ 94%]
tests/models/test_responses.py::test_response_async_streaming_picklable PASSED [ 94%]
tests/models/test_responses.py::test_response_decode_text_using_autodetect PASSED [ 94%]
tests/models/test_responses.py::test_response_decode_text_using_explicit_encoding PASSED [ 94%]
tests/models/test_url.py::test_idna_url[http_with_port] PASSED           [ 94%]
tests/models/test_url.py::test_idna_url[unicode_tr46_compat] PASSED      [ 94%]
tests/models/test_url.py::test_idna_url[https_without_port] PASSED       [ 95%]
tests/models/test_url.py::test_idna_url[https_with_port] PASSED          [ 95%]
tests/models/test_url.py::test_idna_url[http_with_custom_port] PASSED    [ 95%]
tests/models/test_url.py::test_idna_url[https_with_custom_port] PASSED   [ 95%]
tests/models/test_url.py::test_url PASSED                                [ 95%]
tests/models/test_url.py::test_url_eq_str PASSED                         [ 95%]
tests/models/test_url.py::test_url_params PASSED                         [ 95%]
tests/models/test_url.py::test_url_join PASSED                           [ 96%]
tests/models/test_url.py::test_url_set_param_manipulation PASSED         [ 96%]
tests/models/test_url.py::test_url_add_param_manipulation PASSED         [ 96%]
tests/models/test_url.py::test_url_remove_param_manipulation PASSED      [ 96%]
tests/models/test_url.py::test_url_merge_params_manipulation PASSED      [ 96%]
tests/models/test_url.py::test_relative_url_join PASSED                  [ 96%]
tests/models/test_url.py::test_url_join_rfc3986 PASSED                   [ 96%]
tests/models/test_url.py::test_url_set PASSED                            [ 97%]
tests/models/test_url.py::test_url_copywith_authority_subcomponents PASSED [ 97%]
tests/models/test_url.py::test_url_copywith_netloc PASSED                [ 97%]
tests/models/test_url.py::test_url_copywith_userinfo_subcomponents PASSED [ 97%]
tests/models/test_url.py::test_url_copywith_invalid_component PASSED     [ 97%]
tests/models/test_url.py::test_url_copywith_urlencoded_path PASSED       [ 97%]
tests/models/test_url.py::test_url_copywith_query PASSED                 [ 97%]
tests/models/test_url.py::test_url_copywith_raw_path PASSED              [ 98%]
tests/models/test_url.py::test_url_copywith_security PASSED              [ 98%]
tests/models/test_url.py::test_url_invalid PASSED                        [ 98%]
tests/models/test_url.py::test_url_invalid_type PASSED                   [ 98%]
tests/models/test_url.py::test_url_with_empty_query PASSED               [ 98%]
tests/models/test_url.py::test_url_with_url_encoded_path PASSED          [ 98%]
tests/models/test_url.py::test_ipv6_url PASSED                           [ 98%]
tests/models/test_url.py::test_ipv6_url_copy_with_host[[::ffff:192.168.0.1]-http://127.0.0.1:1234] PASSED [ 99%]
tests/models/test_url.py::test_ipv6_url_copy_with_host[[::ffff:192.168.0.1]-http://example.com:1234] PASSED [ 99%]
tests/models/test_url.py::test_ipv6_url_copy_with_host[[::ffff:192.168.0.1]-http://[::ffff:127.0.0.1]:1234] PASSED [ 99%]
tests/models/test_url.py::test_ipv6_url_copy_with_host[::ffff:192.168.0.1-http://127.0.0.1:1234] PASSED [ 99%]
tests/models/test_url.py::test_ipv6_url_copy_with_host[::ffff:192.168.0.1-http://example.com:1234] PASSED [ 99%]
tests/models/test_url.py::test_ipv6_url_copy_with_host[::ffff:192.168.0.1-http://[::ffff:127.0.0.1]:1234] PASSED [ 99%]
tests/models/test_url.py::test_ipv6_url_from_raw_url[[::ffff:192.168.0.1]] PASSED [ 99%]
tests/models/test_url.py::test_ipv6_url_from_raw_url[::ffff:192.168.0.1] PASSED [100%]

- generated xml file: /workdir/results/httpx/0.23.1/1/cpython-test-results.xml -
============================= 704 passed in 6.20s ==============================
___________________________________ summary ____________________________________
  cpythonlibtest-unit-test-tests: commands succeeded
  congratulations :)
