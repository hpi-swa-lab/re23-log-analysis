GLOB sdist-make: /workdir/wheel-0.38.4/setup.py
graalpylibtest-unit-test-tests create: /workdir/wheel-0.38.4/.tox/graalpylibtest-unit-test-tests
graalpylibtest-unit-test-tests installdeps: mock, pytest
graalpylibtest-unit-test-tests inst: /workdir/wheel-0.38.4/.tox/.tmp/package/1/wheel-0.38.4.zip
graalpylibtest-unit-test-tests installed: exceptiongroup==1.2.0,graalpy-virtualenv==0.0.1,hpy==0.9.0rc2,iniconfig==2.0.0,mock==5.1.0,packaging==23.2,pluggy==1.3.0,pytest==7.4.3,tomli==2.0.1
graalpylibtest-unit-test-tests run-test-pre: PYTHONHASHSEED='1139304094'
graalpylibtest-unit-test-tests run-test: commands[0] | pytest -v --tb=native --junitxml /workdir/results/wheel/0.38.4/1/graalpy-test-results.xml
============================= test session starts ==============================
platform linux -- Python 3.10.8, pytest-7.4.3, pluggy-1.3.0 -- /workdir/wheel-0.38.4/.tox/graalpylibtest-unit-test-tests/bin/python
cachedir: .tox/graalpylibtest-unit-test-tests/.pytest_cache
rootdir: /workdir/wheel-0.38.4
configfile: setup.cfg
testpaths: tests
collecting ... collected 70 items

tests/test_bdist_wheel.py::test_no_scripts PASSED                        [  1%]
tests/test_bdist_wheel.py::test_unicode_record PASSED                    [  2%]
tests/test_bdist_wheel.py::test_preserve_unicode_metadata PASSED         [  4%]
tests/test_bdist_wheel.py::test_licenses_default PASSED                  [  5%]
tests/test_bdist_wheel.py::test_licenses_deprecated PASSED               [  7%]
tests/test_bdist_wheel.py::test_licenses_override[setup.cfg-[metadata]\nlicense_files=licenses/*\n  LICENSE] PASSED [  8%]
tests/test_bdist_wheel.py::test_licenses_override[setup.cfg-[metadata]\nlicense_files=licenses/*, LICENSE] PASSED [ 10%]
tests/test_bdist_wheel.py::test_licenses_override[setup.py-from setuptools import setup\n\nsetup(\n    name='dummy_dist',\n    version='1.0',\n  license_files=['licenses/DUMMYFILE', 'LICENSE'])\n] PASSED [ 11%]
tests/test_bdist_wheel.py::test_licenses_disabled PASSED                 [ 12%]
tests/test_bdist_wheel.py::test_build_number PASSED                      [ 14%]
tests/test_bdist_wheel.py::test_limited_abi PASSED                       [ 15%]
tests/test_bdist_wheel.py::test_build_from_readonly_tree PASSED          [ 17%]
tests/test_bdist_wheel.py::test_compression[stored] PASSED               [ 18%]
tests/test_bdist_wheel.py::test_compression[deflated] PASSED             [ 20%]
tests/test_bdist_wheel.py::test_wheelfile_line_endings PASSED            [ 21%]
tests/test_bdist_wheel.py::test_unix_epoch_timestamps PASSED             [ 22%]
tests/test_bdist_wheel.py::test_get_abi_tag_old PASSED                   [ 24%]
tests/test_bdist_wheel.py::test_get_abi_tag_new PASSED                   [ 25%]
tests/test_macosx_libfile.py::test_read_from_dylib PASSED                [ 27%]
tests/test_macosx_libfile.py::TestGetPlatformMacosx::test_simple PASSED  [ 28%]
tests/test_macosx_libfile.py::TestGetPlatformMacosx::test_version_bump PASSED [ 30%]
tests/test_macosx_libfile.py::TestGetPlatformMacosx::test_information_about_problematic_files_python_version PASSED [ 31%]
tests/test_macosx_libfile.py::TestGetPlatformMacosx::test_information_about_problematic_files_env_variable PASSED [ 32%]
tests/test_macosx_libfile.py::TestGetPlatformMacosx::test_bump_platform_tag_by_env_variable PASSED [ 34%]
tests/test_macosx_libfile.py::TestGetPlatformMacosx::test_bugfix_release_platform_tag PASSED [ 35%]
tests/test_macosx_libfile.py::TestGetPlatformMacosx::test_warning_on_to_low_env_variable PASSED [ 37%]
tests/test_macosx_libfile.py::TestGetPlatformMacosx::test_get_platform_bigsur_env PASSED [ 38%]
tests/test_macosx_libfile.py::TestGetPlatformMacosx::test_get_platform_bigsur_platform PASSED [ 40%]
tests/test_macosx_libfile.py::test_get_platform_linux FAILED             [ 41%]
tests/test_metadata.py::test_pkginfo_to_metadata PASSED                  [ 42%]
tests/test_tagopt.py::test_nocompile_skips[temp_pkg0] SKIPPED (Canno...) [ 44%]
tests/test_tagopt.py::test_default_tag PASSED                            [ 45%]
tests/test_tagopt.py::test_build_number PASSED                           [ 47%]
tests/test_tagopt.py::test_explicit_tag PASSED                           [ 48%]
tests/test_tagopt.py::test_universal_tag PASSED                          [ 50%]
tests/test_tagopt.py::test_universal_beats_explicit_tag PASSED           [ 51%]
tests/test_tagopt.py::test_universal_in_setup_cfg PASSED                 [ 52%]
tests/test_tagopt.py::test_pythontag_in_setup_cfg PASSED                 [ 54%]
tests/test_tagopt.py::test_legacy_wheel_section_in_setup_cfg PASSED      [ 55%]
tests/test_tagopt.py::test_plat_name_purepy PASSED                       [ 57%]
tests/test_tagopt.py::test_plat_name_ext[temp_pkg0] PASSED               [ 58%]
tests/test_tagopt.py::test_plat_name_purepy_in_setupcfg PASSED           [ 60%]
tests/test_tagopt.py::test_plat_name_ext_in_setupcfg[temp_pkg0] PASSED   [ 61%]
tests/test_wheelfile.py::test_wheelfile_re[foo-2-py3-none-any.whl] PASSED [ 62%]
tests/test_wheelfile.py::test_wheelfile_re[foo-2-py2.py3-none-manylinux_2_17_x86_64.manylinux2014_x86_64.whl] PASSED [ 64%]
tests/test_wheelfile.py::test_bad_wheel_filename[test.whl] PASSED        [ 65%]
tests/test_wheelfile.py::test_bad_wheel_filename[test-1.0.whl] PASSED    [ 67%]
tests/test_wheelfile.py::test_bad_wheel_filename[test-1.0-py2.whl] PASSED [ 68%]
tests/test_wheelfile.py::test_bad_wheel_filename[test-1.0-py2-none.whl] PASSED [ 70%]
tests/test_wheelfile.py::test_bad_wheel_filename[test-1.0-py2-none-any] PASSED [ 71%]
tests/test_wheelfile.py::test_bad_wheel_filename[test-1.0-py 2-none-any.whl] PASSED [ 72%]
tests/test_wheelfile.py::test_missing_record PASSED                      [ 74%]
tests/test_wheelfile.py::test_unsupported_hash_algorithm PASSED          [ 75%]
tests/test_wheelfile.py::test_weak_hash_algorithm[md5] PASSED            [ 77%]
tests/test_wheelfile.py::test_weak_hash_algorithm[sha1] PASSED           [ 78%]
tests/test_wheelfile.py::test_testzip[sha256] PASSED                     [ 80%]
tests/test_wheelfile.py::test_testzip[sha384] PASSED                     [ 81%]
tests/test_wheelfile.py::test_testzip[sha512] PASSED                     [ 82%]
tests/test_wheelfile.py::test_testzip_missing_hash PASSED                [ 84%]
tests/test_wheelfile.py::test_testzip_bad_hash PASSED                    [ 85%]
tests/test_wheelfile.py::test_write_str PASSED                           [ 87%]
tests/test_wheelfile.py::test_timestamp PASSED                           [ 88%]
tests/test_wheelfile.py::test_attributes PASSED                          [ 90%]
tests/cli/test_convert.py::test_egg_re PASSED                            [ 91%]
tests/cli/test_convert.py::test_convert_egg PASSED                       [ 92%]
tests/cli/test_pack.py::test_pack[nobuildnum] PASSED                     [ 94%]
tests/cli/test_pack.py::test_pack[newbuildarg] PASSED                    [ 95%]
tests/cli/test_pack.py::test_pack[oldbuildnum] PASSED                    [ 97%]
tests/cli/test_pack.py::test_pack[erasebuildnum] PASSED                  [ 98%]
tests/cli/test_unpack.py::test_unpack PASSED                             [100%]

=================================== FAILURES ===================================
___________________________ test_get_platform_linux ____________________________
Traceback (most recent call last):
  File "/workdir/wheel-0.38.4/.tox/graalpylibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 341, in from_call
    result: Optional[TResult] = func()
  File "/workdir/wheel-0.38.4/.tox/graalpylibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 262, in <lambda>
    lambda: ihook(item=item, **kwds), when=when, reraise=reraise
  File "/workdir/wheel-0.38.4/.tox/graalpylibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/wheel-0.38.4/.tox/graalpylibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/wheel-0.38.4/.tox/graalpylibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 152, in _multicall
    return outcome.get_result()
  File "/workdir/wheel-0.38.4/.tox/graalpylibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_result.py", line 114, in get_result
    raise exc.with_traceback(exc.__traceback__)
  File "/workdir/wheel-0.38.4/.tox/graalpylibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/wheel-0.38.4/.tox/graalpylibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 177, in pytest_runtest_call
    raise e
  File "/workdir/wheel-0.38.4/.tox/graalpylibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 169, in pytest_runtest_call
    item.runtest()
  File "/workdir/wheel-0.38.4/.tox/graalpylibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 1792, in runtest
    self.ihook.pytest_pyfunc_call(pyfuncitem=self)
  File "/workdir/wheel-0.38.4/.tox/graalpylibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/wheel-0.38.4/.tox/graalpylibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/wheel-0.38.4/.tox/graalpylibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 113, in _multicall
    raise exception.with_traceback(exception.__traceback__)
  File "/workdir/wheel-0.38.4/.tox/graalpylibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/wheel-0.38.4/.tox/graalpylibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 194, in pytest_pyfunc_call
    result = testfunction(**testargs)
  File "/workdir/wheel-0.38.4/tests/test_macosx_libfile.py", line 220, in test_get_platform_linux
    assert get_platform(None) == "linux_i686"
AssertionError
=============================== warnings summary ===============================
<frozen importlib._bootstrap>:241
  <frozen importlib._bootstrap>:241: DeprecationWarning: The distutils package is deprecated and slated for removal in Python 3.12. Use setuptools or check PEP 632 for potential alternatives

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
- generated xml file: /workdir/results/wheel/0.38.4/1/graalpy-test-results.xml -
=========================== short test summary info ============================
FAILED tests/test_macosx_libfile.py::test_get_platform_linux - AssertionError
======== 1 failed, 68 passed, 1 skipped, 1 warning in 137.85s (0:02:17) ========
ERROR: InvocationError for command /workdir/wheel-0.38.4/.tox/graalpylibtest-unit-test-tests/bin/pytest -v --tb=native --junitxml /workdir/results/wheel/0.38.4/1/graalpy-test-results.xml (exited with code 1)
___________________________________ summary ____________________________________
ERROR:   graalpylibtest-unit-test-tests: commands failed
