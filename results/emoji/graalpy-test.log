GLOB sdist-make: /workdir/emoji-2.2.0/setup.py
graalpylibtest-unit-test-tests create: /workdir/emoji-2.2.0/.tox/graalpylibtest-unit-test-tests
graalpylibtest-unit-test-tests installdeps: mock, pytest, -rutils/requirements.txt, -rutils/gh-pages/requirements.txt
graalpylibtest-unit-test-tests inst: /workdir/emoji-2.2.0/.tox/.tmp/package/1/emoji-2.2.0.zip
graalpylibtest-unit-test-tests installed: asgiref==3.7.2,beautifulsoup4==4.12.2,certifi==2023.11.17,charset-normalizer==3.1.0,Django==4.2.7,django-htmlmin==0.11.0,emoji @ file:///workdir/emoji-2.2.0/.tox/.tmp/package/1/emoji-2.2.0.zip,exceptiongroup==1.1.3,graalpy-virtualenv==0.0.1,hpy==0.9.0rc2,html5lib==1.1,idna==3.4,iniconfig==2.0.0,mock==5.1.0,packaging==23.2,pluggy==1.3.0,pytest==7.4.3,requests==2.31.0,six==1.16.0,soupsieve==2.5,sqlparse==0.4.4,tomli==2.0.1,typing_extensions==4.8.0,urllib3==2.1.0,webencodings==0.5.1
graalpylibtest-unit-test-tests run-test-pre: PYTHONHASHSEED='1871012280'
graalpylibtest-unit-test-tests run-test: commands[0] | pytest -v --tb=native --junitxml /workdir/results/emoji/2.2.0/1/graalpy-test-results.xml
============================= test session starts ==============================
platform linux -- Python 3.10.8, pytest-7.4.3, pluggy-1.3.0 -- /workdir/emoji-2.2.0/.tox/graalpylibtest-unit-test-tests/bin/python
cachedir: .tox/graalpylibtest-unit-test-tests/.pytest_cache
rootdir: /workdir/emoji-2.2.0
collecting ... collected 38 items

tests/test_core.py::test_emojize_name_only PASSED                        [  2%]
tests/test_core.py::test_regular_expression_minimal PASSED               [  5%]
tests/test_core.py::test_emojize_complicated_string PASSED               [  7%]
tests/test_core.py::test_emojize_languages PASSED                        [ 10%]
tests/test_core.py::test_demojize_languages PASSED                       [ 13%]
tests/test_core.py::test_emojize_variant PASSED                          [ 15%]
tests/test_core.py::test_demojize_removes_variant PASSED                 [ 18%]
tests/test_core.py::test_emojize_invalid_emoji PASSED                    [ 21%]
tests/test_core.py::test_emojize_version FAILED                          [ 23%]
tests/test_core.py::test_alias PASSED                                    [ 26%]
tests/test_core.py::test_invalid_alias PASSED                            [ 28%]
tests/test_core.py::test_demojize_name_only PASSED                       [ 31%]
tests/test_core.py::test_demojize_complicated_string PASSED              [ 34%]
tests/test_core.py::test_demojize_delimiters FAILED                      [ 36%]
tests/test_core.py::test_emoji_list PASSED                               [ 39%]
tests/test_core.py::test_distinct_emoji_list PASSED                      [ 42%]
tests/test_core.py::test_emoji_count PASSED                              [ 44%]
tests/test_core.py::test_replace_emoji PASSED                            [ 47%]
tests/test_core.py::test_is_emoji PASSED                                 [ 50%]
tests/test_core.py::test_long_emoji PASSED                               [ 52%]
tests/test_core.py::test_untranslated PASSED                             [ 55%]
tests/test_core.py::test_text PASSED                                     [ 57%]
tests/test_core.py::test_text_multiple_times PASSED                      [ 60%]
tests/test_core.py::test_invalid_chars PASSED                            [ 63%]
tests/test_core.py::test_combine_with_component PASSED                   [ 65%]
tests/test_dict.py::test_all_languages_list PASSED                       [ 68%]
tests/test_dict.py::test_emoji_versions PASSED                           [ 71%]
tests/test_dict.py::test_duplicate_names PASSED                          [ 73%]
tests/test_dict.py::test_name_valid PASSED                               [ 76%]
tests/test_nfkc.py::test_database_normalized PASSED                      [ 78%]
tests/test_nfkc.py::test_normalized_and_not_normalized PASSED            [ 81%]
tests/test_unicode_codes.py::test_emoji_english_names PASSED             [ 84%]
tests/test_unicode_codes.py::test_compare_normal_and_aliases PASSED      [ 86%]
tests/test_unicode_codes.py::test_no_alias_duplicates PASSED             [ 89%]
tests/test_versions.py::test_emoji_versions_complete_emojize PASSED      [ 92%]
tests/test_versions.py::test_emoji_versions_complete_demojize PASSED     [ 94%]
tests/test_versions.py::test_method_version PASSED                       [ 97%]
tests/test_versions.py::test_method_replace_version PASSED               [100%]

=================================== FAILURES ===================================
_____________________________ test_emojize_version _____________________________
Traceback (most recent call last):
  File "/workdir/emoji-2.2.0/.tox/graalpylibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 341, in from_call
    result: Optional[TResult] = func()
  File "/workdir/emoji-2.2.0/.tox/graalpylibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 262, in <lambda>
    lambda: ihook(item=item, **kwds), when=when, reraise=reraise
  File "/workdir/emoji-2.2.0/.tox/graalpylibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/emoji-2.2.0/.tox/graalpylibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/emoji-2.2.0/.tox/graalpylibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 152, in _multicall
    return outcome.get_result()
  File "/workdir/emoji-2.2.0/.tox/graalpylibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_result.py", line 114, in get_result
    raise exc.with_traceback(exc.__traceback__)
  File "/workdir/emoji-2.2.0/.tox/graalpylibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/emoji-2.2.0/.tox/graalpylibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 177, in pytest_runtest_call
    raise e
  File "/workdir/emoji-2.2.0/.tox/graalpylibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 169, in pytest_runtest_call
    item.runtest()
  File "/workdir/emoji-2.2.0/.tox/graalpylibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 1792, in runtest
    self.ihook.pytest_pyfunc_call(pyfuncitem=self)
  File "/workdir/emoji-2.2.0/.tox/graalpylibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/emoji-2.2.0/.tox/graalpylibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/emoji-2.2.0/.tox/graalpylibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 113, in _multicall
    raise exception.with_traceback(exception.__traceback__)
  File "/workdir/emoji-2.2.0/.tox/graalpylibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/emoji-2.2.0/.tox/graalpylibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 194, in pytest_pyfunc_call
    result = testfunction(**testargs)
  File "/workdir/emoji-2.2.0/tests/test_core.py", line 213, in test_emojize_version
    assert emoji.emojize(':bowl_with_spoon:', version=-
  File "/workdir/emoji-2.2.0/emoji/core.py", line 127, in emojize
    return pattern.sub(replace, string)
TypeError: sequence item 1: expected str instance, NoneType found
___________________________ test_demojize_delimiters ___________________________
Traceback (most recent call last):
  File "/workdir/emoji-2.2.0/.tox/graalpylibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 341, in from_call
    result: Optional[TResult] = func()
  File "/workdir/emoji-2.2.0/.tox/graalpylibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 262, in <lambda>
    lambda: ihook(item=item, **kwds), when=when, reraise=reraise
  File "/workdir/emoji-2.2.0/.tox/graalpylibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/emoji-2.2.0/.tox/graalpylibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/emoji-2.2.0/.tox/graalpylibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 152, in _multicall
    return outcome.get_result()
  File "/workdir/emoji-2.2.0/.tox/graalpylibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_result.py", line 114, in get_result
    raise exc.with_traceback(exc.__traceback__)
  File "/workdir/emoji-2.2.0/.tox/graalpylibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/emoji-2.2.0/.tox/graalpylibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 177, in pytest_runtest_call
    raise e
  File "/workdir/emoji-2.2.0/.tox/graalpylibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 169, in pytest_runtest_call
    item.runtest()
  File "/workdir/emoji-2.2.0/.tox/graalpylibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 1792, in runtest
    self.ihook.pytest_pyfunc_call(pyfuncitem=self)
  File "/workdir/emoji-2.2.0/.tox/graalpylibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/emoji-2.2.0/.tox/graalpylibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/emoji-2.2.0/.tox/graalpylibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 113, in _multicall
    raise exception.with_traceback(exception.__traceback__)
  File "/workdir/emoji-2.2.0/.tox/graalpylibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/emoji-2.2.0/.tox/graalpylibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 194, in pytest_pyfunc_call
    result = testfunction(**testargs)
  File "/workdir/emoji-2.2.0/tests/test_core.py", line 310, in test_demojize_delimiters
    assert emoji.emojize(demojized_text, delimiters=d) == text_with_unicode
AssertionError
----------------------------- Captured stdout call -----------------------------
delimiter: (':', ':')
delimiter: ('{', '}')
delimiter: ('!$', '$!')
delimiter: (':', '::')
delimiter: ('::', '::')
delimiter: ('😁', '👌')
- generated xml file: /workdir/results/emoji/2.2.0/1/graalpy-test-results.xml --
=========================== short test summary info ============================
FAILED tests/test_core.py::test_emojize_version - TypeError: sequence item 1:...
FAILED tests/test_core.py::test_demojize_delimiters - AssertionError
======================== 2 failed, 36 passed in 24.16s =========================
ERROR: InvocationError for command /workdir/emoji-2.2.0/.tox/graalpylibtest-unit-test-tests/bin/pytest -v --tb=native --junitxml /workdir/results/emoji/2.2.0/1/graalpy-test-results.xml (exited with code 1)
___________________________________ summary ____________________________________
ERROR:   graalpylibtest-unit-test-tests: commands failed
