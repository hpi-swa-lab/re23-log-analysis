GLOB sdist-make: /workdir/regex-2022.10.31/setup.py
graalpylibtest-unit-test-tests create: /workdir/regex-2022.10.31/.tox/graalpylibtest-unit-test-tests
graalpylibtest-unit-test-tests installdeps: mock, pytest
graalpylibtest-unit-test-tests inst: /workdir/regex-2022.10.31/.tox/.tmp/package/1/regex-2022.10.31.zip
graalpylibtest-unit-test-tests installed: exceptiongroup==1.2.0,graalpy-virtualenv==0.0.1,hpy==0.9.0rc2,iniconfig==2.0.0,mock==5.1.0,packaging==23.2,pluggy==1.3.0,pytest==7.4.3,regex @ file:///workdir/regex-2022.10.31/.tox/.tmp/package/1/regex-2022.10.31.zip,tomli==2.0.1
graalpylibtest-unit-test-tests run-test-pre: PYTHONHASHSEED='1998602925'
graalpylibtest-unit-test-tests run-test: commands[0] | pytest -v --tb=native --junitxml /workdir/results/regex/2022.10.31/1/graalpy-test-results.xml
============================= test session starts ==============================
platform linux -- Python 3.10.8, pytest-7.4.3, pluggy-1.3.0 -- /workdir/regex-2022.10.31/.tox/graalpylibtest-unit-test-tests/bin/python
cachedir: .tox/graalpylibtest-unit-test-tests/.pytest_cache
rootdir: /workdir/regex-2022.10.31
collecting ... collected 101 items

regex_3/test_regex.py::RegexTests::test_anyall PASSED                    [  0%]
regex_3/test_regex.py::RegexTests::test_ascii_and_unicode_flag PASSED    [  1%]
regex_3/test_regex.py::RegexTests::test_atomic PASSED                    [  2%]
regex_3/test_regex.py::RegexTests::test_basic_regex_sub PASSED           [  3%]
regex_3/test_regex.py::RegexTests::test_bigcharset PASSED                [  4%]
regex_3/test_regex.py::RegexTests::test_branch_reset PASSED              [  5%]
regex_3/test_regex.py::RegexTests::test_bug_10328 PASSED                 [  6%]
regex_3/test_regex.py::RegexTests::test_bug_113254 PASSED                [  7%]
regex_3/test_regex.py::RegexTests::test_bug_114660 PASSED                [  8%]
regex_3/test_regex.py::RegexTests::test_bug_117612 PASSED                [  9%]
regex_3/test_regex.py::RegexTests::test_bug_14462 PASSED                 [ 10%]
regex_3/test_regex.py::RegexTests::test_bug_1661 PASSED                  [ 11%]
regex_3/test_regex.py::RegexTests::test_bug_3629 PASSED                  [ 12%]
regex_3/test_regex.py::RegexTests::test_bug_418626 PASSED                [ 13%]
regex_3/test_regex.py::RegexTests::test_bug_448951 PASSED                [ 14%]
regex_3/test_regex.py::RegexTests::test_bug_449000 PASSED                [ 15%]
regex_3/test_regex.py::RegexTests::test_bug_449964 PASSED                [ 16%]
regex_3/test_regex.py::RegexTests::test_bug_462270 PASSED                [ 17%]
regex_3/test_regex.py::RegexTests::test_bug_527371 PASSED                [ 18%]
regex_3/test_regex.py::RegexTests::test_bug_545855 PASSED                [ 19%]
regex_3/test_regex.py::RegexTests::test_bug_581080 PASSED                [ 20%]
regex_3/test_regex.py::RegexTests::test_bug_612074 PASSED                [ 21%]
regex_3/test_regex.py::RegexTests::test_bug_725106 PASSED                [ 22%]
regex_3/test_regex.py::RegexTests::test_bug_725149 PASSED                [ 23%]
regex_3/test_regex.py::RegexTests::test_bug_764548 PASSED                [ 24%]
regex_3/test_regex.py::RegexTests::test_bug_817234 PASSED                [ 25%]
regex_3/test_regex.py::RegexTests::test_bug_926075 PASSED                [ 26%]
regex_3/test_regex.py::RegexTests::test_bug_931848 PASSED                [ 27%]
regex_3/test_regex.py::RegexTests::test_bytes_str_mixing PASSED          [ 28%]
regex_3/test_regex.py::RegexTests::test_captures PASSED                  [ 29%]
regex_3/test_regex.py::RegexTests::test_case_folding PASSED              [ 30%]
regex_3/test_regex.py::RegexTests::test_category PASSED                  [ 31%]
regex_3/test_regex.py::RegexTests::test_common_prefix PASSED             [ 32%]
regex_3/test_regex.py::RegexTests::test_constants PASSED                 [ 33%]
regex_3/test_regex.py::RegexTests::test_copy PASSED                      [ 34%]
regex_3/test_regex.py::RegexTests::test_dollar_matches_twice PASSED      [ 35%]
regex_3/test_regex.py::RegexTests::test_empty_array FAILED               [ 36%]
regex_3/test_regex.py::RegexTests::test_expand PASSED                    [ 37%]
regex_3/test_regex.py::RegexTests::test_finditer PASSED                  [ 38%]
regex_3/test_regex.py::RegexTests::test_flags PASSED                     [ 39%]
regex_3/test_regex.py::RegexTests::test_format PASSED                    [ 40%]
regex_3/test_regex.py::RegexTests::test_fullmatch PASSED                 [ 41%]
regex_3/test_regex.py::RegexTests::test_fuzzy PASSED                     [ 42%]
regex_3/test_regex.py::RegexTests::test_fuzzy_ext PASSED                 [ 43%]
regex_3/test_regex.py::RegexTests::test_getattr PASSED                   [ 44%]
regex_3/test_regex.py::RegexTests::test_grapheme PASSED                  [ 45%]
regex_3/test_regex.py::RegexTests::test_groupdict PASSED                 [ 46%]
regex_3/test_regex.py::RegexTests::test_guards PASSED                    [ 47%]
regex_3/test_regex.py::RegexTests::test_hg_bugs PASSED                   [ 48%]
regex_3/test_regex.py::RegexTests::test_ignore_case PASSED               [ 49%]
regex_3/test_regex.py::RegexTests::test_inline_flags PASSED              [ 50%]
regex_3/test_regex.py::RegexTests::test_issue_18468 FAILED               [ 51%]
regex_3/test_regex.py::RegexTests::test_line_boundary PASSED             [ 52%]
regex_3/test_regex.py::RegexTests::test_lookbehind PASSED                [ 53%]
regex_3/test_regex.py::RegexTests::test_more_zerowidth PASSED            [ 54%]
regex_3/test_regex.py::RegexTests::test_named_lists PASSED               [ 55%]
regex_3/test_regex.py::RegexTests::test_new_named_groups PASSED          [ 56%]
regex_3/test_regex.py::RegexTests::test_non_consuming PASSED             [ 57%]
regex_3/test_regex.py::RegexTests::test_not_literal PASSED               [ 58%]
regex_3/test_regex.py::RegexTests::test_overlapped PASSED                [ 59%]
regex_3/test_regex.py::RegexTests::test_partial PASSED                   [ 60%]
regex_3/test_regex.py::RegexTests::test_possessive PASSED                [ 61%]
regex_3/test_regex.py::RegexTests::test_properties PASSED                [ 62%]
regex_3/test_regex.py::RegexTests::test_qualified_re_split PASSED        [ 63%]
regex_3/test_regex.py::RegexTests::test_qualified_re_sub PASSED          [ 64%]
regex_3/test_regex.py::RegexTests::test_re_escape PASSED                 [ 65%]
regex_3/test_regex.py::RegexTests::test_re_escape_byte PASSED            [ 66%]
regex_3/test_regex.py::RegexTests::test_re_findall PASSED                [ 67%]
regex_3/test_regex.py::RegexTests::test_re_groupref PASSED               [ 68%]
regex_3/test_regex.py::RegexTests::test_re_groupref_exists PASSED        [ 69%]
regex_3/test_regex.py::RegexTests::test_re_match PASSED                  [ 70%]
regex_3/test_regex.py::RegexTests::test_re_split PASSED                  [ 71%]
regex_3/test_regex.py::RegexTests::test_re_subn PASSED                   [ 72%]
regex_3/test_regex.py::RegexTests::test_recursive PASSED                 [ 73%]
regex_3/test_regex.py::RegexTests::test_repeat_minmax PASSED             [ 74%]
regex_3/test_regex.py::RegexTests::test_repeated_repeats PASSED          [ 75%]
regex_3/test_regex.py::RegexTests::test_replacement PASSED               [ 76%]
regex_3/test_regex.py::RegexTests::test_scanner PASSED                   [ 77%]
regex_3/test_regex.py::RegexTests::test_scoped_and_inline_flags PASSED   [ 78%]
regex_3/test_regex.py::RegexTests::test_search_anchor PASSED             [ 79%]
regex_3/test_regex.py::RegexTests::test_search_coverage PASSED           [ 80%]
regex_3/test_regex.py::RegexTests::test_search_reverse PASSED            [ 81%]
regex_3/test_regex.py::RegexTests::test_search_star_plus PASSED          [ 82%]
regex_3/test_regex.py::RegexTests::test_set PASSED                       [ 83%]
regex_3/test_regex.py::RegexTests::test_special_escapes PASSED           [ 84%]
regex_3/test_regex.py::RegexTests::test_splititer PASSED                 [ 85%]
regex_3/test_regex.py::RegexTests::test_sre_character_class_literals PASSED [ 86%]
regex_3/test_regex.py::RegexTests::test_sre_character_literals PASSED    [ 87%]
regex_3/test_regex.py::RegexTests::test_stack_overflow PASSED            [ 88%]
regex_3/test_regex.py::RegexTests::test_sub_template_numeric_escape PASSED [ 89%]
regex_3/test_regex.py::RegexTests::test_subscripted_captures PASSED      [ 90%]
regex_3/test_regex.py::RegexTests::test_subscripting_match PASSED        [ 91%]
regex_3/test_regex.py::RegexTests::test_symbolic_refs PASSED             [ 92%]
regex_3/test_regex.py::RegexTests::test_turkic PASSED                    [ 93%]
regex_3/test_regex.py::RegexTests::test_unmatched_in_sub PASSED          [ 94%]
regex_3/test_regex.py::RegexTests::test_various PASSED                   [ 95%]
regex_3/test_regex.py::RegexTests::test_weakref PASSED                   [ 96%]
regex_3/test_regex.py::RegexTests::test_word_boundary PASSED             [ 97%]
regex_3/test_regex.py::RegexTests::test_word_class PASSED                [ 98%]
regex_3/test_regex.py::RegexTests::test_zerowidth PASSED                 [ 99%]
regex_3/test_regex.py::test_main FAILED                                  [100%]

=================================== FAILURES ===================================
_________________________ RegexTests.test_empty_array __________________________
Traceback (most recent call last):
  File "/opt/graalpy/lib/python3.10/unittest/case.py", line 59, in testPartExecutor
    yield
  File "/opt/graalpy/lib/python3.10/unittest/case.py", line 591, in run
    self._callTestMethod(testMethod)
  File "/opt/graalpy/lib/python3.10/unittest/case.py", line 549, in _callTestMethod
    method()
  File "/workdir/regex-2022.10.31/regex_3/test_regex.py", line 888, in test_empty_array
    self.assertEqual(regex.compile(b"bla").match(a), None)
TypeError: expected string or buffer
_________________________ RegexTests.test_issue_18468 __________________________
Traceback (most recent call last):
  File "/opt/graalpy/lib/python3.10/unittest/case.py", line 59, in testPartExecutor
    yield
  File "/opt/graalpy/lib/python3.10/unittest/case.py", line 591, in run
    self._callTestMethod(testMethod)
  File "/opt/graalpy/lib/python3.10/unittest/case.py", line 549, in _callTestMethod
    method()
  File "/workdir/regex-2022.10.31/regex_3/test_regex.py", line 2981, in test_issue_18468
    self.assertTypedEqual(regex.split(":", string), ['', 'a', 'b', '',
  File "/workdir/regex-2022.10.31/regex_3/test_regex.py", line 57, in assertTypedEqual
    recurse(actual, expect)
  File "/workdir/regex-2022.10.31/regex_3/test_regex.py", line 53, in recurse
    recurse(x, y)
  File "/workdir/regex-2022.10.31/regex_3/test_regex.py", line 55, in recurse
    self.assertIs(type(actual), type(expect), msg)
  File "/opt/graalpy/lib/python3.10/unittest/case.py", line 1126, in assertIs
    self.fail(self._formatMessage(msg, standardMsg))
  File "/opt/graalpy/lib/python3.10/unittest/case.py", line 675, in fail
    raise self.failureException(msg)
AssertionError: <class 'regex_3.test_regex.StrSubclass'> is not <class 'str'>
__________________________________ test_main ___________________________________
Traceback (most recent call last):
  File "/workdir/regex-2022.10.31/.tox/graalpylibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 341, in from_call
    result: Optional[TResult] = func()
  File "/workdir/regex-2022.10.31/.tox/graalpylibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 262, in <lambda>
    lambda: ihook(item=item, **kwds), when=when, reraise=reraise
  File "/workdir/regex-2022.10.31/.tox/graalpylibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/regex-2022.10.31/.tox/graalpylibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/regex-2022.10.31/.tox/graalpylibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 152, in _multicall
    return outcome.get_result()
  File "/workdir/regex-2022.10.31/.tox/graalpylibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_result.py", line 114, in get_result
    raise exc.with_traceback(exc.__traceback__)
  File "/workdir/regex-2022.10.31/.tox/graalpylibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/regex-2022.10.31/.tox/graalpylibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 169, in pytest_runtest_call
    item.runtest()
  File "/workdir/regex-2022.10.31/.tox/graalpylibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 1792, in runtest
    self.ihook.pytest_pyfunc_call(pyfuncitem=self)
  File "/workdir/regex-2022.10.31/.tox/graalpylibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/regex-2022.10.31/.tox/graalpylibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/regex-2022.10.31/.tox/graalpylibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 113, in _multicall
    raise exception.with_traceback(exception.__traceback__)
  File "/workdir/regex-2022.10.31/.tox/graalpylibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/regex-2022.10.31/.tox/graalpylibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 194, in pytest_pyfunc_call
    result = testfunction(**testargs)
  File "/workdir/regex-2022.10.31/regex_3/test_regex.py", line 4452, in test_main
    unittest.main(verbosity=2)
  File "/opt/graalpy/lib/python3.10/unittest/main.py", line 100, in __init__
    self.parseArgs(argv)
  File "/opt/graalpy/lib/python3.10/unittest/main.py", line 133, in parseArgs
    self._main_parser.parse_args(argv[1:], self)
  File "/opt/graalpy/lib/python3.10/argparse.py", line 1829, in parse_args
    self.error(msg % ' '.join(argv))
  File "/opt/graalpy/lib/python3.10/argparse.py", line 2583, in error
    self.exit(2, _('%(prog)s: error: %(message)s\n') % args)
  File "/opt/graalpy/lib/python3.10/argparse.py", line 2570, in exit
    _sys.exit(status)
SystemExit: 2
----------------------------- Captured stderr call -----------------------------
usage: pytest [-h] [-v] [-q] [--locals] [-f] [-c] [-b] [-k TESTNAMEPATTERNS]
              [tests ...]
pytest: error: unrecognized arguments: --tb=native --junitxml
- generated xml file: /workdir/results/regex/2022.10.31/1/graalpy-test-results.xml -
=========================== short test summary info ============================
FAILED regex_3/test_regex.py::RegexTests::test_empty_array - TypeError: expec...
FAILED regex_3/test_regex.py::RegexTests::test_issue_18468 - AssertionError: ...
FAILED regex_3/test_regex.py::test_main - SystemExit: 2
========================= 3 failed, 98 passed in 6.70s =========================
ERROR: InvocationError for command /workdir/regex-2022.10.31/.tox/graalpylibtest-unit-test-tests/bin/pytest -v --tb=native --junitxml /workdir/results/regex/2022.10.31/1/graalpy-test-results.xml (exited with code 1)
___________________________________ summary ____________________________________
ERROR:   graalpylibtest-unit-test-tests: commands failed
