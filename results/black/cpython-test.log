.package create: /workdir/black-22.10.0/.tox/.package
.package installdeps: hatchling>=1.8.0, hatch-vcs, hatch-fancy-pypi-readme
/workdir/black-22.10.0/.tox/.package/lib/python3.10/site-packages/setuptools_scm/git.py:163: UserWarning: "/workdir/black-22.10.0" is shallow and may cause errors
  warnings.warn(f'"{wd.path}" is shallow and may cause errors')
cpythonlibtest-unit-test-tests create: /workdir/black-22.10.0/.tox/cpythonlibtest-unit-test-tests
cpythonlibtest-unit-test-tests installdeps: mock, pytest, -rtest_requirements.txt
cpythonlibtest-unit-test-tests inst: /workdir/black-22.10.0/.tox/.tmp/package/1/black-22.10.0.tar.gz
cpythonlibtest-unit-test-tests installed: black @ file:///workdir/black-22.10.0/.tox/.tmp/package/1/black-22.10.0.tar.gz#sha256=7c02cd7b2aece24778ae01067f9fa9cfdca063033495a6fe07c160a33126cb90,cachetools==5.3.2,cfgv==3.4.0,chardet==5.2.0,click==8.1.7,colorama==0.4.6,coverage==7.3.2,distlib==0.3.7,exceptiongroup==1.1.3,execnet==2.0.2,filelock==3.13.1,identify==2.5.32,iniconfig==2.0.0,mock==5.1.0,mypy-extensions==1.0.0,nodeenv==1.8.0,packaging==23.2,pathspec==0.11.2,platformdirs==3.11.0,pluggy==1.3.0,pre-commit==3.5.0,pyproject-api==1.6.1,pytest==7.4.3,pytest-cov==4.1.0,pytest-xdist==3.4.0,PyYAML==6.0.1,tomli==2.0.1,tox==4.11.3,virtualenv==20.24.6
cpythonlibtest-unit-test-tests run-test-pre: PYTHONHASHSEED='1653103920'
cpythonlibtest-unit-test-tests run-test: commands[0] | pytest -v --tb=native --junitxml /workdir/results/black/22.10.0/1/cpython-test-results.xml
============================= test session starts ==============================
platform linux -- Python 3.10.8, pytest-7.4.3, pluggy-1.3.0 -- /workdir/black-22.10.0/.tox/cpythonlibtest-unit-test-tests/bin/python
cachedir: .tox/cpythonlibtest-unit-test-tests/.pytest_cache
rootdir: /workdir/black-22.10.0
configfile: pyproject.toml
plugins: xdist-3.4.0, cov-4.1.0
collecting ... collected 218 items / 1 error / 1 skipped

==================================== ERRORS ====================================
____________________ ERROR collecting tests/test_blackd.py _____________________
Traceback (most recent call last):
  File "/workdir/black-22.10.0/tests/test_blackd.py", line 11, in <module>
    from aiohttp import web
ModuleNotFoundError: No module named 'aiohttp'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/workdir/black-22.10.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 341, in from_call
    result: Optional[TResult] = func()
  File "/workdir/black-22.10.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 372, in <lambda>
    call = CallInfo.from_call(lambda: list(collector.collect()), "collect")
  File "/workdir/black-22.10.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 531, in collect
    self._inject_setup_module_fixture()
  File "/workdir/black-22.10.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 545, in _inject_setup_module_fixture
    self.obj, ("setUpModule", "setup_module")
  File "/workdir/black-22.10.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 310, in obj
    self._obj = obj = self._getobj()
  File "/workdir/black-22.10.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 528, in _getobj
    return self._importtestmodule()
  File "/workdir/black-22.10.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 617, in _importtestmodule
    mod = import_path(self.path, mode=importmode, root=self.config.rootpath)
  File "/workdir/black-22.10.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/pathlib.py", line 567, in import_path
    importlib.import_module(module_name)
  File "/usr/local/lib/python3.10/importlib/__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
  File "<frozen importlib._bootstrap>", line 1050, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1027, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1006, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 688, in _load_unlocked
  File "/workdir/black-22.10.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/assertion/rewrite.py", line 186, in exec_module
    exec(co, module.__dict__)
  File "/workdir/black-22.10.0/tests/test_blackd.py", line 16, in <module>
    raise RuntimeError("Please install Black with the 'd' extra") from e
RuntimeError: Please install Black with the 'd' extra
- generated xml file: /workdir/results/black/22.10.0/1/cpython-test-results.xml -
=========================== short test summary info ============================
ERROR tests/test_blackd.py - RuntimeError: Please install Black with the 'd' ...
!!!!!!!!!!!!!!!!!!!! Interrupted: 1 error during collection !!!!!!!!!!!!!!!!!!!!
========================= 1 skipped, 1 error in 0.34s ==========================
ERROR: InvocationError for command /workdir/black-22.10.0/.tox/cpythonlibtest-unit-test-tests/bin/pytest -v --tb=native --junitxml /workdir/results/black/22.10.0/1/cpython-test-results.xml (exited with code 2)
___________________________________ summary ____________________________________
ERROR:   cpythonlibtest-unit-test-tests: commands failed
