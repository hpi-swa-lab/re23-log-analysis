GLOB sdist-make: /workdir/aiorwlock-1.3.0/setup.py
graalpylibtest-unit-test-tests create: /workdir/aiorwlock-1.3.0/.tox/graalpylibtest-unit-test-tests
graalpylibtest-unit-test-tests installdeps: mock, pytest, -rrequirements-dev.txt
GLOB sdist-make: /workdir/aiorwlock-1.3.0/setup.py
graalpylibtest-unit-test-tests create: /workdir/aiorwlock-1.3.0/.tox/graalpylibtest-unit-test-tests
graalpylibtest-unit-test-tests installdeps: mock, pytest, -rrequirements-dev.txt
graalpylibtest-unit-test-tests inst: /workdir/aiorwlock-1.3.0/.tox/.tmp/package/1/aiorwlock-1.3.0.zip
graalpylibtest-unit-test-tests installed: aiorwlock @ file:///workdir/aiorwlock-1.3.0/.tox/.tmp/package/1/aiorwlock-1.3.0.zip,attrs==23.1.0,coverage==7.3.2,graalpy-virtualenv==0.0.1,hpy==0.9.0rc2,iniconfig==2.0.0,mock==5.1.0,packaging==23.2,pluggy==1.3.0,py==1.11.0,pytest==6.2.5,pytest-asyncio==0.17.2,pytest-cov==3.0.0,toml==0.10.2,tomli==2.0.1
graalpylibtest-unit-test-tests run-test-pre: PYTHONHASHSEED='2529463026'
graalpylibtest-unit-test-tests run-test: commands[0] | pytest -v --tb=native --junitxml /workdir/results/aiorwlock/1.3.0/1/graalpy-test-results.xml
============================= test session starts ==============================
platform linux -- Python 3.10.8, pytest-6.2.5, py-1.11.0, pluggy-1.3.0 -- /workdir/aiorwlock-1.3.0/.tox/graalpylibtest-unit-test-tests/bin/python
cachedir: .tox/graalpylibtest-unit-test-tests/.pytest_cache
rootdir: /workdir/aiorwlock-1.3.0, configfile: setup.cfg, testpaths: tests/
plugins: asyncio-0.17.2, cov-3.0.0
asyncio: mode=strict
collecting ... collected 45 items

tests/test_corner_cases.py::test_get_write_then_read PASSED              [  2%]
tests/test_corner_cases.py::test_get_write_then_read_and_write_again PASSED [  4%]
tests/test_corner_cases.py::test_writers_deadlock PASSED                 [  6%]
tests/test_corner_cases.py::test_readers_cancel PASSED                   [  8%]
tests/test_corner_cases.py::test_canceled_inside_acquire FAILED          [ 11%]
tests/test_corner_cases.py::test_race_multiple_writers PASSED            [ 13%]
tests/test_rwlock.py::test_ctor_loop_reader PASSED                       [ 15%]
tests/test_rwlock.py::test_ctor_noloop_reader PASSED                     [ 17%]
tests/test_rwlock.py::test_ctor_loop_writer PASSED                       [ 20%]
tests/test_rwlock.py::test_ctor_noloop_writer PASSED                     [ 22%]
tests/test_rwlock.py::test_repr PASSED                                   [ 24%]
tests/test_rwlock.py::test_release_unlocked PASSED                       [ 26%]
tests/test_rwlock.py::test_many_readers[fast] PASSED                     [ 28%]
tests/test_rwlock.py::test_reader_recursion[fast] PASSED                 [ 31%]
tests/test_rwlock.py::test_writer_recursion[fast] PASSED                 [ 33%]
tests/test_rwlock.py::test_writer_then_reader_recursion[fast] PASSED     [ 35%]
tests/test_rwlock.py::test_readers_writers[fast] PASSED                  [ 37%]
tests/test_rwlock.py::test_raise_error_on_with_for_reader_lock[fast] PASSED [ 40%]
tests/test_rwlock.py::test_raise_error_on_with_for_writer_lock[fast] PASSED [ 42%]
tests/test_rwlock.py::test_read_locked[fast] PASSED                      [ 44%]
tests/test_rwlock.py::test_write_locked[fast] PASSED                     [ 46%]
tests/test_rwlock.py::test_write_read_lock_multiple_tasks[fast] PASSED   [ 48%]
tests/test_rwlock.py::test_read_context_manager[fast] PASSED             [ 51%]
tests/test_rwlock.py::test_write_context_manager[fast] PASSED            [ 53%]
tests/test_rwlock.py::test_await_read_lock[fast] PASSED                  [ 55%]
tests/test_rwlock.py::test_await_write_lock[fast] PASSED                 [ 57%]
tests/test_rwlock.py::test_many_readers[slow] PASSED                     [ 60%]
tests/test_rwlock.py::test_reader_recursion[slow] PASSED                 [ 62%]
tests/test_rwlock.py::test_writer_recursion[slow] PASSED                 [ 64%]
tests/test_rwlock.py::test_writer_then_reader_recursion[slow] PASSED     [ 66%]
tests/test_rwlock.py::test_readers_writers[slow] PASSED                  [ 68%]
tests/test_rwlock.py::test_raise_error_on_with_for_reader_lock[slow] PASSED [ 71%]
tests/test_rwlock.py::test_raise_error_on_with_for_writer_lock[slow] PASSED [ 73%]
tests/test_rwlock.py::test_read_locked[slow] PASSED                      [ 75%]
tests/test_rwlock.py::test_write_locked[slow] PASSED                     [ 77%]
tests/test_rwlock.py::test_write_read_lock_multiple_tasks[slow] PASSED   [ 80%]
tests/test_rwlock.py::test_read_context_manager[slow] PASSED             [ 82%]
tests/test_rwlock.py::test_write_context_manager[slow] PASSED            [ 84%]
tests/test_rwlock.py::test_await_read_lock[slow] PASSED                  [ 86%]
tests/test_rwlock.py::test_await_write_lock[slow] PASSED                 [ 88%]
tests/test_rwlock.py::test_read_upgrade_write_release PASSED             [ 91%]
tests/test_rwlock.py::test_writer_recursion_fail PASSED                  [ 93%]
tests/test_rwlock.py::test_writer_success PASSED                         [ 95%]
tests/test_rwlock.py::test_writer_success_fast PASSED                    [ 97%]
tests/test_rwlock.py::test_writer_success_with_statement PASSED          [100%]

=================================== FAILURES ===================================
_________________________ test_canceled_inside_acquire _________________________
Traceback (most recent call last):
  File "/workdir/aiorwlock-1.3.0/tests/test_corner_cases.py", line 148, in test_canceled_inside_acquire
    await task
  File "/opt/graalpy/lib/python3.10/asyncio/futures.py", line 285, in __await__
    yield self  # This tells Task to wait for completion.
  File "/workdir/aiorwlock-1.3.0/tests/test_corner_cases.py", line 148, in test_canceled_inside_acquire
    await task
  File "/opt/graalpy/lib/python3.10/asyncio/tasks.py", line 304, in __wakeup
    future.result()
  File "/opt/graalpy/lib/python3.10/asyncio/futures.py", line 201, in result
    raise self._exception.with_traceback(self._exception_tb)
  File "/opt/graalpy/lib/python3.10/asyncio/tasks.py", line 234, in __step
    result = coro.throw(exc)
  File "/workdir/aiorwlock-1.3.0/tests/test_corner_cases.py", line 140, in coro
    async with lock:
  File "/workdir/aiorwlock-1.3.0/.tox/graalpylibtest-unit-test-tests/lib/python3.10/site-packages/aiorwlock/__init__.py", line 184, in __aexit__
    self.release()
  File "/workdir/aiorwlock-1.3.0/.tox/graalpylibtest-unit-test-tests/lib/python3.10/site-packages/aiorwlock/__init__.py", line 206, in release
    self._lock.release_read()
  File "/workdir/aiorwlock-1.3.0/.tox/graalpylibtest-unit-test-tests/lib/python3.10/site-packages/aiorwlock/__init__.py", line 125, in release_read
    self._release(self._RL)
  File "/workdir/aiorwlock-1.3.0/.tox/graalpylibtest-unit-test-tests/lib/python3.10/site-packages/aiorwlock/__init__.py", line 138, in _release
    raise RuntimeError('Cannot release an un-acquired lock')
RuntimeError: Cannot release an un-acquired lock
- generated xml file: /workdir/results/aiorwlock/1.3.0/1/graalpy-test-results.xml -
=========================== short test summary info ============================
FAILED tests/test_corner_cases.py::test_canceled_inside_acquire - RuntimeErro...
========================= 1 failed, 44 passed in 5.48s =========================
ERROR: InvocationError for command /workdir/aiorwlock-1.3.0/.tox/graalpylibtest-unit-test-tests/bin/pytest -v --tb=native --junitxml /workdir/results/aiorwlock/1.3.0/1/graalpy-test-results.xml (exited with code 1)
___________________________________ summary ____________________________________
ERROR:   graalpylibtest-unit-test-tests: commands failed
