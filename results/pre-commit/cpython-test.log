GLOB sdist-make: /workdir/pre-commit-2.20.0/setup.py
cpythonlibtest-unit-test-tests create: /workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests
cpythonlibtest-unit-test-tests installdeps: mock, pytest, -rrequirements-dev.txt
cpythonlibtest-unit-test-tests inst: /workdir/pre-commit-2.20.0/.tox/.tmp/package/1/pre_commit-2.20.0.zip
cpythonlibtest-unit-test-tests installed: cfgv==3.4.0,covdefaults==2.3.0,coverage==7.3.2,distlib==0.3.7,exceptiongroup==1.2.0,filelock==3.13.1,identify==2.5.32,iniconfig==2.0.0,mock==5.1.0,nodeenv==1.8.0,packaging==23.2,platformdirs==4.0.0,pluggy==1.3.0,pre-commit @ file:///workdir/pre-commit-2.20.0/.tox/.tmp/package/1/pre_commit-2.20.0.zip#sha256=883510479a20fe88f3e4f9ba2847fd68ed02e1e992a0697d98ffc62617457ee1,pytest==7.4.3,pytest-env==1.1.1,PyYAML==6.0.1,re-assert==1.1.0,regex==2023.10.3,toml==0.10.2,tomli==2.0.1,virtualenv==20.24.7
cpythonlibtest-unit-test-tests run-test-pre: PYTHONHASHSEED='4228712131'
cpythonlibtest-unit-test-tests run-test: commands[0] | pytest -v --tb=native --junitxml /workdir/results/pre-commit/2.20.0/1/cpython-test-results.xml
============================= test session starts ==============================
platform linux -- Python 3.10.8, pytest-7.4.3, pluggy-1.3.0 -- /workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/bin/python
cachedir: .tox/cpythonlibtest-unit-test-tests/.pytest_cache
rootdir: /workdir/pre-commit-2.20.0
configfile: tox.ini
plugins: env-1.1.1
collecting ... collected 726 items

tests/clientlib_test.py::test_check_type_tag_failures[definitely-not-a-tag] PASSED [  0%]
tests/clientlib_test.py::test_check_type_tag_failures[fiel] PASSED       [  0%]
tests/clientlib_test.py::test_check_type_tag_success PASSED              [  0%]
tests/clientlib_test.py::test_config_valid[config_obj0-True] PASSED      [  0%]
tests/clientlib_test.py::test_config_valid[config_obj1-True] PASSED      [  0%]
tests/clientlib_test.py::test_config_valid[config_obj2-False] PASSED     [  0%]
tests/clientlib_test.py::test_local_hooks_with_rev_fails PASSED          [  0%]
tests/clientlib_test.py::test_config_with_local_hooks_definition_passes PASSED [  1%]
tests/clientlib_test.py::test_config_schema_does_not_contain_defaults PASSED [  1%]
tests/clientlib_test.py::test_validate_manifest_main_ok PASSED           [  1%]
tests/clientlib_test.py::test_validate_config_main_ok PASSED             [  1%]
tests/clientlib_test.py::test_validate_config_old_list_format_ok PASSED  [  1%]
tests/clientlib_test.py::test_validate_warn_on_unknown_keys_at_repo_level PASSED [  1%]
tests/clientlib_test.py::test_validate_warn_on_unknown_keys_at_top_level PASSED [  1%]
tests/clientlib_test.py::test_ci_map_key_allowed_at_top_level PASSED     [  2%]
tests/clientlib_test.py::test_ci_key_must_be_map PASSED                  [  2%]
tests/clientlib_test.py::test_warn_mutable_rev_ok[v0.12.4] PASSED        [  2%]
tests/clientlib_test.py::test_warn_mutable_rev_ok[b27f281] PASSED        [  2%]
tests/clientlib_test.py::test_warn_mutable_rev_ok[b27f281eb9398fc8504415d7fbdabf119ea8c5e1] PASSED [  2%]
tests/clientlib_test.py::test_warn_mutable_rev_ok[19.10b0] PASSED        [  2%]
tests/clientlib_test.py::test_warn_mutable_rev_ok[4.3.21-2] PASSED       [  2%]
tests/clientlib_test.py::test_warn_mutable_rev_invalid[] PASSED          [  3%]
tests/clientlib_test.py::test_warn_mutable_rev_invalid[HEAD] PASSED      [  3%]
tests/clientlib_test.py::test_warn_mutable_rev_invalid[stable] PASSED    [  3%]
tests/clientlib_test.py::test_warn_mutable_rev_invalid[master] PASSED    [  3%]
tests/clientlib_test.py::test_warn_mutable_rev_invalid[some_branch_name] PASSED [  3%]
tests/clientlib_test.py::test_warn_mutable_rev_conditional PASSED        [  3%]
tests/clientlib_test.py::test_validate_optional_sensible_regex_at_hook[dir/*.py-The 'files' field in hook 'flake8' is a regex, not a glob -- matching '/*' probably isn't what you want here] PASSED [  3%]
tests/clientlib_test.py::test_validate_optional_sensible_regex_at_hook[dir[\\/].*\\.py-pre-commit normalizes slashes in the 'files' field in hook 'flake8' to forward slashes, so you can use / instead of [\\/]] PASSED [  3%]
tests/clientlib_test.py::test_validate_optional_sensible_regex_at_hook[dir[/\\\\].*\\.py-pre-commit normalizes slashes in the 'files' field in hook 'flake8' to forward slashes, so you can use / instead of [/\\\\]] PASSED [  4%]
tests/clientlib_test.py::test_validate_optional_sensible_regex_at_hook[dir[\\\\/].*\\.py-pre-commit normalizes slashes in the 'files' field in hook 'flake8' to forward slashes, so you can use / instead of [\\\\/]] PASSED [  4%]
tests/clientlib_test.py::test_validate_optional_sensible_regex_at_top_level[dir/*.py-The top-level 'files' field is a regex, not a glob -- matching '/*' probably isn't what you want here] PASSED [  4%]
tests/clientlib_test.py::test_validate_optional_sensible_regex_at_top_level[dir[\\/].*\\.py-pre-commit normalizes the slashes in the top-level 'files' field to forward slashes, so you can use / instead of [\\/]] PASSED [  4%]
tests/clientlib_test.py::test_validate_optional_sensible_regex_at_top_level[dir[/\\\\].*\\.py-pre-commit normalizes the slashes in the top-level 'files' field to forward slashes, so you can use / instead of [/\\\\]] PASSED [  4%]
tests/clientlib_test.py::test_validate_optional_sensible_regex_at_top_level[dir[\\\\/].*\\.py-pre-commit normalizes the slashes in the top-level 'files' field to forward slashes, so you can use / instead of [\\\\/]] PASSED [  4%]
tests/clientlib_test.py::test_mains_not_ok[validate_config_main] PASSED  [  4%]
tests/clientlib_test.py::test_mains_not_ok[validate_manifest_main] PASSED [  5%]
tests/clientlib_test.py::test_valid_manifests[manifest_obj0-True] PASSED [  5%]
tests/clientlib_test.py::test_valid_manifests[manifest_obj1-True] PASSED [  5%]
tests/clientlib_test.py::test_valid_manifests[manifest_obj2-True] PASSED [  5%]
tests/clientlib_test.py::test_migrate_sha_to_rev_ok[dct0] PASSED         [  5%]
tests/clientlib_test.py::test_migrate_sha_to_rev_ok[dct1] PASSED         [  5%]
tests/clientlib_test.py::test_migrate_sha_to_rev_ok[dct2] PASSED         [  5%]
tests/clientlib_test.py::test_migrate_sha_to_rev_ok[dct3] PASSED         [  6%]
tests/clientlib_test.py::test_migrate_sha_to_rev_dont_specify_both PASSED [  6%]
tests/clientlib_test.py::test_migrate_sha_to_rev_conditional_check_failures[dct0] PASSED [  6%]
tests/clientlib_test.py::test_migrate_sha_to_rev_conditional_check_failures[dct1] PASSED [  6%]
tests/clientlib_test.py::test_migrate_sha_to_rev_conditional_check_failures[dct2] PASSED [  6%]
tests/clientlib_test.py::test_migrate_to_sha_apply_default PASSED        [  6%]
tests/clientlib_test.py::test_migrate_to_sha_ok PASSED                   [  6%]
tests/clientlib_test.py::test_meta_hook_invalid[config_repo0] PASSED     [  7%]
tests/clientlib_test.py::test_meta_hook_invalid[config_repo1] PASSED     [  7%]
tests/clientlib_test.py::test_meta_hook_invalid[config_repo2] PASSED     [  7%]
tests/clientlib_test.py::test_meta_hook_invalid[cannot override entry for meta hooks] PASSED [  7%]
tests/clientlib_test.py::test_meta_check_hooks_apply_only_at_top_level PASSED [  7%]
tests/clientlib_test.py::test_default_language_version_invalid[mapping0] PASSED [  7%]
tests/clientlib_test.py::test_default_language_version_invalid[mapping1] PASSED [  7%]
tests/clientlib_test.py::test_minimum_pre_commit_version_failing PASSED  [  7%]
tests/clientlib_test.py::test_minimum_pre_commit_version_passing PASSED  [  8%]
tests/clientlib_test.py::test_warn_additional[schema0] PASSED            [  8%]
tests/clientlib_test.py::test_warn_additional[schema1] PASSED            [  8%]
tests/color_test.py::test_format_color[foo-\x1b[42m-True-\x1b[42mfoo\x1b[m] PASSED [  8%]
tests/color_test.py::test_format_color[foo-\x1b[42m-False-foo] PASSED    [  8%]
tests/color_test.py::test_use_color_never PASSED                         [  8%]
tests/color_test.py::test_use_color_always PASSED                        [  8%]
tests/color_test.py::test_use_color_no_tty PASSED                        [  9%]
tests/color_test.py::test_use_color_tty_with_color_support PASSED        [  9%]
tests/color_test.py::test_use_color_tty_without_color_support PASSED     [  9%]
tests/color_test.py::test_use_color_dumb_term PASSED                     [  9%]
tests/color_test.py::test_use_color_raises_if_given_shenanigans PASSED   [  9%]
tests/envcontext_test.py::test_trivial PASSED                            [  9%]
tests/envcontext_test.py::test_noop PASSED                               [  9%]
tests/envcontext_test.py::test_adds PASSED                               [ 10%]
tests/envcontext_test.py::test_overrides PASSED                          [ 10%]
tests/envcontext_test.py::test_unset_but_nothing_to_unset PASSED         [ 10%]
tests/envcontext_test.py::test_unset_things_to_remove PASSED             [ 10%]
tests/envcontext_test.py::test_templated_environment_variable_missing PASSED [ 10%]
tests/envcontext_test.py::test_templated_environment_variable_defaults PASSED [ 10%]
tests/envcontext_test.py::test_templated_environment_variable_there PASSED [ 10%]
tests/envcontext_test.py::test_templated_environ_sources_from_previous PASSED [ 11%]
tests/envcontext_test.py::test_exception_safety PASSED                   [ 11%]
tests/envcontext_test.py::test_integration_os_environ PASSED             [ 11%]
tests/error_handler_test.py::test_error_handler_no_exception PASSED      [ 11%]
tests/error_handler_test.py::test_error_handler_fatal_error PASSED       [ 11%]
tests/error_handler_test.py::test_error_handler_uncaught_error PASSED    [ 11%]
tests/error_handler_test.py::test_error_handler_keyboardinterrupt PASSED [ 11%]
tests/error_handler_test.py::test_log_and_exit PASSED                    [ 11%]
tests/error_handler_test.py::test_error_handler_non_ascii_exception PASSED [ 12%]
tests/error_handler_test.py::test_error_handler_non_utf8_exception PASSED [ 12%]
tests/error_handler_test.py::test_error_handler_non_stringable_exception PASSED [ 12%]
tests/error_handler_test.py::test_error_handler_no_tty PASSED            [ 12%]
tests/error_handler_test.py::test_error_handler_read_only_filesystem PASSED [ 12%]
tests/git_test.py::test_get_root_at_root PASSED                          [ 12%]
tests/git_test.py::test_get_root_deeper PASSED                           [ 12%]
tests/git_test.py::test_get_root_in_git_sub_dir PASSED                   [ 13%]
tests/git_test.py::test_get_root_not_in_working_dir PASSED               [ 13%]
tests/git_test.py::test_in_exactly_dot_git PASSED                        [ 13%]
tests/git_test.py::test_get_root_bare_worktree PASSED                    [ 13%]
tests/git_test.py::test_get_git_dir PASSED                               [ 13%]
tests/git_test.py::test_get_root_worktree_in_git PASSED                  [ 13%]
tests/git_test.py::test_get_staged_files_deleted PASSED                  [ 13%]
tests/git_test.py::test_is_not_in_merge_conflict PASSED                  [ 14%]
tests/git_test.py::test_is_in_merge_conflict PASSED                      [ 14%]
tests/git_test.py::test_is_in_merge_conflict_submodule ERROR             [ 14%]
tests/git_test.py::test_cherry_pick_conflict PASSED                      [ 14%]
tests/git_test.py::test_get_conflicted_files PASSED                      [ 14%]
tests/git_test.py::test_get_conflicted_files_in_submodule ERROR          [ 14%]
tests/git_test.py::test_get_conflicted_files_unstaged_files PASSED       [ 14%]
tests/git_test.py::test_parse_merge_msg_for_conflicts[Merge branch 'foo' into bar\n\nConflicts:\n\tconflict_file\n-expected_output0] PASSED [ 15%]
tests/git_test.py::test_parse_merge_msg_for_conflicts[Merge branch 'foo' into bar\n\nConflicts:\n\tconflict_file\n\tother_conflict_file\n-expected_output1] PASSED [ 15%]
tests/git_test.py::test_get_changed_files PASSED                         [ 15%]
tests/git_test.py::test_get_changed_files_disparate_histories PASSED     [ 15%]
tests/git_test.py::test_zsplit[foo\x00bar\x00-expected0] PASSED          [ 15%]
tests/git_test.py::test_zsplit[foo\x00-expected1] PASSED                 [ 15%]
tests/git_test.py::test_zsplit[-expected2] PASSED                        [ 15%]
tests/git_test.py::test_zsplit[foo-expected3] PASSED                     [ 15%]
tests/git_test.py::test_all_files_non_ascii PASSED                       [ 16%]
tests/git_test.py::test_staged_files_non_ascii PASSED                    [ 16%]
tests/git_test.py::test_changed_files_non_ascii PASSED                   [ 16%]
tests/git_test.py::test_get_conflicted_files_non_ascii PASSED            [ 16%]
tests/git_test.py::test_intent_to_add PASSED                             [ 16%]
tests/git_test.py::test_status_output_with_rename PASSED                 [ 16%]
tests/git_test.py::test_no_git_env PASSED                                [ 16%]
tests/git_test.py::test_init_repo_no_hooks PASSED                        [ 17%]
tests/logging_handler_test.py::test_logging_handler_color PASSED         [ 17%]
tests/logging_handler_test.py::test_logging_handler_no_color PASSED      [ 17%]
tests/main_test.py::test_adjust_args_and_chdir_not_in_git_dir PASSED     [ 17%]
tests/main_test.py::test_adjust_args_and_chdir_noop PASSED               [ 17%]
tests/main_test.py::test_adjust_args_and_chdir_relative_things PASSED    [ 17%]
tests/main_test.py::test_install_on_subst SKIPPED (windows feature)      [ 17%]
tests/main_test.py::test_adjust_args_and_chdir_non_relative_config PASSED [ 18%]
tests/main_test.py::test_adjust_args_try_repo_repo_relative PASSED       [ 18%]
tests/main_test.py::test_overall_help PASSED                             [ 18%]
tests/main_test.py::test_help_command PASSED                             [ 18%]
tests/main_test.py::test_help_other_command PASSED                       [ 18%]
tests/main_test.py::test_all_cmds[autoupdate] PASSED                     [ 18%]
tests/main_test.py::test_all_cmds[clean] PASSED                          [ 18%]
tests/main_test.py::test_all_cmds[gc] PASSED                             [ 19%]
tests/main_test.py::test_all_cmds[hook-impl] PASSED                      [ 19%]
tests/main_test.py::test_all_cmds[install] PASSED                        [ 19%]
tests/main_test.py::test_all_cmds[install-hooks] PASSED                  [ 19%]
tests/main_test.py::test_all_cmds[migrate-config] PASSED                 [ 19%]
tests/main_test.py::test_all_cmds[run] PASSED                            [ 19%]
tests/main_test.py::test_all_cmds[sample-config] PASSED                  [ 19%]
tests/main_test.py::test_all_cmds[uninstall] PASSED                      [ 19%]
tests/main_test.py::test_all_cmds[validate-config] PASSED                [ 20%]
tests/main_test.py::test_all_cmds[validate-manifest] PASSED              [ 20%]
tests/main_test.py::test_try_repo PASSED                                 [ 20%]
tests/main_test.py::test_init_templatedir PASSED                         [ 20%]
tests/main_test.py::test_init_templatedir_options PASSED                 [ 20%]
tests/main_test.py::test_help_cmd_in_empty_directory PASSED              [ 20%]
tests/main_test.py::test_expected_fatal_error_no_git_repo PASSED         [ 20%]
tests/output_test.py::test_output_write_writes PASSED                    [ 21%]
tests/parse_shebang_test.py::test_file_doesnt_exist PASSED               [ 21%]
tests/parse_shebang_test.py::test_simple_case PASSED                     [ 21%]
tests/parse_shebang_test.py::test_find_executable_full_path PASSED       [ 21%]
tests/parse_shebang_test.py::test_find_executable_on_path PASSED         [ 21%]
tests/parse_shebang_test.py::test_find_executable_not_found_none PASSED  [ 21%]
tests/parse_shebang_test.py::test_find_executable_path_added PASSED      [ 21%]
tests/parse_shebang_test.py::test_find_executable_path_ext PASSED        [ 22%]
tests/parse_shebang_test.py::test_normexe_does_not_exist PASSED          [ 22%]
tests/parse_shebang_test.py::test_normexe_does_not_exist_sep PASSED      [ 22%]
tests/parse_shebang_test.py::test_normexe_not_executable PASSED          [ 22%]
tests/parse_shebang_test.py::test_normexe_is_a_directory PASSED          [ 22%]
tests/parse_shebang_test.py::test_normexe_already_full_path PASSED       [ 22%]
tests/parse_shebang_test.py::test_normexe_gives_full_path PASSED         [ 22%]
tests/parse_shebang_test.py::test_normalize_cmd_trivial PASSED           [ 23%]
tests/parse_shebang_test.py::test_normalize_cmd_PATH PASSED              [ 23%]
tests/parse_shebang_test.py::test_normalize_cmd_shebang PASSED           [ 23%]
tests/parse_shebang_test.py::test_normalize_cmd_PATH_shebang_full_path PASSED [ 23%]
tests/parse_shebang_test.py::test_normalize_cmd_PATH_shebang_PATH PASSED [ 23%]
tests/prefix_test.py::test_path[foo--foo] PASSED                         [ 23%]
tests/prefix_test.py::test_path[foo-bar-foo/bar] PASSED                  [ 23%]
tests/prefix_test.py::test_path[foo/bar-../baz-foo/baz] PASSED           [ 23%]
tests/prefix_test.py::test_path[./-bar-bar] PASSED                       [ 24%]
tests/prefix_test.py::test_path[./--.] PASSED                            [ 24%]
tests/prefix_test.py::test_path[/tmp/foo-/tmp/bar-/tmp/bar] PASSED       [ 24%]
tests/prefix_test.py::test_path_multiple_args PASSED                     [ 24%]
tests/prefix_test.py::test_exists PASSED                                 [ 24%]
tests/prefix_test.py::test_star PASSED                                   [ 24%]
tests/repository_test.py::test_conda_hook FAILED                         [ 24%]
tests/repository_test.py::test_conda_with_additional_dependencies_hook FAILED [ 25%]
tests/repository_test.py::test_local_conda_additional_dependencies FAILED [ 25%]
tests/repository_test.py::test_python_hook PASSED                        [ 25%]
tests/repository_test.py::test_python_hook_default_version PASSED        [ 25%]
tests/repository_test.py::test_python_hook_args_with_spaces PASSED       [ 25%]
tests/repository_test.py::test_python_hook_weird_setup_cfg PASSED        [ 25%]
tests/repository_test.py::test_python_venv PASSED                        [ 25%]
tests/repository_test.py::test_switch_language_versions_doesnt_clobber FAILED [ 26%]
tests/repository_test.py::test_versioned_python_hook PASSED              [ 26%]
tests/repository_test.py::test_run_a_coursier_hook SKIPPED (coursier...) [ 26%]
tests/repository_test.py::test_run_a_docker_hook SKIPPED (Docker isn...) [ 26%]
tests/repository_test.py::test_run_a_docker_hook_with_entry_args SKIPPED [ 26%]
tests/repository_test.py::test_run_a_failing_docker_hook SKIPPED (Do...) [ 26%]
tests/repository_test.py::test_run_a_docker_image_hook[echo-entrypoint] SKIPPED [ 26%]
tests/repository_test.py::test_run_a_docker_image_hook[echo-cmd] SKIPPED [ 26%]
tests/repository_test.py::test_run_a_node_hook PASSED                    [ 27%]
tests/repository_test.py::test_run_a_node_hook_default_version PASSED    [ 27%]
tests/repository_test.py::test_run_versioned_node_hook PASSED            [ 27%]
tests/repository_test.py::test_node_hook_with_npm_userconfig_set PASSED  [ 27%]
tests/repository_test.py::test_r_hook FAILED                             [ 27%]
tests/repository_test.py::test_r_inline_hook FAILED                      [ 27%]
tests/repository_test.py::test_r_with_additional_dependencies_hook FAILED [ 27%]
tests/repository_test.py::test_r_local_with_additional_dependencies_hook FAILED [ 28%]
tests/repository_test.py::test_run_a_ruby_hook FAILED                    [ 28%]
tests/repository_test.py::test_run_a_ruby_hook_with_user_install_set FAILED [ 28%]
tests/repository_test.py::test_run_versioned_ruby_hook PASSED            [ 28%]
tests/repository_test.py::test_run_ruby_hook_with_disable_shared_gems PASSED [ 28%]
tests/repository_test.py::test_system_hook_with_spaces PASSED            [ 28%]
tests/repository_test.py::test_swift_hook SKIPPED (swift isn't insta...) [ 28%]
tests/repository_test.py::test_golang_hook FAILED                        [ 29%]
tests/repository_test.py::test_golang_hook_still_works_when_gobin_is_set FAILED [ 29%]
tests/repository_test.py::test_golang_with_recursive_submodule FAILED    [ 29%]
tests/repository_test.py::test_rust_hook PASSED                          [ 29%]
tests/repository_test.py::test_additional_rust_cli_dependencies_installed[cli:shellharden:3.1.0] PASSED [ 29%]
tests/repository_test.py::test_additional_rust_cli_dependencies_installed[cli:shellharden] PASSED [ 29%]
tests/repository_test.py::test_additional_rust_lib_dependencies_installed PASSED [ 29%]
tests/repository_test.py::test_missing_executable PASSED                 [ 30%]
tests/repository_test.py::test_run_a_script_hook PASSED                  [ 30%]
tests/repository_test.py::test_run_hook_with_spaced_args PASSED          [ 30%]
tests/repository_test.py::test_run_hook_with_curly_braced_arguments PASSED [ 30%]
tests/repository_test.py::test_intermixed_stdout_stderr PASSED           [ 30%]
tests/repository_test.py::test_output_isatty PASSED                      [ 30%]
tests/repository_test.py::test_grep_hook_matching PASSED                 [ 30%]
tests/repository_test.py::test_grep_hook_case_insensitive PASSED         [ 30%]
tests/repository_test.py::test_grep_hook_not_matching[nope] PASSED       [ 31%]
tests/repository_test.py::test_grep_hook_not_matching[foo'bar] PASSED    [ 31%]
tests/repository_test.py::test_grep_hook_not_matching[^\\[INFO\\]] PASSED [ 31%]
tests/repository_test.py::test_cwd_of_hook PASSED                        [ 31%]
tests/repository_test.py::test_lots_of_files PASSED                      [ 31%]
tests/repository_test.py::test_additional_dependencies_roll_forward PASSED [ 31%]
tests/repository_test.py::test_additional_ruby_dependencies_installed FAILED [ 31%]
tests/repository_test.py::test_additional_node_dependencies_installed PASSED [ 32%]
tests/repository_test.py::test_additional_golang_dependencies_installed FAILED [ 32%]
tests/repository_test.py::test_local_golang_additional_dependencies FAILED [ 32%]
tests/repository_test.py::test_local_rust_additional_dependencies PASSED [ 32%]
tests/repository_test.py::test_fail_hooks PASSED                         [ 32%]
tests/repository_test.py::test_unknown_keys PASSED                       [ 32%]
tests/repository_test.py::test_reinstall PASSED                          [ 32%]
tests/repository_test.py::test_control_c_control_c_on_install PASSED     [ 33%]
tests/repository_test.py::test_invalidated_virtualenv PASSED             [ 33%]
tests/repository_test.py::test_really_long_file_paths PASSED             [ 33%]
tests/repository_test.py::test_config_overrides_repo_specifics PASSED    [ 33%]
tests/repository_test.py::test_tags_on_repositories PASSED               [ 33%]
tests/repository_test.py::test_local_python_repo PASSED                  [ 33%]
tests/repository_test.py::test_local_python_repo_python2 FAILED          [ 33%]
tests/repository_test.py::test_default_language_version PASSED           [ 34%]
tests/repository_test.py::test_default_stages PASSED                     [ 34%]
tests/repository_test.py::test_hook_id_not_present PASSED                [ 34%]
tests/repository_test.py::test_too_new_version PASSED                    [ 34%]
tests/repository_test.py::test_versions_ok[0.1.0] PASSED                 [ 34%]
tests/repository_test.py::test_versions_ok[2.20.0] PASSED                [ 34%]
tests/repository_test.py::test_manifest_hooks PASSED                     [ 34%]
tests/repository_test.py::test_perl_hook FAILED                          [ 34%]
tests/repository_test.py::test_local_perl_additional_dependencies FAILED [ 35%]
tests/repository_test.py::test_dotnet_hook[dotnet_hooks_csproj_repo] FAILED [ 35%]
tests/repository_test.py::test_dotnet_hook[dotnet_hooks_sln_repo] FAILED [ 35%]
tests/repository_test.py::test_dotnet_hook[dotnet_hooks_combo_repo] FAILED [ 35%]
tests/repository_test.py::test_dart_hook FAILED                          [ 35%]
tests/repository_test.py::test_local_dart_additional_dependencies FAILED [ 35%]
tests/repository_test.py::test_local_dart_additional_dependencies_versioned FAILED [ 35%]
tests/repository_test.py::test_non_installable_hook_error_for_language_version PASSED [ 36%]
tests/repository_test.py::test_non_installable_hook_error_for_additional_dependencies PASSED [ 36%]
tests/repository_test.py::test_lua_hook FAILED                           [ 36%]
tests/repository_test.py::test_local_lua_additional_dependencies FAILED  [ 36%]
tests/staged_files_only_test.py::test_foo_staged PASSED                  [ 36%]
tests/staged_files_only_test.py::test_foo_nothing_unstaged PASSED        [ 36%]
tests/staged_files_only_test.py::test_foo_something_unstaged PASSED      [ 36%]
tests/staged_files_only_test.py::test_does_not_crash_patch_dir_does_not_exist PASSED [ 37%]
tests/staged_files_only_test.py::test_something_unstaged_ext_diff_tool PASSED [ 37%]
tests/staged_files_only_test.py::test_foo_something_unstaged_diff_color_always PASSED [ 37%]
tests/staged_files_only_test.py::test_foo_both_modify_non_conflicting PASSED [ 37%]
tests/staged_files_only_test.py::test_foo_both_modify_conflicting PASSED [ 37%]
tests/staged_files_only_test.py::test_img_staged PASSED                  [ 37%]
tests/staged_files_only_test.py::test_img_nothing_unstaged PASSED        [ 37%]
tests/staged_files_only_test.py::test_img_something_unstaged PASSED      [ 38%]
tests/staged_files_only_test.py::test_img_conflict PASSED                [ 38%]
tests/staged_files_only_test.py::test_sub_staged ERROR                   [ 38%]
tests/staged_files_only_test.py::test_sub_nothing_unstaged ERROR         [ 38%]
tests/staged_files_only_test.py::test_sub_something_unstaged ERROR       [ 38%]
tests/staged_files_only_test.py::test_submodule_does_not_discard_changes ERROR [ 38%]
tests/staged_files_only_test.py::test_submodule_does_not_discard_changes_recurse ERROR [ 38%]
tests/staged_files_only_test.py::test_stage_utf8_changes PASSED          [ 38%]
tests/staged_files_only_test.py::test_stage_non_utf8_changes PASSED      [ 39%]
tests/staged_files_only_test.py::test_non_utf8_conflicting_diff PASSED   [ 39%]
tests/staged_files_only_test.py::test_crlf[true-True-True] PASSED        [ 39%]
tests/staged_files_only_test.py::test_crlf[true-True-False] PASSED       [ 39%]
tests/staged_files_only_test.py::test_crlf[true-False-True] PASSED       [ 39%]
tests/staged_files_only_test.py::test_crlf[true-False-False] PASSED      [ 39%]
tests/staged_files_only_test.py::test_crlf[false-True-True] PASSED       [ 39%]
tests/staged_files_only_test.py::test_crlf[false-True-False] PASSED      [ 40%]
tests/staged_files_only_test.py::test_crlf[false-False-True] PASSED      [ 40%]
tests/staged_files_only_test.py::test_crlf[false-False-False] PASSED     [ 40%]
tests/staged_files_only_test.py::test_crlf[input-True-True] PASSED       [ 40%]
tests/staged_files_only_test.py::test_crlf[input-True-False] PASSED      [ 40%]
tests/staged_files_only_test.py::test_crlf[input-False-True] PASSED      [ 40%]
tests/staged_files_only_test.py::test_crlf[input-False-False] PASSED     [ 40%]
tests/staged_files_only_test.py::test_whitespace_errors PASSED           [ 41%]
tests/staged_files_only_test.py::test_autocrlf_committed_crlf PASSED     [ 41%]
tests/staged_files_only_test.py::test_intent_to_add PASSED               [ 41%]
tests/store_test.py::test_our_session_fixture_works PASSED               [ 41%]
tests/store_test.py::test_get_default_directory_defaults_to_home PASSED  [ 41%]
tests/store_test.py::test_adheres_to_xdg_specification PASSED            [ 41%]
tests/store_test.py::test_uses_environment_variable_when_present PASSED  [ 41%]
tests/store_test.py::test_store_init PASSED                              [ 42%]
tests/store_test.py::test_clone PASSED                                   [ 42%]
tests/store_test.py::test_clone_cleans_up_on_checkout_failure PASSED     [ 42%]
tests/store_test.py::test_clone_when_repo_already_exists PASSED          [ 42%]
tests/store_test.py::test_clone_shallow_failure_fallback_to_complete PASSED [ 42%]
tests/store_test.py::test_clone_tag_not_on_mainline PASSED               [ 42%]
tests/store_test.py::test_create_when_directory_exists_but_not_db PASSED [ 42%]
tests/store_test.py::test_create_when_store_already_exists PASSED        [ 42%]
tests/store_test.py::test_db_repo_name PASSED                            [ 43%]
tests/store_test.py::test_local_resources_reflects_reality PASSED        [ 43%]
tests/store_test.py::test_mark_config_as_used PASSED                     [ 43%]
tests/store_test.py::test_mark_config_as_used_idempotent PASSED          [ 43%]
tests/store_test.py::test_mark_config_as_used_does_not_exist PASSED      [ 43%]
tests/store_test.py::test_select_all_configs_roll_forward PASSED         [ 43%]
tests/store_test.py::test_mark_config_as_used_roll_forward PASSED        [ 43%]
tests/store_test.py::test_mark_config_as_used_readonly PASSED            [ 44%]
tests/util_test.py::test_CalledProcessError_str PASSED                   [ 44%]
tests/util_test.py::test_CalledProcessError_str_nooutput PASSED          [ 44%]
tests/util_test.py::test_clean_on_failure_noop PASSED                    [ 44%]
tests/util_test.py::test_clean_path_on_failure_does_nothing_when_not_raising PASSED [ 44%]
tests/util_test.py::test_clean_path_on_failure_cleans_for_normal_exception PASSED [ 44%]
tests/util_test.py::test_clean_path_on_failure_cleans_for_system_exit PASSED [ 44%]
tests/util_test.py::test_tmpdir PASSED                                   [ 45%]
tests/util_test.py::test_cmd_output_exe_not_found PASSED                 [ 45%]
tests/util_test.py::test_cmd_output_exe_not_found_bytes[cmd_output_b] PASSED [ 45%]
tests/util_test.py::test_cmd_output_exe_not_found_bytes[cmd_output_p] PASSED [ 45%]
tests/util_test.py::test_cmd_output_no_shebang[cmd_output_b] PASSED      [ 45%]
tests/util_test.py::test_cmd_output_no_shebang[cmd_output_p] PASSED      [ 45%]
tests/util_test.py::test_parse_version PASSED                            [ 45%]
tests/util_test.py::test_rmtree_read_only_directories PASSED             [ 46%]
tests/xargs_test.py::test_environ_size[env0-0] PASSED                    [ 46%]
tests/xargs_test.py::test_environ_size[env1-12] PASSED                   [ 46%]
tests/xargs_test.py::test_environ_size[env2-13] PASSED                   [ 46%]
tests/xargs_test.py::test_environ_size[env3-24] PASSED                   [ 46%]
tests/xargs_test.py::test_partition_trivial PASSED                       [ 46%]
tests/xargs_test.py::test_partition_simple PASSED                        [ 46%]
tests/xargs_test.py::test_partition_limits PASSED                        [ 46%]
tests/xargs_test.py::test_partition_limit_win32 PASSED                   [ 47%]
tests/xargs_test.py::test_partition_limit_linux PASSED                   [ 47%]
tests/xargs_test.py::test_argument_too_long_with_large_unicode PASSED    [ 47%]
tests/xargs_test.py::test_partition_target_concurrency PASSED            [ 47%]
tests/xargs_test.py::test_partition_target_concurrency_wont_make_tiny_partitions PASSED [ 47%]
tests/xargs_test.py::test_argument_too_long PASSED                       [ 47%]
tests/xargs_test.py::test_xargs_smoke PASSED                             [ 47%]
tests/xargs_test.py::test_xargs_retcode_normal PASSED                    [ 48%]
tests/xargs_test.py::test_xargs_concurrency PASSED                       [ 48%]
tests/xargs_test.py::test_thread_mapper_concurrency_uses_threadpoolexecutor_map PASSED [ 48%]
tests/xargs_test.py::test_thread_mapper_concurrency_uses_regular_map PASSED [ 48%]
tests/xargs_test.py::test_xargs_propagate_kwargs_to_cmd PASSED           [ 48%]
tests/xargs_test.py::test_xargs_color_true_makes_tty PASSED              [ 48%]
tests/xargs_test.py::test_xargs_with_batch_files[t.bat] XFAIL (nt only)  [ 48%]
tests/xargs_test.py::test_xargs_with_batch_files[t.cmd] XFAIL (nt only)  [ 49%]
tests/xargs_test.py::test_xargs_with_batch_files[T.CMD] XFAIL (nt only)  [ 49%]
tests/commands/autoupdate_test.py::test_rev_info_from_config PASSED      [ 49%]
tests/commands/autoupdate_test.py::test_rev_info_update_up_to_date_repo PASSED [ 49%]
tests/commands/autoupdate_test.py::test_rev_info_update_out_of_date_repo PASSED [ 49%]
tests/commands/autoupdate_test.py::test_rev_info_update_non_master_default_branch PASSED [ 49%]
tests/commands/autoupdate_test.py::test_rev_info_update_tags_even_if_not_tags_only PASSED [ 49%]
tests/commands/autoupdate_test.py::test_rev_info_update_tags_only_does_not_pick_tip PASSED [ 50%]
tests/commands/autoupdate_test.py::test_rev_info_update_tags_prefers_version_tag PASSED [ 50%]
tests/commands/autoupdate_test.py::test_rev_info_update_tags_non_version_tag PASSED [ 50%]
tests/commands/autoupdate_test.py::test_rev_info_update_freeze_tag PASSED [ 50%]
tests/commands/autoupdate_test.py::test_rev_info_update_does_not_freeze_if_already_sha PASSED [ 50%]
tests/commands/autoupdate_test.py::test_autoupdate_up_to_date_repo PASSED [ 50%]
tests/commands/autoupdate_test.py::test_autoupdate_old_revision_broken PASSED [ 50%]
tests/commands/autoupdate_test.py::test_autoupdate_out_of_date_repo PASSED [ 50%]
tests/commands/autoupdate_test.py::test_autoupdate_with_core_useBuiltinFSMonitor PASSED [ 51%]
tests/commands/autoupdate_test.py::test_autoupdate_pure_yaml PASSED      [ 51%]
tests/commands/autoupdate_test.py::test_autoupdate_only_one_to_update PASSED [ 51%]
tests/commands/autoupdate_test.py::test_autoupdate_out_of_date_repo_with_correct_repo_name PASSED [ 51%]
tests/commands/autoupdate_test.py::test_autoupdate_out_of_date_repo_with_wrong_repo_name PASSED [ 51%]
tests/commands/autoupdate_test.py::test_does_not_reformat PASSED         [ 51%]
tests/commands/autoupdate_test.py::test_does_not_change_mixed_endlines_read PASSED [ 51%]
tests/commands/autoupdate_test.py::test_does_not_change_mixed_endlines_write PASSED [ 52%]
tests/commands/autoupdate_test.py::test_loses_formatting_when_not_detectable PASSED [ 52%]
tests/commands/autoupdate_test.py::test_autoupdate_tagged_repo PASSED    [ 52%]
tests/commands/autoupdate_test.py::test_autoupdate_freeze PASSED         [ 52%]
tests/commands/autoupdate_test.py::test_autoupdate_tags_only PASSED      [ 52%]
tests/commands/autoupdate_test.py::test_autoupdate_latest_no_config PASSED [ 52%]
tests/commands/autoupdate_test.py::test_hook_disppearing_repo_raises PASSED [ 52%]
tests/commands/autoupdate_test.py::test_autoupdate_hook_disappearing_repo PASSED [ 53%]
tests/commands/autoupdate_test.py::test_autoupdate_local_hooks PASSED    [ 53%]
tests/commands/autoupdate_test.py::test_autoupdate_local_hooks_with_out_of_date_repo PASSED [ 53%]
tests/commands/autoupdate_test.py::test_autoupdate_meta_hooks PASSED     [ 53%]
tests/commands/autoupdate_test.py::test_updates_old_format_to_new_format PASSED [ 53%]
tests/commands/autoupdate_test.py::test_maintains_rev_quoting_style PASSED [ 53%]
tests/commands/clean_test.py::test_clean PASSED                          [ 53%]
tests/commands/clean_test.py::test_clean_idempotent PASSED               [ 53%]
tests/commands/gc_test.py::test_gc PASSED                                [ 54%]
tests/commands/gc_test.py::test_gc_repo_not_cloned PASSED                [ 54%]
tests/commands/gc_test.py::test_gc_meta_repo_does_not_crash PASSED       [ 54%]
tests/commands/gc_test.py::test_gc_local_repo_does_not_crash PASSED      [ 54%]
tests/commands/gc_test.py::test_gc_unused_local_repo_with_env PASSED     [ 54%]
tests/commands/gc_test.py::test_gc_config_with_missing_hook PASSED       [ 54%]
tests/commands/gc_test.py::test_gc_deletes_invalid_configs PASSED        [ 54%]
tests/commands/gc_test.py::test_invalid_manifest_gcd PASSED              [ 55%]
tests/commands/hook_impl_test.py::test_validate_config_file_exists PASSED [ 55%]
tests/commands/hook_impl_test.py::test_validate_config_missing PASSED    [ 55%]
tests/commands/hook_impl_test.py::test_validate_config_skip_missing_config PASSED [ 55%]
tests/commands/hook_impl_test.py::test_validate_config_skip_via_env_variable PASSED [ 55%]
tests/commands/hook_impl_test.py::test_run_legacy_does_not_exist PASSED  [ 55%]
tests/commands/hook_impl_test.py::test_run_legacy_executes_legacy_script PASSED [ 55%]
tests/commands/hook_impl_test.py::test_run_legacy_pre_push_returns_stdin PASSED [ 56%]
tests/commands/hook_impl_test.py::test_run_legacy_recursive PASSED       [ 56%]
tests/commands/hook_impl_test.py::test_check_args_length_ok[pre-commit-args0] PASSED [ 56%]
tests/commands/hook_impl_test.py::test_check_args_length_ok[pre-merge-commit-args1] PASSED [ 56%]
tests/commands/hook_impl_test.py::test_check_args_length_ok[pre-push-args2] PASSED [ 56%]
tests/commands/hook_impl_test.py::test_check_args_length_ok[commit-msg-args3] PASSED [ 56%]
tests/commands/hook_impl_test.py::test_check_args_length_ok[post-commit-args4] PASSED [ 56%]
tests/commands/hook_impl_test.py::test_check_args_length_ok[post-merge-args5] PASSED [ 57%]
tests/commands/hook_impl_test.py::test_check_args_length_ok[post-checkout-args6] PASSED [ 57%]
tests/commands/hook_impl_test.py::test_check_args_length_ok[post-rewrite-args7] PASSED [ 57%]
tests/commands/hook_impl_test.py::test_check_args_length_ok[prepare-commit-msg-args8] PASSED [ 57%]
tests/commands/hook_impl_test.py::test_check_args_length_ok[prepare-commit-msg-args9] PASSED [ 57%]
tests/commands/hook_impl_test.py::test_check_args_length_ok[prepare-commit-msg-args10] PASSED [ 57%]
tests/commands/hook_impl_test.py::test_check_args_length_error_too_many_plural PASSED [ 57%]
tests/commands/hook_impl_test.py::test_check_args_length_error_too_many_singular PASSED [ 57%]
tests/commands/hook_impl_test.py::test_check_args_length_prepare_commit_msg_error PASSED [ 58%]
tests/commands/hook_impl_test.py::test_run_ns_pre_commit PASSED          [ 58%]
tests/commands/hook_impl_test.py::test_run_ns_commit_msg PASSED          [ 58%]
tests/commands/hook_impl_test.py::test_run_ns_prepare_commit_msg_one_arg PASSED [ 58%]
tests/commands/hook_impl_test.py::test_run_ns_prepare_commit_msg_two_arg PASSED [ 58%]
tests/commands/hook_impl_test.py::test_run_ns_prepare_commit_msg_three_arg PASSED [ 58%]
tests/commands/hook_impl_test.py::test_run_ns_post_commit PASSED         [ 58%]
tests/commands/hook_impl_test.py::test_run_ns_post_merge PASSED          [ 59%]
tests/commands/hook_impl_test.py::test_run_ns_post_rewrite PASSED        [ 59%]
tests/commands/hook_impl_test.py::test_run_ns_post_checkout PASSED       [ 59%]
tests/commands/hook_impl_test.py::test_run_ns_pre_push_updating_branch PASSED [ 59%]
tests/commands/hook_impl_test.py::test_run_ns_pre_push_new_branch PASSED [ 59%]
tests/commands/hook_impl_test.py::test_run_ns_pre_push_new_branch_existing_rev PASSED [ 59%]
tests/commands/hook_impl_test.py::test_run_ns_pre_push_ref_with_whitespace PASSED [ 59%]
tests/commands/hook_impl_test.py::test_pushing_orphan_branch PASSED      [ 60%]
tests/commands/hook_impl_test.py::test_run_ns_pre_push_deleting_branch PASSED [ 60%]
tests/commands/hook_impl_test.py::test_hook_impl_main_noop_pre_push PASSED [ 60%]
tests/commands/hook_impl_test.py::test_hook_impl_main_runs_hooks PASSED  [ 60%]
tests/commands/init_templatedir_test.py::test_init_templatedir PASSED    [ 60%]
tests/commands/init_templatedir_test.py::test_init_templatedir_already_set PASSED [ 60%]
tests/commands/init_templatedir_test.py::test_init_templatedir_not_set PASSED [ 60%]
tests/commands/init_templatedir_test.py::test_init_templatedir_expanduser PASSED [ 61%]
tests/commands/init_templatedir_test.py::test_init_templatedir_hookspath_set PASSED [ 61%]
tests/commands/init_templatedir_test.py::test_init_templatedir_skip_on_missing_config[True-0-Skipping `pre-commit`.] PASSED [ 61%]
tests/commands/init_templatedir_test.py::test_init_templatedir_skip_on_missing_config[False-1-No .pre-commit-config.yaml file was found] PASSED [ 61%]
tests/commands/install_uninstall_test.py::test_hook_types_explicitly_listed PASSED [ 61%]
tests/commands/install_uninstall_test.py::test_hook_types_default_value_when_not_specified PASSED [ 61%]
tests/commands/install_uninstall_test.py::test_hook_types_configured PASSED [ 61%]
tests/commands/install_uninstall_test.py::test_hook_types_configured_nonsense PASSED [ 61%]
tests/commands/install_uninstall_test.py::test_hook_types_configuration_has_error PASSED [ 62%]
tests/commands/install_uninstall_test.py::test_is_not_script PASSED      [ 62%]
tests/commands/install_uninstall_test.py::test_is_script PASSED          [ 62%]
tests/commands/install_uninstall_test.py::test_is_previous_pre_commit PASSED [ 62%]
tests/commands/install_uninstall_test.py::test_install_pre_commit PASSED [ 62%]
tests/commands/install_uninstall_test.py::test_install_hooks_directory_not_present PASSED [ 62%]
tests/commands/install_uninstall_test.py::test_install_multiple_hooks_at_once PASSED [ 62%]
tests/commands/install_uninstall_test.py::test_install_refuses_core_hookspath PASSED [ 63%]
tests/commands/install_uninstall_test.py::test_install_hooks_dead_symlink PASSED [ 63%]
tests/commands/install_uninstall_test.py::test_uninstall_does_not_blow_up_when_not_there PASSED [ 63%]
tests/commands/install_uninstall_test.py::test_uninstall PASSED          [ 63%]
tests/commands/install_uninstall_test.py::test_install_pre_commit_and_run PASSED [ 63%]
tests/commands/install_uninstall_test.py::test_install_pre_commit_and_run_custom_path PASSED [ 63%]
tests/commands/install_uninstall_test.py::test_install_in_submodule_and_run FAILED [ 63%]
tests/commands/install_uninstall_test.py::test_install_in_worktree_and_run PASSED [ 64%]
tests/commands/install_uninstall_test.py::test_commit_am PASSED          [ 64%]
tests/commands/install_uninstall_test.py::test_unicode_merge_commit_message PASSED [ 64%]
tests/commands/install_uninstall_test.py::test_install_idempotent PASSED [ 64%]
tests/commands/install_uninstall_test.py::test_environment_not_sourced PASSED [ 64%]
tests/commands/install_uninstall_test.py::test_failing_hooks_returns_nonzero PASSED [ 64%]
tests/commands/install_uninstall_test.py::test_install_existing_hooks_no_overwrite PASSED [ 64%]
tests/commands/install_uninstall_test.py::test_legacy_overwriting_legacy_hook PASSED [ 65%]
tests/commands/install_uninstall_test.py::test_install_existing_hook_no_overwrite_idempotent PASSED [ 65%]
tests/commands/install_uninstall_test.py::test_install_with_existing_non_utf8_script PASSED [ 65%]
tests/commands/install_uninstall_test.py::test_failing_existing_hook_returns_1 PASSED [ 65%]
tests/commands/install_uninstall_test.py::test_install_overwrite_no_existing_hooks PASSED [ 65%]
tests/commands/install_uninstall_test.py::test_install_overwrite PASSED  [ 65%]
tests/commands/install_uninstall_test.py::test_uninstall_restores_legacy_hooks PASSED [ 65%]
tests/commands/install_uninstall_test.py::test_replace_old_commit_script PASSED [ 65%]
tests/commands/install_uninstall_test.py::test_uninstall_doesnt_remove_not_our_hooks PASSED [ 66%]
tests/commands/install_uninstall_test.py::test_installs_hooks_with_hooks_True PASSED [ 66%]
tests/commands/install_uninstall_test.py::test_install_hooks_command PASSED [ 66%]
tests/commands/install_uninstall_test.py::test_installed_from_venv PASSED [ 66%]
tests/commands/install_uninstall_test.py::test_pre_push_integration_failing PASSED [ 66%]
tests/commands/install_uninstall_test.py::test_pre_push_integration_accepted PASSED [ 66%]
tests/commands/install_uninstall_test.py::test_pre_push_force_push_without_fetch PASSED [ 66%]
tests/commands/install_uninstall_test.py::test_pre_push_new_upstream PASSED [ 67%]
tests/commands/install_uninstall_test.py::test_pre_push_environment_variables PASSED [ 67%]
tests/commands/install_uninstall_test.py::test_pre_push_integration_empty_push PASSED [ 67%]
tests/commands/install_uninstall_test.py::test_pre_push_legacy PASSED    [ 67%]
tests/commands/install_uninstall_test.py::test_commit_msg_integration_failing PASSED [ 67%]
tests/commands/install_uninstall_test.py::test_commit_msg_integration_passing PASSED [ 67%]
tests/commands/install_uninstall_test.py::test_commit_msg_legacy PASSED  [ 67%]
tests/commands/install_uninstall_test.py::test_post_commit_integration PASSED [ 68%]
tests/commands/install_uninstall_test.py::test_post_merge_integration PASSED [ 68%]
tests/commands/install_uninstall_test.py::test_post_rewrite_integration PASSED [ 68%]
tests/commands/install_uninstall_test.py::test_post_checkout_integration PASSED [ 68%]
tests/commands/install_uninstall_test.py::test_skips_post_checkout_unstaged_changes PASSED [ 68%]
tests/commands/install_uninstall_test.py::test_prepare_commit_msg_integration_failing PASSED [ 68%]
tests/commands/install_uninstall_test.py::test_prepare_commit_msg_integration_passing PASSED [ 68%]
tests/commands/install_uninstall_test.py::test_prepare_commit_msg_legacy PASSED [ 69%]
tests/commands/install_uninstall_test.py::test_pre_merge_commit_integration PASSED [ 69%]
tests/commands/install_uninstall_test.py::test_install_disallow_missing_config PASSED [ 69%]
tests/commands/install_uninstall_test.py::test_install_allow_missing_config PASSED [ 69%]
tests/commands/install_uninstall_test.py::test_install_temporarily_allow_mising_config PASSED [ 69%]
tests/commands/install_uninstall_test.py::test_install_uninstall_default_hook_types PASSED [ 69%]
tests/commands/migrate_config_test.py::test_migrate_config_normal_format PASSED [ 69%]
tests/commands/migrate_config_test.py::test_migrate_config_document_marker PASSED [ 69%]
tests/commands/migrate_config_test.py::test_migrate_config_list_literal PASSED [ 70%]
tests/commands/migrate_config_test.py::test_already_migrated_configuration_noop PASSED [ 70%]
tests/commands/migrate_config_test.py::test_migrate_config_sha_to_rev PASSED [ 70%]
tests/commands/run_test.py::test_start_msg PASSED                        [ 70%]
tests/commands/run_test.py::test_full_msg PASSED                         [ 70%]
tests/commands/run_test.py::test_full_msg_with_cjk PASSED                [ 70%]
tests/commands/run_test.py::test_full_msg_with_color PASSED              [ 70%]
tests/commands/run_test.py::test_full_msg_with_postfix PASSED            [ 71%]
tests/commands/run_test.py::test_full_msg_postfix_not_colored PASSED     [ 71%]
tests/commands/run_test.py::test_run_all_hooks_failing PASSED            [ 71%]
tests/commands/run_test.py::test_arbitrary_bytes_hook PASSED             [ 71%]
tests/commands/run_test.py::test_hook_that_modifies_but_returns_zero PASSED [ 71%]
tests/commands/run_test.py::test_types_hook_repository PASSED            [ 71%]
tests/commands/run_test.py::test_types_or_hook_repository PASSED         [ 71%]
tests/commands/run_test.py::test_exclude_types_hook_repository PASSED    [ 72%]
tests/commands/run_test.py::test_global_exclude PASSED                   [ 72%]
tests/commands/run_test.py::test_global_files PASSED                     [ 72%]
tests/commands/run_test.py::test_verbose_duration[1.234-2.0-\n- duration: 0.77s\n] PASSED [ 72%]
tests/commands/run_test.py::test_verbose_duration[1.0-1.0-\n- duration: 0s\n] PASSED [ 72%]
tests/commands/run_test.py::test_show_diff_on_failure[args0-All changes made by hooks:] PASSED [ 72%]
tests/commands/run_test.py::test_show_diff_on_failure[args1-All changes made by hooks:] PASSED [ 72%]
tests/commands/run_test.py::test_show_diff_on_failure[args2-reproduce locally with: pre-commit run --all-files] PASSED [ 73%]
tests/commands/run_test.py::test_run[options0-outputs0-0-True] PASSED    [ 73%]
tests/commands/run_test.py::test_run[options1-outputs1-0-True] PASSED    [ 73%]
tests/commands/run_test.py::test_run[options2-outputs2-0-True] PASSED    [ 73%]
tests/commands/run_test.py::test_run[options3-outputs3-1-True] PASSED    [ 73%]
tests/commands/run_test.py::test_run[options4-outputs4-1-True] PASSED    [ 73%]
tests/commands/run_test.py::test_run[options5-outputs5-0-True] PASSED    [ 73%]
tests/commands/run_test.py::test_run[options6-outputs6-0-True] PASSED    [ 73%]
tests/commands/run_test.py::test_run[options7-outputs7-0-False] PASSED   [ 74%]
tests/commands/run_test.py::test_run_output_logfile PASSED               [ 74%]
tests/commands/run_test.py::test_always_run PASSED                       [ 74%]
tests/commands/run_test.py::test_always_run_alt_config PASSED            [ 74%]
tests/commands/run_test.py::test_hook_verbose_enabled PASSED             [ 74%]
tests/commands/run_test.py::test_from_ref_to_ref_error_msg_error[master-] PASSED [ 74%]
tests/commands/run_test.py::test_from_ref_to_ref_error_msg_error[-master] PASSED [ 74%]
tests/commands/run_test.py::test_all_push_options_ok PASSED              [ 75%]
tests/commands/run_test.py::test_is_squash_merge PASSED                  [ 75%]
tests/commands/run_test.py::test_rewrite_command PASSED                  [ 75%]
tests/commands/run_test.py::test_checkout_type PASSED                    [ 75%]
tests/commands/run_test.py::test_has_unmerged_paths PASSED               [ 75%]
tests/commands/run_test.py::test_merge_conflict PASSED                   [ 75%]
tests/commands/run_test.py::test_merge_conflict_modified PASSED          [ 75%]
tests/commands/run_test.py::test_merge_conflict_resolved PASSED          [ 76%]
tests/commands/run_test.py::test_compute_cols[hooks0-80] PASSED          [ 76%]
tests/commands/run_test.py::test_compute_cols[hooks1-81] PASSED          [ 76%]
tests/commands/run_test.py::test_compute_cols[hooks2-82] PASSED          [ 76%]
tests/commands/run_test.py::test_get_skips[environ0-expected_output0] PASSED [ 76%]
tests/commands/run_test.py::test_get_skips[environ1-expected_output1] PASSED [ 76%]
tests/commands/run_test.py::test_get_skips[environ2-expected_output2] PASSED [ 76%]
tests/commands/run_test.py::test_get_skips[environ3-expected_output3] PASSED [ 76%]
tests/commands/run_test.py::test_get_skips[environ4-expected_output4] PASSED [ 77%]
tests/commands/run_test.py::test_get_skips[environ5-expected_output5] PASSED [ 77%]
tests/commands/run_test.py::test_get_skips[environ6-expected_output6] PASSED [ 77%]
tests/commands/run_test.py::test_skip_hook PASSED                        [ 77%]
tests/commands/run_test.py::test_skip_aliased_hook PASSED                [ 77%]
tests/commands/run_test.py::test_skip_bypasses_installation PASSED       [ 77%]
tests/commands/run_test.py::test_hook_id_not_in_non_verbose_output PASSED [ 77%]
tests/commands/run_test.py::test_hook_id_in_verbose_output PASSED        [ 78%]
tests/commands/run_test.py::test_multiple_hooks_same_id PASSED           [ 78%]
tests/commands/run_test.py::test_aliased_hook_run PASSED                 [ 78%]
tests/commands/run_test.py::test_non_ascii_hook_id PASSED                [ 78%]
tests/commands/run_test.py::test_stdout_write_bug_py26 PASSED            [ 78%]
tests/commands/run_test.py::test_lots_of_files PASSED                    [ 78%]
tests/commands/run_test.py::test_stages PASSED                           [ 78%]
tests/commands/run_test.py::test_commit_msg_hook PASSED                  [ 79%]
tests/commands/run_test.py::test_post_checkout_hook PASSED               [ 79%]
tests/commands/run_test.py::test_prepare_commit_msg_hook PASSED          [ 79%]
tests/commands/run_test.py::test_local_hook_passes PASSED                [ 79%]
tests/commands/run_test.py::test_local_hook_fails PASSED                 [ 79%]
tests/commands/run_test.py::test_meta_hook_passes PASSED                 [ 79%]
tests/commands/run_test.py::test_error_with_unstaged_config PASSED       [ 79%]
tests/commands/run_test.py::test_commit_msg_missing_filename PASSED      [ 80%]
tests/commands/run_test.py::test_no_unstaged_error_with_all_files_or_files[opts0] PASSED [ 80%]
tests/commands/run_test.py::test_no_unstaged_error_with_all_files_or_files[opts1] PASSED [ 80%]
tests/commands/run_test.py::test_files_running_subdir PASSED             [ 80%]
tests/commands/run_test.py::test_pass_filenames[True-hook_args0-foo.py] PASSED [ 80%]
tests/commands/run_test.py::test_pass_filenames[False-hook_args1-] PASSED [ 80%]
tests/commands/run_test.py::test_pass_filenames[True-hook_args2-some args foo.py] PASSED [ 80%]
tests/commands/run_test.py::test_pass_filenames[False-hook_args3-some args] PASSED [ 80%]
tests/commands/run_test.py::test_fail_fast PASSED                        [ 81%]
tests/commands/run_test.py::test_fail_fast_per_hook PASSED               [ 81%]
tests/commands/run_test.py::test_classifier_removes_dne PASSED           [ 81%]
tests/commands/run_test.py::test_classifier_normalizes_filenames_on_windows_to_forward_slashes PASSED [ 81%]
tests/commands/run_test.py::test_classifier_does_not_normalize_backslashes_non_windows PASSED [ 81%]
tests/commands/run_test.py::test_classifier_empty_types_or PASSED        [ 81%]
tests/commands/run_test.py::test_include_exclude_base_case PASSED        [ 81%]
tests/commands/run_test.py::test_matches_broken_symlink PASSED           [ 82%]
tests/commands/run_test.py::test_include_exclude_total_match PASSED      [ 82%]
tests/commands/run_test.py::test_include_exclude_does_search_instead_of_match PASSED [ 82%]
tests/commands/run_test.py::test_include_exclude_exclude_removes_files PASSED [ 82%]
tests/commands/run_test.py::test_args_hook_only PASSED                   [ 82%]
tests/commands/run_test.py::test_skipped_without_any_setup_for_post_checkout PASSED [ 82%]
tests/commands/run_test.py::test_pre_commit_env_variable_set PASSED      [ 82%]
tests/commands/sample_config_test.py::test_sample_config PASSED          [ 83%]
tests/commands/try_repo_test.py::test_try_repo_repo_only PASSED          [ 83%]
tests/commands/try_repo_test.py::test_try_repo_with_specific_hook PASSED [ 83%]
tests/commands/try_repo_test.py::test_try_repo_relative_path PASSED      [ 83%]
tests/commands/try_repo_test.py::test_try_repo_bare_repo PASSED          [ 83%]
tests/commands/try_repo_test.py::test_try_repo_specific_revision PASSED  [ 83%]
tests/commands/try_repo_test.py::test_try_repo_uncommitted_changes PASSED [ 83%]
tests/commands/try_repo_test.py::test_try_repo_staged_changes PASSED     [ 84%]
tests/languages/conda_test.py::test_conda_exe[default0] PASSED           [ 84%]
tests/languages/conda_test.py::test_conda_exe[default1] PASSED           [ 84%]
tests/languages/conda_test.py::test_conda_exe[default2] PASSED           [ 84%]
tests/languages/docker_test.py::test_docker_fallback_user PASSED         [ 84%]
tests/languages/docker_test.py::test_in_docker_no_file PASSED            [ 84%]
tests/languages/docker_test.py::test_in_docker_docker_in_file PASSED     [ 84%]
tests/languages/docker_test.py::test_in_docker_docker_not_in_file PASSED [ 84%]
tests/languages/docker_test.py::test_get_container_id PASSED             [ 85%]
tests/languages/docker_test.py::test_get_container_id_failure PASSED     [ 85%]
tests/languages/docker_test.py::test_get_docker_path_not_in_docker_returns_same PASSED [ 85%]
tests/languages/docker_test.py::test_get_docker_path_in_docker_no_binds_same_path PASSED [ 85%]
tests/languages/docker_test.py::test_get_docker_path_in_docker_binds_path_equal PASSED [ 85%]
tests/languages/docker_test.py::test_get_docker_path_in_docker_binds_path_complex PASSED [ 85%]
tests/languages/docker_test.py::test_get_docker_path_in_docker_no_substring PASSED [ 85%]
tests/languages/docker_test.py::test_get_docker_path_in_docker_binds_path_many_binds PASSED [ 86%]
tests/languages/docker_test.py::test_get_docker_path_in_docker_windows PASSED [ 86%]
tests/languages/docker_test.py::test_get_docker_path_in_docker_docker_in_docker PASSED [ 86%]
tests/languages/golang_test.py::test_guess_go_dir[/im/a/path/on/disk-unknown_src_dir] PASSED [ 86%]
tests/languages/golang_test.py::test_guess_go_dir[file:///im/a/path/on/disk-unknown_src_dir] PASSED [ 86%]
tests/languages/golang_test.py::test_guess_go_dir[git@github.com:golang/lint-github.com/golang/lint] PASSED [ 86%]
tests/languages/golang_test.py::test_guess_go_dir[git://github.com/golang/lint-github.com/golang/lint] PASSED [ 86%]
tests/languages/golang_test.py::test_guess_go_dir[http://github.com/golang/lint-github.com/golang/lint] PASSED [ 87%]
tests/languages/golang_test.py::test_guess_go_dir[https://github.com/golang/lint-github.com/golang/lint] PASSED [ 87%]
tests/languages/golang_test.py::test_guess_go_dir[ssh://git@github.com/golang/lint-github.com/golang/lint] PASSED [ 87%]
tests/languages/golang_test.py::test_guess_go_dir[git@github.com:golang/lint.git-github.com/golang/lint] PASSED [ 87%]
tests/languages/helpers_test.py::test_exe_exists_does_not_exist PASSED   [ 87%]
tests/languages/helpers_test.py::test_exe_exists_exists PASSED           [ 87%]
tests/languages/helpers_test.py::test_exe_exists_false_if_shim PASSED    [ 87%]
tests/languages/helpers_test.py::test_exe_exists_false_if_homedir PASSED [ 88%]
tests/languages/helpers_test.py::test_exe_exists_commonpath_raises_ValueError PASSED [ 88%]
tests/languages/helpers_test.py::test_exe_exists_true_when_homedir_is_slash PASSED [ 88%]
tests/languages/helpers_test.py::test_basic_get_default_version PASSED   [ 88%]
tests/languages/helpers_test.py::test_basic_health_check PASSED          [ 88%]
tests/languages/helpers_test.py::test_failed_setup_command_does_not_unicode_error PASSED [ 88%]
tests/languages/helpers_test.py::test_assert_no_additional_deps PASSED   [ 88%]
tests/languages/helpers_test.py::test_target_concurrency_normal PASSED   [ 88%]
tests/languages/helpers_test.py::test_target_concurrency_cpu_count_require_serial_true PASSED [ 89%]
tests/languages/helpers_test.py::test_target_concurrency_testing_env_var PASSED [ 89%]
tests/languages/helpers_test.py::test_target_concurrency_on_travis PASSED [ 89%]
tests/languages/helpers_test.py::test_target_concurrency_cpu_count_not_implemented PASSED [ 89%]
tests/languages/helpers_test.py::test_shuffled_is_deterministic PASSED   [ 89%]
tests/languages/node_test.py::test_sets_system_when_node_and_npm_are_available PASSED [ 89%]
tests/languages/node_test.py::test_uses_default_when_node_and_npm_are_not_available PASSED [ 89%]
tests/languages/node_test.py::test_sets_default_on_windows PASSED        [ 90%]
tests/languages/node_test.py::test_healthy_system_node PASSED            [ 90%]
tests/languages/node_test.py::test_unhealthy_if_system_node_goes_missing PASSED [ 90%]
tests/languages/node_test.py::test_installs_without_links_outside_env PASSED [ 90%]
tests/languages/pygrep_test.py::test_main[baz-0-] PASSED                 [ 90%]
tests/languages/pygrep_test.py::test_main[foo-1-f1:1:foo\n] PASSED       [ 90%]
tests/languages/pygrep_test.py::test_main[bar-1-f1:2:bar\n] PASSED       [ 90%]
tests/languages/pygrep_test.py::test_main[(?i)\\[info\\]-1-f2:1:[INFO] hi\n] PASSED [ 91%]
tests/languages/pygrep_test.py::test_main[h'q-1-f3:1:with'quotes\n] PASSED [ 91%]
tests/languages/pygrep_test.py::test_negate_by_line_no_match PASSED      [ 91%]
tests/languages/pygrep_test.py::test_negate_by_line_two_match PASSED     [ 91%]
tests/languages/pygrep_test.py::test_negate_by_line_all_match PASSED     [ 91%]
tests/languages/pygrep_test.py::test_negate_by_file_no_match PASSED      [ 91%]
tests/languages/pygrep_test.py::test_negate_by_file_one_match PASSED     [ 91%]
tests/languages/pygrep_test.py::test_negate_by_file_all_match PASSED     [ 92%]
tests/languages/pygrep_test.py::test_ignore_case PASSED                  [ 92%]
tests/languages/pygrep_test.py::test_multiline PASSED                    [ 92%]
tests/languages/pygrep_test.py::test_multiline_line_number PASSED        [ 92%]
tests/languages/pygrep_test.py::test_multiline_dotall_flag_is_enabled PASSED [ 92%]
tests/languages/pygrep_test.py::test_multiline_multiline_flag_is_enabled PASSED [ 92%]
tests/languages/python_test.py::test_read_pyvenv_cfg PASSED              [ 92%]
tests/languages/python_test.py::test_read_pyvenv_cfg_non_utf8 PASSED     [ 92%]
tests/languages/python_test.py::test_norm_version_expanduser PASSED      [ 93%]
tests/languages/python_test.py::test_norm_version_of_default_is_sys_executable PASSED [ 93%]
tests/languages/python_test.py::test_sys_executable_matches[python3.9] PASSED [ 93%]
tests/languages/python_test.py::test_sys_executable_matches[python3] PASSED [ 93%]
tests/languages/python_test.py::test_sys_executable_matches[python] PASSED [ 93%]
tests/languages/python_test.py::test_sys_executable_matches_does_not_match[notpython] PASSED [ 93%]
tests/languages/python_test.py::test_sys_executable_matches_does_not_match[python3.x] PASSED [ 93%]
tests/languages/python_test.py::test_find_by_sys_executable[/usr/bin/python3-/usr/bin/python3.7-python3] PASSED [ 94%]
tests/languages/python_test.py::test_find_by_sys_executable[/usr/bin/python-/usr/bin/python3.7-python3.7] PASSED [ 94%]
tests/languages/python_test.py::test_find_by_sys_executable[/usr/bin/python-/usr/bin/python-None] PASSED [ 94%]
tests/languages/python_test.py::test_find_by_sys_executable[/usr/bin/python3.7m-/usr/bin/python3.7m-python3.7m] PASSED [ 94%]
tests/languages/python_test.py::test_find_by_sys_executable[v/bin/python-v/bin/pypy-pypy] PASSED [ 94%]
tests/languages/python_test.py::test_healthy_default_creator PASSED      [ 94%]
tests/languages/python_test.py::test_healthy_venv_creator PASSED         [ 94%]
tests/languages/python_test.py::test_unhealthy_python_goes_missing PASSED [ 95%]
tests/languages/python_test.py::test_unhealthy_with_version_change PASSED [ 95%]
tests/languages/python_test.py::test_unhealthy_system_version_changes PASSED [ 95%]
tests/languages/python_test.py::test_unhealthy_old_virtualenv PASSED     [ 95%]
tests/languages/python_test.py::test_unhealthy_unexpected_pyvenv PASSED  [ 95%]
tests/languages/python_test.py::test_unhealthy_then_replaced PASSED      [ 95%]
tests/languages/r_test.py::test_r_parsing_file_no_opts_no_args PASSED    [ 95%]
tests/languages/r_test.py::test_r_parsing_file_opts_no_args PASSED       [ 96%]
tests/languages/r_test.py::test_r_parsing_file_no_opts_args PASSED       [ 96%]
tests/languages/r_test.py::test_r_parsing_expr_no_opts_no_args1 PASSED   [ 96%]
tests/languages/r_test.py::test_r_parsing_expr_no_opts_no_args2 PASSED   [ 96%]
tests/languages/r_test.py::test_r_parsing_expr_opts_no_args2 PASSED      [ 96%]
tests/languages/r_test.py::test_r_parsing_expr_args_in_entry2 PASSED     [ 96%]
tests/languages/r_test.py::test_r_parsing_expr_non_Rscirpt PASSED        [ 96%]
tests/languages/r_test.py::test_r_parsing_file_local PASSED              [ 96%]
tests/languages/r_test.py::test_rscript_exec_relative_to_r_home PASSED   [ 97%]
tests/languages/r_test.py::test_path_rscript_exec_no_r_home_set PASSED   [ 97%]
tests/languages/ruby_test.py::test_uses_default_version_when_not_available PASSED [ 97%]
tests/languages/ruby_test.py::test_uses_system_if_both_gem_and_ruby_are_available PASSED [ 97%]
tests/languages/ruby_test.py::test_install_ruby_system FAILED            [ 97%]
tests/languages/ruby_test.py::test_install_ruby_default FAILED           [ 97%]
tests/languages/ruby_test.py::test_install_ruby_with_version PASSED      [ 97%]
tests/languages/ruby_test.py::test_archive_root_stat[rbenv.tar.gz] PASSED [ 98%]
tests/languages/ruby_test.py::test_archive_root_stat[ruby-build.tar.gz] PASSED [ 98%]
tests/languages/ruby_test.py::test_archive_root_stat[ruby-download.tar.gz] PASSED [ 98%]
tests/meta_hooks/check_hooks_apply_test.py::test_hook_excludes_everything PASSED [ 98%]
tests/meta_hooks/check_hooks_apply_test.py::test_hook_includes_nothing PASSED [ 98%]
tests/meta_hooks/check_hooks_apply_test.py::test_hook_types_not_matched PASSED [ 98%]
tests/meta_hooks/check_hooks_apply_test.py::test_hook_types_excludes_everything PASSED [ 98%]
tests/meta_hooks/check_hooks_apply_test.py::test_valid_exceptions PASSED [ 99%]
tests/meta_hooks/check_useless_excludes_test.py::test_useless_exclude_global PASSED [ 99%]
tests/meta_hooks/check_useless_excludes_test.py::test_useless_exclude_for_hook PASSED [ 99%]
tests/meta_hooks/check_useless_excludes_test.py::test_useless_exclude_with_types_filter PASSED [ 99%]
tests/meta_hooks/check_useless_excludes_test.py::test_no_excludes PASSED [ 99%]
tests/meta_hooks/check_useless_excludes_test.py::test_valid_exclude PASSED [ 99%]
tests/meta_hooks/check_useless_excludes_test.py::test_useless_excludes_broken_symlink PASSED [ 99%]
tests/meta_hooks/identity_test.py::test_identity PASSED                  [100%]

==================================== ERRORS ====================================
____________ ERROR at setup of test_is_in_merge_conflict_submodule _____________
Traceback (most recent call last):
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 341, in from_call
    result: Optional[TResult] = func()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 262, in <lambda>
    lambda: ihook(item=item, **kwds), when=when, reraise=reraise
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 152, in _multicall
    return outcome.get_result()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_result.py", line 114, in get_result
    raise exc.with_traceback(exc.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 157, in pytest_runtest_setup
    item.session._setupstate.setup(item)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 497, in setup
    raise exc
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 494, in setup
    col.setup()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 1795, in setup
    self._request._fillfixtures()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/fixtures.py", line 566, in _fillfixtures
    item.funcargs[argname] = self.getfixturevalue(argname)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/fixtures.py", line 585, in getfixturevalue
    fixturedef = self._get_active_fixturedef(argname)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/fixtures.py", line 607, in _get_active_fixturedef
    self._compute_fixture_value(fixturedef)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/fixtures.py", line 693, in _compute_fixture_value
    fixturedef.execute(request=subrequest)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/fixtures.py", line 1069, in execute
    result = ihook.pytest_fixture_setup(fixturedef=self, request=request)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 152, in _multicall
    return outcome.get_result()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_result.py", line 114, in get_result
    raise exc.with_traceback(exc.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/fixtures.py", line 1123, in pytest_fixture_setup
    result = call_fixture_func(fixturefunc, request, kwargs)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/fixtures.py", line 895, in call_fixture_func
    fixture_result = next(generator)
  File "/workdir/pre-commit-2.20.0/tests/conftest.py", line 93, in in_conflicting_submodule
    cmd_output('git', 'submodule', 'add', git_dir_2, 'sub', cwd=git_dir_1)
  File "/workdir/pre-commit-2.20.0/pre_commit/util.py", line 152, in cmd_output
    returncode, stdout_b, stderr_b = cmd_output_b(*cmd, **kwargs)
  File "/workdir/pre-commit-2.20.0/pre_commit/util.py", line 146, in cmd_output_b
    raise CalledProcessError(returncode, cmd, retcode, stdout_b, stderr_b)
pre_commit.util.CalledProcessError: command: ('/usr/bin/git', 'submodule', 'add', '/tmp/pytest-of-tester/pytest-44/test_is_in_merge_conflict_subm0/1', 'sub')
return code: 128
expected return code: 0
stdout: (none)
stderr:
    Cloning into '/tmp/pytest-of-tester/pytest-44/test_is_in_merge_conflict_subm0/0/sub'...
    fatal: transport 'file' not allowed
    fatal: clone of '/tmp/pytest-of-tester/pytest-44/test_is_in_merge_conflict_subm0/1' into submodule path '/tmp/pytest-of-tester/pytest-44/test_is_in_merge_conflict_subm0/0/sub' failed
    
___________ ERROR at setup of test_get_conflicted_files_in_submodule ___________
Traceback (most recent call last):
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 341, in from_call
    result: Optional[TResult] = func()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 262, in <lambda>
    lambda: ihook(item=item, **kwds), when=when, reraise=reraise
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 152, in _multicall
    return outcome.get_result()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_result.py", line 114, in get_result
    raise exc.with_traceback(exc.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 157, in pytest_runtest_setup
    item.session._setupstate.setup(item)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 497, in setup
    raise exc
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 494, in setup
    col.setup()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 1795, in setup
    self._request._fillfixtures()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/fixtures.py", line 566, in _fillfixtures
    item.funcargs[argname] = self.getfixturevalue(argname)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/fixtures.py", line 585, in getfixturevalue
    fixturedef = self._get_active_fixturedef(argname)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/fixtures.py", line 607, in _get_active_fixturedef
    self._compute_fixture_value(fixturedef)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/fixtures.py", line 693, in _compute_fixture_value
    fixturedef.execute(request=subrequest)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/fixtures.py", line 1069, in execute
    result = ihook.pytest_fixture_setup(fixturedef=self, request=request)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 152, in _multicall
    return outcome.get_result()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_result.py", line 114, in get_result
    raise exc.with_traceback(exc.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/fixtures.py", line 1123, in pytest_fixture_setup
    result = call_fixture_func(fixturefunc, request, kwargs)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/fixtures.py", line 895, in call_fixture_func
    fixture_result = next(generator)
  File "/workdir/pre-commit-2.20.0/tests/conftest.py", line 93, in in_conflicting_submodule
    cmd_output('git', 'submodule', 'add', git_dir_2, 'sub', cwd=git_dir_1)
  File "/workdir/pre-commit-2.20.0/pre_commit/util.py", line 152, in cmd_output
    returncode, stdout_b, stderr_b = cmd_output_b(*cmd, **kwargs)
  File "/workdir/pre-commit-2.20.0/pre_commit/util.py", line 146, in cmd_output_b
    raise CalledProcessError(returncode, cmd, retcode, stdout_b, stderr_b)
pre_commit.util.CalledProcessError: command: ('/usr/bin/git', 'submodule', 'add', '/tmp/pytest-of-tester/pytest-44/test_get_conflicted_files_in_s0/1', 'sub')
return code: 128
expected return code: 0
stdout: (none)
stderr:
    Cloning into '/tmp/pytest-of-tester/pytest-44/test_get_conflicted_files_in_s0/0/sub'...
    fatal: transport 'file' not allowed
    fatal: clone of '/tmp/pytest-of-tester/pytest-44/test_get_conflicted_files_in_s0/1' into submodule path '/tmp/pytest-of-tester/pytest-44/test_get_conflicted_files_in_s0/0/sub' failed
    
______________________ ERROR at setup of test_sub_staged _______________________
Traceback (most recent call last):
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 341, in from_call
    result: Optional[TResult] = func()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 262, in <lambda>
    lambda: ihook(item=item, **kwds), when=when, reraise=reraise
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 152, in _multicall
    return outcome.get_result()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_result.py", line 114, in get_result
    raise exc.with_traceback(exc.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 157, in pytest_runtest_setup
    item.session._setupstate.setup(item)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 497, in setup
    raise exc
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 494, in setup
    col.setup()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 1795, in setup
    self._request._fillfixtures()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/fixtures.py", line 566, in _fillfixtures
    item.funcargs[argname] = self.getfixturevalue(argname)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/fixtures.py", line 585, in getfixturevalue
    fixturedef = self._get_active_fixturedef(argname)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/fixtures.py", line 607, in _get_active_fixturedef
    self._compute_fixture_value(fixturedef)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/fixtures.py", line 693, in _compute_fixture_value
    fixturedef.execute(request=subrequest)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/fixtures.py", line 1069, in execute
    result = ihook.pytest_fixture_setup(fixturedef=self, request=request)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 152, in _multicall
    return outcome.get_result()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_result.py", line 114, in get_result
    raise exc.with_traceback(exc.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/fixtures.py", line 1123, in pytest_fixture_setup
    result = call_fixture_func(fixturefunc, request, kwargs)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/fixtures.py", line 895, in call_fixture_func
    fixture_result = next(generator)
  File "/workdir/pre-commit-2.20.0/tests/staged_files_only_test.py", line 209, in sub_staged
    cmd_output(
  File "/workdir/pre-commit-2.20.0/pre_commit/util.py", line 152, in cmd_output
    returncode, stdout_b, stderr_b = cmd_output_b(*cmd, **kwargs)
  File "/workdir/pre-commit-2.20.0/pre_commit/util.py", line 146, in cmd_output_b
    raise CalledProcessError(returncode, cmd, retcode, stdout_b, stderr_b)
pre_commit.util.CalledProcessError: command: ('/usr/bin/git', 'submodule', 'add', '/tmp/pytest-of-tester/pytest-44/test_sub_staged0/0', 'sub')
return code: 128
expected return code: 0
stdout: (none)
stderr:
    Cloning into '/tmp/pytest-of-tester/pytest-44/test_sub_staged0/1/sub'...
    fatal: transport 'file' not allowed
    fatal: clone of '/tmp/pytest-of-tester/pytest-44/test_sub_staged0/0' into submodule path '/tmp/pytest-of-tester/pytest-44/test_sub_staged0/1/sub' failed
    
_________________ ERROR at setup of test_sub_nothing_unstaged __________________
Traceback (most recent call last):
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 341, in from_call
    result: Optional[TResult] = func()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 262, in <lambda>
    lambda: ihook(item=item, **kwds), when=when, reraise=reraise
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 152, in _multicall
    return outcome.get_result()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_result.py", line 114, in get_result
    raise exc.with_traceback(exc.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 157, in pytest_runtest_setup
    item.session._setupstate.setup(item)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 497, in setup
    raise exc
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 494, in setup
    col.setup()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 1795, in setup
    self._request._fillfixtures()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/fixtures.py", line 566, in _fillfixtures
    item.funcargs[argname] = self.getfixturevalue(argname)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/fixtures.py", line 585, in getfixturevalue
    fixturedef = self._get_active_fixturedef(argname)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/fixtures.py", line 607, in _get_active_fixturedef
    self._compute_fixture_value(fixturedef)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/fixtures.py", line 693, in _compute_fixture_value
    fixturedef.execute(request=subrequest)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/fixtures.py", line 1069, in execute
    result = ihook.pytest_fixture_setup(fixturedef=self, request=request)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 152, in _multicall
    return outcome.get_result()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_result.py", line 114, in get_result
    raise exc.with_traceback(exc.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/fixtures.py", line 1123, in pytest_fixture_setup
    result = call_fixture_func(fixturefunc, request, kwargs)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/fixtures.py", line 895, in call_fixture_func
    fixture_result = next(generator)
  File "/workdir/pre-commit-2.20.0/tests/staged_files_only_test.py", line 209, in sub_staged
    cmd_output(
  File "/workdir/pre-commit-2.20.0/pre_commit/util.py", line 152, in cmd_output
    returncode, stdout_b, stderr_b = cmd_output_b(*cmd, **kwargs)
  File "/workdir/pre-commit-2.20.0/pre_commit/util.py", line 146, in cmd_output_b
    raise CalledProcessError(returncode, cmd, retcode, stdout_b, stderr_b)
pre_commit.util.CalledProcessError: command: ('/usr/bin/git', 'submodule', 'add', '/tmp/pytest-of-tester/pytest-44/test_sub_nothing_unstaged0/0', 'sub')
return code: 128
expected return code: 0
stdout: (none)
stderr:
    Cloning into '/tmp/pytest-of-tester/pytest-44/test_sub_nothing_unstaged0/1/sub'...
    fatal: transport 'file' not allowed
    fatal: clone of '/tmp/pytest-of-tester/pytest-44/test_sub_nothing_unstaged0/0' into submodule path '/tmp/pytest-of-tester/pytest-44/test_sub_nothing_unstaged0/1/sub' failed
    
________________ ERROR at setup of test_sub_something_unstaged _________________
Traceback (most recent call last):
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 341, in from_call
    result: Optional[TResult] = func()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 262, in <lambda>
    lambda: ihook(item=item, **kwds), when=when, reraise=reraise
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 152, in _multicall
    return outcome.get_result()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_result.py", line 114, in get_result
    raise exc.with_traceback(exc.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 157, in pytest_runtest_setup
    item.session._setupstate.setup(item)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 497, in setup
    raise exc
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 494, in setup
    col.setup()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 1795, in setup
    self._request._fillfixtures()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/fixtures.py", line 566, in _fillfixtures
    item.funcargs[argname] = self.getfixturevalue(argname)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/fixtures.py", line 585, in getfixturevalue
    fixturedef = self._get_active_fixturedef(argname)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/fixtures.py", line 607, in _get_active_fixturedef
    self._compute_fixture_value(fixturedef)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/fixtures.py", line 693, in _compute_fixture_value
    fixturedef.execute(request=subrequest)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/fixtures.py", line 1069, in execute
    result = ihook.pytest_fixture_setup(fixturedef=self, request=request)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 152, in _multicall
    return outcome.get_result()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_result.py", line 114, in get_result
    raise exc.with_traceback(exc.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/fixtures.py", line 1123, in pytest_fixture_setup
    result = call_fixture_func(fixturefunc, request, kwargs)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/fixtures.py", line 895, in call_fixture_func
    fixture_result = next(generator)
  File "/workdir/pre-commit-2.20.0/tests/staged_files_only_test.py", line 209, in sub_staged
    cmd_output(
  File "/workdir/pre-commit-2.20.0/pre_commit/util.py", line 152, in cmd_output
    returncode, stdout_b, stderr_b = cmd_output_b(*cmd, **kwargs)
  File "/workdir/pre-commit-2.20.0/pre_commit/util.py", line 146, in cmd_output_b
    raise CalledProcessError(returncode, cmd, retcode, stdout_b, stderr_b)
pre_commit.util.CalledProcessError: command: ('/usr/bin/git', 'submodule', 'add', '/tmp/pytest-of-tester/pytest-44/test_sub_something_unstaged0/0', 'sub')
return code: 128
expected return code: 0
stdout: (none)
stderr:
    Cloning into '/tmp/pytest-of-tester/pytest-44/test_sub_something_unstaged0/1/sub'...
    fatal: transport 'file' not allowed
    fatal: clone of '/tmp/pytest-of-tester/pytest-44/test_sub_something_unstaged0/0' into submodule path '/tmp/pytest-of-tester/pytest-44/test_sub_something_unstaged0/1/sub' failed
    
__________ ERROR at setup of test_submodule_does_not_discard_changes ___________
Traceback (most recent call last):
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 341, in from_call
    result: Optional[TResult] = func()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 262, in <lambda>
    lambda: ihook(item=item, **kwds), when=when, reraise=reraise
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 152, in _multicall
    return outcome.get_result()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_result.py", line 114, in get_result
    raise exc.with_traceback(exc.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 157, in pytest_runtest_setup
    item.session._setupstate.setup(item)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 497, in setup
    raise exc
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 494, in setup
    col.setup()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 1795, in setup
    self._request._fillfixtures()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/fixtures.py", line 566, in _fillfixtures
    item.funcargs[argname] = self.getfixturevalue(argname)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/fixtures.py", line 585, in getfixturevalue
    fixturedef = self._get_active_fixturedef(argname)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/fixtures.py", line 607, in _get_active_fixturedef
    self._compute_fixture_value(fixturedef)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/fixtures.py", line 693, in _compute_fixture_value
    fixturedef.execute(request=subrequest)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/fixtures.py", line 1069, in execute
    result = ihook.pytest_fixture_setup(fixturedef=self, request=request)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 152, in _multicall
    return outcome.get_result()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_result.py", line 114, in get_result
    raise exc.with_traceback(exc.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/fixtures.py", line 1123, in pytest_fixture_setup
    result = call_fixture_func(fixturefunc, request, kwargs)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/fixtures.py", line 895, in call_fixture_func
    fixture_result = next(generator)
  File "/workdir/pre-commit-2.20.0/tests/staged_files_only_test.py", line 209, in sub_staged
    cmd_output(
  File "/workdir/pre-commit-2.20.0/pre_commit/util.py", line 152, in cmd_output
    returncode, stdout_b, stderr_b = cmd_output_b(*cmd, **kwargs)
  File "/workdir/pre-commit-2.20.0/pre_commit/util.py", line 146, in cmd_output_b
    raise CalledProcessError(returncode, cmd, retcode, stdout_b, stderr_b)
pre_commit.util.CalledProcessError: command: ('/usr/bin/git', 'submodule', 'add', '/tmp/pytest-of-tester/pytest-44/test_submodule_does_not_discar0/0', 'sub')
return code: 128
expected return code: 0
stdout: (none)
stderr:
    Cloning into '/tmp/pytest-of-tester/pytest-44/test_submodule_does_not_discar0/1/sub'...
    fatal: transport 'file' not allowed
    fatal: clone of '/tmp/pytest-of-tester/pytest-44/test_submodule_does_not_discar0/0' into submodule path '/tmp/pytest-of-tester/pytest-44/test_submodule_does_not_discar0/1/sub' failed
    
______ ERROR at setup of test_submodule_does_not_discard_changes_recurse _______
Traceback (most recent call last):
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 341, in from_call
    result: Optional[TResult] = func()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 262, in <lambda>
    lambda: ihook(item=item, **kwds), when=when, reraise=reraise
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 152, in _multicall
    return outcome.get_result()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_result.py", line 114, in get_result
    raise exc.with_traceback(exc.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 157, in pytest_runtest_setup
    item.session._setupstate.setup(item)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 497, in setup
    raise exc
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 494, in setup
    col.setup()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 1795, in setup
    self._request._fillfixtures()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/fixtures.py", line 566, in _fillfixtures
    item.funcargs[argname] = self.getfixturevalue(argname)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/fixtures.py", line 585, in getfixturevalue
    fixturedef = self._get_active_fixturedef(argname)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/fixtures.py", line 607, in _get_active_fixturedef
    self._compute_fixture_value(fixturedef)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/fixtures.py", line 693, in _compute_fixture_value
    fixturedef.execute(request=subrequest)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/fixtures.py", line 1069, in execute
    result = ihook.pytest_fixture_setup(fixturedef=self, request=request)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 152, in _multicall
    return outcome.get_result()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_result.py", line 114, in get_result
    raise exc.with_traceback(exc.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/fixtures.py", line 1123, in pytest_fixture_setup
    result = call_fixture_func(fixturefunc, request, kwargs)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/fixtures.py", line 895, in call_fixture_func
    fixture_result = next(generator)
  File "/workdir/pre-commit-2.20.0/tests/staged_files_only_test.py", line 209, in sub_staged
    cmd_output(
  File "/workdir/pre-commit-2.20.0/pre_commit/util.py", line 152, in cmd_output
    returncode, stdout_b, stderr_b = cmd_output_b(*cmd, **kwargs)
  File "/workdir/pre-commit-2.20.0/pre_commit/util.py", line 146, in cmd_output_b
    raise CalledProcessError(returncode, cmd, retcode, stdout_b, stderr_b)
pre_commit.util.CalledProcessError: command: ('/usr/bin/git', 'submodule', 'add', '/tmp/pytest-of-tester/pytest-44/test_submodule_does_not_discar1/0', 'sub')
return code: 128
expected return code: 0
stdout: (none)
stderr:
    Cloning into '/tmp/pytest-of-tester/pytest-44/test_submodule_does_not_discar1/1/sub'...
    fatal: transport 'file' not allowed
    fatal: clone of '/tmp/pytest-of-tester/pytest-44/test_submodule_does_not_discar1/0' into submodule path '/tmp/pytest-of-tester/pytest-44/test_submodule_does_not_discar1/1/sub' failed
    
=================================== FAILURES ===================================
_______________________________ test_conda_hook ________________________________
Traceback (most recent call last):
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 341, in from_call
    result: Optional[TResult] = func()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 262, in <lambda>
    lambda: ihook(item=item, **kwds), when=when, reraise=reraise
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 152, in _multicall
    return outcome.get_result()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_result.py", line 114, in get_result
    raise exc.with_traceback(exc.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 177, in pytest_runtest_call
    raise e
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 169, in pytest_runtest_call
    item.runtest()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 1792, in runtest
    self.ihook.pytest_pyfunc_call(pyfuncitem=self)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 113, in _multicall
    raise exception.with_traceback(exception.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 194, in pytest_pyfunc_call
    result = testfunction(**testargs)
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 85, in test_conda_hook
    _test_hook_repo(
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 78, in _test_hook_repo
    hook = _get_hook(config, store, hook_id)
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 61, in _get_hook
    install_hook_envs([hook], store)
  File "/workdir/pre-commit-2.20.0/pre_commit/repository.py", line 223, in install_hook_envs
    _hook_install(hook)
  File "/workdir/pre-commit-2.20.0/pre_commit/repository.py", line 79, in _hook_install
    lang.install_environment(
  File "/workdir/pre-commit-2.20.0/pre_commit/languages/conda.py", line 75, in install_environment
    cmd_output_b(
  File "/workdir/pre-commit-2.20.0/pre_commit/util.py", line 146, in cmd_output_b
    raise CalledProcessError(returncode, cmd, retcode, stdout_b, stderr_b)
pre_commit.util.CalledProcessError: command: ('conda', 'env', 'create', '-p', '/tmp/pytest-of-tester/pytest-44/test_conda_hook0/0/.pre-commit/repol4tx30lw/conda-default', '--file', 'environment.yml')
return code: 1
expected return code: 0
stdout:
    Executable `conda` not found
stderr: (none)
----------------------------- Captured stdout call -----------------------------
[INFO] Initializing environment for file:///tmp/pytest-of-tester/pytest-44/test_conda_hook0/1.
[INFO] Installing environment for file:///tmp/pytest-of-tester/pytest-44/test_conda_hook0/1.
[INFO] Once installed this environment will be reused.
[INFO] This may take a few minutes...
------------------------------ Captured log call -------------------------------
INFO     pre_commit:store.py:139 Initializing environment for file:///tmp/pytest-of-tester/pytest-44/test_conda_hook0/1.
INFO     pre_commit:repository.py:66 Installing environment for file:///tmp/pytest-of-tester/pytest-44/test_conda_hook0/1.
INFO     pre_commit:repository.py:67 Once installed this environment will be reused.
INFO     pre_commit:repository.py:68 This may take a few minutes...
_________________ test_conda_with_additional_dependencies_hook _________________
Traceback (most recent call last):
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 341, in from_call
    result: Optional[TResult] = func()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 262, in <lambda>
    lambda: ihook(item=item, **kwds), when=when, reraise=reraise
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 152, in _multicall
    return outcome.get_result()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_result.py", line 114, in get_result
    raise exc.with_traceback(exc.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 177, in pytest_runtest_call
    raise e
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 169, in pytest_runtest_call
    item.runtest()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 1792, in runtest
    self.ihook.pytest_pyfunc_call(pyfuncitem=self)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 113, in _multicall
    raise exception.with_traceback(exception.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 194, in pytest_pyfunc_call
    result = testfunction(**testargs)
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 93, in test_conda_with_additional_dependencies_hook
    _test_hook_repo(
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 78, in _test_hook_repo
    hook = _get_hook(config, store, hook_id)
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 61, in _get_hook
    install_hook_envs([hook], store)
  File "/workdir/pre-commit-2.20.0/pre_commit/repository.py", line 223, in install_hook_envs
    _hook_install(hook)
  File "/workdir/pre-commit-2.20.0/pre_commit/repository.py", line 79, in _hook_install
    lang.install_environment(
  File "/workdir/pre-commit-2.20.0/pre_commit/languages/conda.py", line 75, in install_environment
    cmd_output_b(
  File "/workdir/pre-commit-2.20.0/pre_commit/util.py", line 146, in cmd_output_b
    raise CalledProcessError(returncode, cmd, retcode, stdout_b, stderr_b)
pre_commit.util.CalledProcessError: command: ('conda', 'env', 'create', '-p', '/tmp/pytest-of-tester/pytest-44/test_conda_with_additional_dep0/0/.pre-commit/reposewv3ivh/conda-default', '--file', 'environment.yml')
return code: 1
expected return code: 0
stdout:
    Executable `conda` not found
stderr: (none)
----------------------------- Captured stdout call -----------------------------
[INFO] Initializing environment for file:///tmp/pytest-of-tester/pytest-44/test_conda_with_additional_dep0/1.
[INFO] Initializing environment for file:///tmp/pytest-of-tester/pytest-44/test_conda_with_additional_dep0/1:python-tzdata.
[INFO] Installing environment for file:///tmp/pytest-of-tester/pytest-44/test_conda_with_additional_dep0/1.
[INFO] Once installed this environment will be reused.
[INFO] This may take a few minutes...
------------------------------ Captured log call -------------------------------
INFO     pre_commit:store.py:139 Initializing environment for file:///tmp/pytest-of-tester/pytest-44/test_conda_with_additional_dep0/1.
INFO     pre_commit:store.py:139 Initializing environment for file:///tmp/pytest-of-tester/pytest-44/test_conda_with_additional_dep0/1:python-tzdata.
INFO     pre_commit:repository.py:66 Installing environment for file:///tmp/pytest-of-tester/pytest-44/test_conda_with_additional_dep0/1.
INFO     pre_commit:repository.py:67 Once installed this environment will be reused.
INFO     pre_commit:repository.py:68 This may take a few minutes...
___________________ test_local_conda_additional_dependencies ___________________
Traceback (most recent call last):
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 341, in from_call
    result: Optional[TResult] = func()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 262, in <lambda>
    lambda: ihook(item=item, **kwds), when=when, reraise=reraise
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 152, in _multicall
    return outcome.get_result()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_result.py", line 114, in get_result
    raise exc.with_traceback(exc.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 177, in pytest_runtest_call
    raise e
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 169, in pytest_runtest_call
    item.runtest()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 1792, in runtest
    self.ihook.pytest_pyfunc_call(pyfuncitem=self)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 113, in _multicall
    raise exception.with_traceback(exception.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 194, in pytest_pyfunc_call
    result = testfunction(**testargs)
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 119, in test_local_conda_additional_dependencies
    hook = _get_hook(config, store, 'local-conda')
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 61, in _get_hook
    install_hook_envs([hook], store)
  File "/workdir/pre-commit-2.20.0/pre_commit/repository.py", line 223, in install_hook_envs
    _hook_install(hook)
  File "/workdir/pre-commit-2.20.0/pre_commit/repository.py", line 79, in _hook_install
    lang.install_environment(
  File "/workdir/pre-commit-2.20.0/pre_commit/languages/conda.py", line 75, in install_environment
    cmd_output_b(
  File "/workdir/pre-commit-2.20.0/pre_commit/util.py", line 146, in cmd_output_b
    raise CalledProcessError(returncode, cmd, retcode, stdout_b, stderr_b)
pre_commit.util.CalledProcessError: command: ('conda', 'env', 'create', '-p', '/tmp/pytest-of-tester/pytest-44/test_local_conda_additional_de0/0/.pre-commit/repoau7ivdbw/conda-default', '--file', 'environment.yml')
return code: 1
expected return code: 0
stdout:
    Executable `conda` not found
stderr: (none)
----------------------------- Captured stdout call -----------------------------
[INFO] Initializing environment for local:botocore.
[INFO] Installing environment for local.
[INFO] Once installed this environment will be reused.
[INFO] This may take a few minutes...
------------------------------ Captured log call -------------------------------
INFO     pre_commit:store.py:139 Initializing environment for local:botocore.
INFO     pre_commit:repository.py:66 Installing environment for local.
INFO     pre_commit:repository.py:67 Once installed this environment will be reused.
INFO     pre_commit:repository.py:68 This may take a few minutes...
_________________ test_switch_language_versions_doesnt_clobber _________________
Traceback (most recent call last):
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 341, in from_call
    result: Optional[TResult] = func()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 262, in <lambda>
    lambda: ihook(item=item, **kwds), when=when, reraise=reraise
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 152, in _multicall
    return outcome.get_result()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_result.py", line 114, in get_result
    raise exc.with_traceback(exc.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 177, in pytest_runtest_call
    raise e
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 169, in pytest_runtest_call
    item.runtest()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 1792, in runtest
    self.ihook.pytest_pyfunc_call(pyfuncitem=self)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 113, in _multicall
    raise exception.with_traceback(exception.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 194, in pytest_pyfunc_call
    result = testfunction(**testargs)
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 189, in test_switch_language_versions_doesnt_clobber
    run_on_version('python2', b'2\n[]\nHello World\n')
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 184, in run_on_version
    hook = _get_hook(config, store, 'python3-hook')
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 61, in _get_hook
    install_hook_envs([hook], store)
  File "/workdir/pre-commit-2.20.0/pre_commit/repository.py", line 223, in install_hook_envs
    _hook_install(hook)
  File "/workdir/pre-commit-2.20.0/pre_commit/repository.py", line 79, in _hook_install
    lang.install_environment(
  File "/workdir/pre-commit-2.20.0/pre_commit/languages/python.py", line 219, in install_environment
    cmd_output_b(*venv_cmd, cwd='/')
  File "/workdir/pre-commit-2.20.0/pre_commit/util.py", line 146, in cmd_output_b
    raise CalledProcessError(returncode, cmd, retcode, stdout_b, stderr_b)
pre_commit.util.CalledProcessError: command: ('/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/bin/python', '-mvirtualenv', '/tmp/pytest-of-tester/pytest-44/test_switch_language_versions_0/0/.pre-commit/repozkdp9ch7/py_env-python2', '-p', 'python2')
return code: 1
expected return code: 0
stdout:
    RuntimeError: failed to find interpreter for Builtin discover of python_spec='python2'
    
stderr: (none)
----------------------------- Captured stdout call -----------------------------
[INFO] Initializing environment for file:///tmp/pytest-of-tester/pytest-44/test_switch_language_versions_0/1.
[INFO] Installing environment for file:///tmp/pytest-of-tester/pytest-44/test_switch_language_versions_0/1.
[INFO] Once installed this environment will be reused.
[INFO] This may take a few minutes...
------------------------------ Captured log call -------------------------------
INFO     pre_commit:store.py:139 Initializing environment for file:///tmp/pytest-of-tester/pytest-44/test_switch_language_versions_0/1.
INFO     pre_commit:repository.py:66 Installing environment for file:///tmp/pytest-of-tester/pytest-44/test_switch_language_versions_0/1.
INFO     pre_commit:repository.py:67 Once installed this environment will be reused.
INFO     pre_commit:repository.py:68 This may take a few minutes...
_________________________________ test_r_hook __________________________________
Traceback (most recent call last):
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 341, in from_call
    result: Optional[TResult] = func()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 262, in <lambda>
    lambda: ihook(item=item, **kwds), when=when, reraise=reraise
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 152, in _multicall
    return outcome.get_result()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_result.py", line 114, in get_result
    raise exc.with_traceback(exc.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 177, in pytest_runtest_call
    raise e
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 169, in pytest_runtest_call
    item.runtest()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 1792, in runtest
    self.ihook.pytest_pyfunc_call(pyfuncitem=self)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 113, in _multicall
    raise exception.with_traceback(exception.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 194, in pytest_pyfunc_call
    result = testfunction(**testargs)
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 281, in test_r_hook
    _test_hook_repo(
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 78, in _test_hook_repo
    hook = _get_hook(config, store, hook_id)
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 61, in _get_hook
    install_hook_envs([hook], store)
  File "/workdir/pre-commit-2.20.0/pre_commit/repository.py", line 223, in install_hook_envs
    _hook_install(hook)
  File "/workdir/pre-commit-2.20.0/pre_commit/repository.py", line 79, in _hook_install
    lang.install_environment(
  File "/workdir/pre-commit-2.20.0/pre_commit/languages/r.py", line 139, in install_environment
    cmd_output_b(
  File "/workdir/pre-commit-2.20.0/pre_commit/util.py", line 146, in cmd_output_b
    raise CalledProcessError(returncode, cmd, retcode, stdout_b, stderr_b)
pre_commit.util.CalledProcessError: command: ('Rscript', '--vanilla', '-e', '    options(install.packages.compile.from.source = "never")\n                prefix_dir <- \'/tmp/pytest-of-tester/pytest-44/test_r_hook0/0/.pre-commit/repox1lj4jcq\'\n            options(\n                repos = c(CRAN = "https://cran.rstudio.com"),\n                renv.consent = TRUE\n            )\n            source("renv/activate.R")\n            renv::restore()\n            activate_statement <- paste0(\n              \'suppressWarnings({\',\n              \'old <- setwd("\', getwd(), \'"); \',\n              \'source("renv/activate.R"); \',\n              \'setwd(old); \',\n              \'renv::load("\', getwd(), \'");})\'\n            )\n            writeLines(activate_statement, \'activate.R\')\n            is_package <- tryCatch(\n              {\n                  path_desc <- file.path(prefix_dir, \'DESCRIPTION\')\n                  suppressWarnings(desc <- read.dcf(path_desc))\n                  "Package" %in% colnames(desc)\n              },\n              error = function(...) FALSE\n            )\n            if (is_package) {\n                renv::install(prefix_dir)\n            }\n            \n    ')
return code: 1
expected return code: 0
stdout:
    Executable `Rscript` not found
stderr: (none)
----------------------------- Captured stdout call -----------------------------
[INFO] Initializing environment for file:///tmp/pytest-of-tester/pytest-44/test_r_hook0/1.
[INFO] Installing environment for file:///tmp/pytest-of-tester/pytest-44/test_r_hook0/1.
[INFO] Once installed this environment will be reused.
[INFO] This may take a few minutes...
------------------------------ Captured log call -------------------------------
INFO     pre_commit:store.py:139 Initializing environment for file:///tmp/pytest-of-tester/pytest-44/test_r_hook0/1.
INFO     pre_commit:repository.py:66 Installing environment for file:///tmp/pytest-of-tester/pytest-44/test_r_hook0/1.
INFO     pre_commit:repository.py:67 Once installed this environment will be reused.
INFO     pre_commit:repository.py:68 This may take a few minutes...
______________________________ test_r_inline_hook ______________________________
Traceback (most recent call last):
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 341, in from_call
    result: Optional[TResult] = func()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 262, in <lambda>
    lambda: ihook(item=item, **kwds), when=when, reraise=reraise
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 152, in _multicall
    return outcome.get_result()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_result.py", line 114, in get_result
    raise exc.with_traceback(exc.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 177, in pytest_runtest_call
    raise e
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 169, in pytest_runtest_call
    item.runtest()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 1792, in runtest
    self.ihook.pytest_pyfunc_call(pyfuncitem=self)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 113, in _multicall
    raise exception.with_traceback(exception.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 194, in pytest_pyfunc_call
    result = testfunction(**testargs)
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 289, in test_r_inline_hook
    _test_hook_repo(
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 78, in _test_hook_repo
    hook = _get_hook(config, store, hook_id)
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 61, in _get_hook
    install_hook_envs([hook], store)
  File "/workdir/pre-commit-2.20.0/pre_commit/repository.py", line 223, in install_hook_envs
    _hook_install(hook)
  File "/workdir/pre-commit-2.20.0/pre_commit/repository.py", line 79, in _hook_install
    lang.install_environment(
  File "/workdir/pre-commit-2.20.0/pre_commit/languages/r.py", line 139, in install_environment
    cmd_output_b(
  File "/workdir/pre-commit-2.20.0/pre_commit/util.py", line 146, in cmd_output_b
    raise CalledProcessError(returncode, cmd, retcode, stdout_b, stderr_b)
pre_commit.util.CalledProcessError: command: ('Rscript', '--vanilla', '-e', '    options(install.packages.compile.from.source = "never")\n                prefix_dir <- \'/tmp/pytest-of-tester/pytest-44/test_r_inline_hook0/0/.pre-commit/repo5s860thm\'\n            options(\n                repos = c(CRAN = "https://cran.rstudio.com"),\n                renv.consent = TRUE\n            )\n            source("renv/activate.R")\n            renv::restore()\n            activate_statement <- paste0(\n              \'suppressWarnings({\',\n              \'old <- setwd("\', getwd(), \'"); \',\n              \'source("renv/activate.R"); \',\n              \'setwd(old); \',\n              \'renv::load("\', getwd(), \'");})\'\n            )\n            writeLines(activate_statement, \'activate.R\')\n            is_package <- tryCatch(\n              {\n                  path_desc <- file.path(prefix_dir, \'DESCRIPTION\')\n                  suppressWarnings(desc <- read.dcf(path_desc))\n                  "Package" %in% colnames(desc)\n              },\n              error = function(...) FALSE\n            )\n            if (is_package) {\n                renv::install(prefix_dir)\n            }\n            \n    ')
return code: 1
expected return code: 0
stdout:
    Executable `Rscript` not found
stderr: (none)
----------------------------- Captured stdout call -----------------------------
[INFO] Initializing environment for file:///tmp/pytest-of-tester/pytest-44/test_r_inline_hook0/1.
[INFO] Installing environment for file:///tmp/pytest-of-tester/pytest-44/test_r_inline_hook0/1.
[INFO] Once installed this environment will be reused.
[INFO] This may take a few minutes...
------------------------------ Captured log call -------------------------------
INFO     pre_commit:store.py:139 Initializing environment for file:///tmp/pytest-of-tester/pytest-44/test_r_inline_hook0/1.
INFO     pre_commit:repository.py:66 Installing environment for file:///tmp/pytest-of-tester/pytest-44/test_r_inline_hook0/1.
INFO     pre_commit:repository.py:67 Once installed this environment will be reused.
INFO     pre_commit:repository.py:68 This may take a few minutes...
___________________ test_r_with_additional_dependencies_hook ___________________
Traceback (most recent call last):
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 341, in from_call
    result: Optional[TResult] = func()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 262, in <lambda>
    lambda: ihook(item=item, **kwds), when=when, reraise=reraise
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 152, in _multicall
    return outcome.get_result()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_result.py", line 114, in get_result
    raise exc.with_traceback(exc.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 177, in pytest_runtest_call
    raise e
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 169, in pytest_runtest_call
    item.runtest()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 1792, in runtest
    self.ihook.pytest_pyfunc_call(pyfuncitem=self)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 113, in _multicall
    raise exception.with_traceback(exception.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 194, in pytest_pyfunc_call
    result = testfunction(**testargs)
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 297, in test_r_with_additional_dependencies_hook
    _test_hook_repo(
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 78, in _test_hook_repo
    hook = _get_hook(config, store, hook_id)
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 61, in _get_hook
    install_hook_envs([hook], store)
  File "/workdir/pre-commit-2.20.0/pre_commit/repository.py", line 223, in install_hook_envs
    _hook_install(hook)
  File "/workdir/pre-commit-2.20.0/pre_commit/repository.py", line 79, in _hook_install
    lang.install_environment(
  File "/workdir/pre-commit-2.20.0/pre_commit/languages/r.py", line 139, in install_environment
    cmd_output_b(
  File "/workdir/pre-commit-2.20.0/pre_commit/util.py", line 146, in cmd_output_b
    raise CalledProcessError(returncode, cmd, retcode, stdout_b, stderr_b)
pre_commit.util.CalledProcessError: command: ('Rscript', '--vanilla', '-e', '    options(install.packages.compile.from.source = "never")\n                prefix_dir <- \'/tmp/pytest-of-tester/pytest-44/test_r_with_additional_depende0/0/.pre-commit/repo9i2mbd7y\'\n            options(\n                repos = c(CRAN = "https://cran.rstudio.com"),\n                renv.consent = TRUE\n            )\n            source("renv/activate.R")\n            renv::restore()\n            activate_statement <- paste0(\n              \'suppressWarnings({\',\n              \'old <- setwd("\', getwd(), \'"); \',\n              \'source("renv/activate.R"); \',\n              \'setwd(old); \',\n              \'renv::load("\', getwd(), \'");})\'\n            )\n            writeLines(activate_statement, \'activate.R\')\n            is_package <- tryCatch(\n              {\n                  path_desc <- file.path(prefix_dir, \'DESCRIPTION\')\n                  suppressWarnings(desc <- read.dcf(path_desc))\n                  "Package" %in% colnames(desc)\n              },\n              error = function(...) FALSE\n            )\n            if (is_package) {\n                renv::install(prefix_dir)\n            }\n            \n    ')
return code: 1
expected return code: 0
stdout:
    Executable `Rscript` not found
stderr: (none)
----------------------------- Captured stdout call -----------------------------
[INFO] Initializing environment for file:///tmp/pytest-of-tester/pytest-44/test_r_with_additional_depende0/1.
[INFO] Initializing environment for file:///tmp/pytest-of-tester/pytest-44/test_r_with_additional_depende0/1:cachem@1.0.4.
[INFO] Installing environment for file:///tmp/pytest-of-tester/pytest-44/test_r_with_additional_depende0/1.
[INFO] Once installed this environment will be reused.
[INFO] This may take a few minutes...
------------------------------ Captured log call -------------------------------
INFO     pre_commit:store.py:139 Initializing environment for file:///tmp/pytest-of-tester/pytest-44/test_r_with_additional_depende0/1.
INFO     pre_commit:store.py:139 Initializing environment for file:///tmp/pytest-of-tester/pytest-44/test_r_with_additional_depende0/1:cachem@1.0.4.
INFO     pre_commit:repository.py:66 Installing environment for file:///tmp/pytest-of-tester/pytest-44/test_r_with_additional_depende0/1.
INFO     pre_commit:repository.py:67 Once installed this environment will be reused.
INFO     pre_commit:repository.py:68 This may take a few minutes...
________________ test_r_local_with_additional_dependencies_hook ________________
Traceback (most recent call last):
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 341, in from_call
    result: Optional[TResult] = func()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 262, in <lambda>
    lambda: ihook(item=item, **kwds), when=when, reraise=reraise
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 152, in _multicall
    return outcome.get_result()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_result.py", line 114, in get_result
    raise exc.with_traceback(exc.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 177, in pytest_runtest_call
    raise e
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 169, in pytest_runtest_call
    item.runtest()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 1792, in runtest
    self.ihook.pytest_pyfunc_call(pyfuncitem=self)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 113, in _multicall
    raise exception.with_traceback(exception.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 194, in pytest_pyfunc_call
    result = testfunction(**testargs)
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 322, in test_r_local_with_additional_dependencies_hook
    hook = _get_hook(config, store, 'local-r')
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 61, in _get_hook
    install_hook_envs([hook], store)
  File "/workdir/pre-commit-2.20.0/pre_commit/repository.py", line 223, in install_hook_envs
    _hook_install(hook)
  File "/workdir/pre-commit-2.20.0/pre_commit/repository.py", line 79, in _hook_install
    lang.install_environment(
  File "/workdir/pre-commit-2.20.0/pre_commit/languages/r.py", line 139, in install_environment
    cmd_output_b(
  File "/workdir/pre-commit-2.20.0/pre_commit/util.py", line 146, in cmd_output_b
    raise CalledProcessError(returncode, cmd, retcode, stdout_b, stderr_b)
pre_commit.util.CalledProcessError: command: ('Rscript', '--vanilla', '-e', '    options(install.packages.compile.from.source = "never")\n                prefix_dir <- \'/tmp/pytest-of-tester/pytest-44/test_r_local_with_additional_d0/0/.pre-commit/repobzwqsg_1\'\n            options(\n                repos = c(CRAN = "https://cran.rstudio.com"),\n                renv.consent = TRUE\n            )\n            source("renv/activate.R")\n            renv::restore()\n            activate_statement <- paste0(\n              \'suppressWarnings({\',\n              \'old <- setwd("\', getwd(), \'"); \',\n              \'source("renv/activate.R"); \',\n              \'setwd(old); \',\n              \'renv::load("\', getwd(), \'");})\'\n            )\n            writeLines(activate_statement, \'activate.R\')\n            is_package <- tryCatch(\n              {\n                  path_desc <- file.path(prefix_dir, \'DESCRIPTION\')\n                  suppressWarnings(desc <- read.dcf(path_desc))\n                  "Package" %in% colnames(desc)\n              },\n              error = function(...) FALSE\n            )\n            if (is_package) {\n                renv::install(prefix_dir)\n            }\n            \n    ')
return code: 1
expected return code: 0
stdout:
    Executable `Rscript` not found
stderr: (none)
----------------------------- Captured stdout call -----------------------------
[INFO] Initializing environment for local:R6@2.1.3.
[INFO] Installing environment for local.
[INFO] Once installed this environment will be reused.
[INFO] This may take a few minutes...
------------------------------ Captured log call -------------------------------
INFO     pre_commit:store.py:139 Initializing environment for local:R6@2.1.3.
INFO     pre_commit:repository.py:66 Installing environment for local.
INFO     pre_commit:repository.py:67 Once installed this environment will be reused.
INFO     pre_commit:repository.py:68 This may take a few minutes...
_____________________________ test_run_a_ruby_hook _____________________________
Traceback (most recent call last):
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 341, in from_call
    result: Optional[TResult] = func()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 262, in <lambda>
    lambda: ihook(item=item, **kwds), when=when, reraise=reraise
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 152, in _multicall
    return outcome.get_result()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_result.py", line 114, in get_result
    raise exc.with_traceback(exc.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 177, in pytest_runtest_call
    raise e
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 169, in pytest_runtest_call
    item.runtest()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 1792, in runtest
    self.ihook.pytest_pyfunc_call(pyfuncitem=self)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 113, in _multicall
    raise exception.with_traceback(exception.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 194, in pytest_pyfunc_call
    result = testfunction(**testargs)
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 329, in test_run_a_ruby_hook
    _test_hook_repo(
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 78, in _test_hook_repo
    hook = _get_hook(config, store, hook_id)
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 61, in _get_hook
    install_hook_envs([hook], store)
  File "/workdir/pre-commit-2.20.0/pre_commit/repository.py", line 223, in install_hook_envs
    _hook_install(hook)
  File "/workdir/pre-commit-2.20.0/pre_commit/repository.py", line 79, in _hook_install
    lang.install_environment(
  File "/workdir/pre-commit-2.20.0/pre_commit/languages/ruby.py", line 133, in install_environment
    helpers.run_setup_cmd(
  File "/workdir/pre-commit-2.20.0/pre_commit/languages/helpers.py", line 48, in run_setup_cmd
    cmd_output_b(*cmd, cwd=prefix.prefix_dir, **kwargs)
  File "/workdir/pre-commit-2.20.0/pre_commit/util.py", line 146, in cmd_output_b
    raise CalledProcessError(returncode, cmd, retcode, stdout_b, stderr_b)
pre_commit.util.CalledProcessError: command: ('gem', 'build', 'ruby_hook.gemspec')
return code: 1
expected return code: 0
stdout:
    Executable `gem` not found
stderr: (none)
----------------------------- Captured stdout call -----------------------------
[INFO] Initializing environment for file:///tmp/pytest-of-tester/pytest-44/test_run_a_ruby_hook0/1.
[INFO] Installing environment for file:///tmp/pytest-of-tester/pytest-44/test_run_a_ruby_hook0/1.
[INFO] Once installed this environment will be reused.
[INFO] This may take a few minutes...
------------------------------ Captured log call -------------------------------
INFO     pre_commit:store.py:139 Initializing environment for file:///tmp/pytest-of-tester/pytest-44/test_run_a_ruby_hook0/1.
INFO     pre_commit:repository.py:66 Installing environment for file:///tmp/pytest-of-tester/pytest-44/test_run_a_ruby_hook0/1.
INFO     pre_commit:repository.py:67 Once installed this environment will be reused.
INFO     pre_commit:repository.py:68 This may take a few minutes...
__________________ test_run_a_ruby_hook_with_user_install_set __________________
Traceback (most recent call last):
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 341, in from_call
    result: Optional[TResult] = func()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 262, in <lambda>
    lambda: ihook(item=item, **kwds), when=when, reraise=reraise
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 152, in _multicall
    return outcome.get_result()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_result.py", line 114, in get_result
    raise exc.with_traceback(exc.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 177, in pytest_runtest_call
    raise e
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 169, in pytest_runtest_call
    item.runtest()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 1792, in runtest
    self.ihook.pytest_pyfunc_call(pyfuncitem=self)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 113, in _multicall
    raise exception.with_traceback(exception.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 194, in pytest_pyfunc_call
    result = testfunction(**testargs)
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 339, in test_run_a_ruby_hook_with_user_install_set
    test_run_a_ruby_hook(tempdir_factory, store)
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 329, in test_run_a_ruby_hook
    _test_hook_repo(
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 78, in _test_hook_repo
    hook = _get_hook(config, store, hook_id)
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 61, in _get_hook
    install_hook_envs([hook], store)
  File "/workdir/pre-commit-2.20.0/pre_commit/repository.py", line 223, in install_hook_envs
    _hook_install(hook)
  File "/workdir/pre-commit-2.20.0/pre_commit/repository.py", line 79, in _hook_install
    lang.install_environment(
  File "/workdir/pre-commit-2.20.0/pre_commit/languages/ruby.py", line 133, in install_environment
    helpers.run_setup_cmd(
  File "/workdir/pre-commit-2.20.0/pre_commit/languages/helpers.py", line 48, in run_setup_cmd
    cmd_output_b(*cmd, cwd=prefix.prefix_dir, **kwargs)
  File "/workdir/pre-commit-2.20.0/pre_commit/util.py", line 146, in cmd_output_b
    raise CalledProcessError(returncode, cmd, retcode, stdout_b, stderr_b)
pre_commit.util.CalledProcessError: command: ('gem', 'build', 'ruby_hook.gemspec')
return code: 1
expected return code: 0
stdout:
    Executable `gem` not found
stderr: (none)
----------------------------- Captured stdout call -----------------------------
[INFO] Initializing environment for file:///tmp/pytest-of-tester/pytest-44/test_run_a_ruby_hook_with_user0/1.
[INFO] Installing environment for file:///tmp/pytest-of-tester/pytest-44/test_run_a_ruby_hook_with_user0/1.
[INFO] Once installed this environment will be reused.
[INFO] This may take a few minutes...
------------------------------ Captured log call -------------------------------
INFO     pre_commit:store.py:139 Initializing environment for file:///tmp/pytest-of-tester/pytest-44/test_run_a_ruby_hook_with_user0/1.
INFO     pre_commit:repository.py:66 Installing environment for file:///tmp/pytest-of-tester/pytest-44/test_run_a_ruby_hook_with_user0/1.
INFO     pre_commit:repository.py:67 Once installed this environment will be reused.
INFO     pre_commit:repository.py:68 This may take a few minutes...
_______________________________ test_golang_hook _______________________________
Traceback (most recent call last):
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 341, in from_call
    result: Optional[TResult] = func()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 262, in <lambda>
    lambda: ihook(item=item, **kwds), when=when, reraise=reraise
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 152, in _multicall
    return outcome.get_result()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_result.py", line 114, in get_result
    raise exc.with_traceback(exc.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 177, in pytest_runtest_call
    raise e
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 169, in pytest_runtest_call
    item.runtest()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 1792, in runtest
    self.ihook.pytest_pyfunc_call(pyfuncitem=self)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 113, in _multicall
    raise exception.with_traceback(exception.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 194, in pytest_pyfunc_call
    result = testfunction(**testargs)
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 390, in test_golang_hook
    _test_hook_repo(
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 78, in _test_hook_repo
    hook = _get_hook(config, store, hook_id)
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 61, in _get_hook
    install_hook_envs([hook], store)
  File "/workdir/pre-commit-2.20.0/pre_commit/repository.py", line 223, in install_hook_envs
    _hook_install(hook)
  File "/workdir/pre-commit-2.20.0/pre_commit/repository.py", line 79, in _hook_install
    lang.install_environment(
  File "/workdir/pre-commit-2.20.0/pre_commit/languages/golang.py", line 83, in install_environment
    cmd_output_b('go', 'install', './...', cwd=repo_src_dir, env=env)
  File "/workdir/pre-commit-2.20.0/pre_commit/util.py", line 146, in cmd_output_b
    raise CalledProcessError(returncode, cmd, retcode, stdout_b, stderr_b)
pre_commit.util.CalledProcessError: command: ('go', 'install', './...')
return code: 1
expected return code: 0
stdout:
    Executable `go` not found
stderr: (none)
----------------------------- Captured stdout call -----------------------------
[INFO] Initializing environment for file:///tmp/pytest-of-tester/pytest-44/test_golang_hook0/1.
[INFO] Installing environment for file:///tmp/pytest-of-tester/pytest-44/test_golang_hook0/1.
[INFO] Once installed this environment will be reused.
[INFO] This may take a few minutes...
------------------------------ Captured log call -------------------------------
INFO     pre_commit:store.py:139 Initializing environment for file:///tmp/pytest-of-tester/pytest-44/test_golang_hook0/1.
INFO     pre_commit:repository.py:66 Installing environment for file:///tmp/pytest-of-tester/pytest-44/test_golang_hook0/1.
INFO     pre_commit:repository.py:67 Once installed this environment will be reused.
INFO     pre_commit:repository.py:68 This may take a few minutes...
________________ test_golang_hook_still_works_when_gobin_is_set ________________
Traceback (most recent call last):
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 341, in from_call
    result: Optional[TResult] = func()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 262, in <lambda>
    lambda: ihook(item=item, **kwds), when=when, reraise=reraise
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 152, in _multicall
    return outcome.get_result()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_result.py", line 114, in get_result
    raise exc.with_traceback(exc.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 177, in pytest_runtest_call
    raise e
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 169, in pytest_runtest_call
    item.runtest()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 1792, in runtest
    self.ihook.pytest_pyfunc_call(pyfuncitem=self)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 113, in _multicall
    raise exception.with_traceback(exception.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 194, in pytest_pyfunc_call
    result = testfunction(**testargs)
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 399, in test_golang_hook_still_works_when_gobin_is_set
    test_golang_hook(tempdir_factory, store)
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 390, in test_golang_hook
    _test_hook_repo(
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 78, in _test_hook_repo
    hook = _get_hook(config, store, hook_id)
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 61, in _get_hook
    install_hook_envs([hook], store)
  File "/workdir/pre-commit-2.20.0/pre_commit/repository.py", line 223, in install_hook_envs
    _hook_install(hook)
  File "/workdir/pre-commit-2.20.0/pre_commit/repository.py", line 79, in _hook_install
    lang.install_environment(
  File "/workdir/pre-commit-2.20.0/pre_commit/languages/golang.py", line 83, in install_environment
    cmd_output_b('go', 'install', './...', cwd=repo_src_dir, env=env)
  File "/workdir/pre-commit-2.20.0/pre_commit/util.py", line 146, in cmd_output_b
    raise CalledProcessError(returncode, cmd, retcode, stdout_b, stderr_b)
pre_commit.util.CalledProcessError: command: ('go', 'install', './...')
return code: 1
expected return code: 0
stdout:
    Executable `go` not found
stderr: (none)
----------------------------- Captured stdout call -----------------------------
[INFO] Initializing environment for file:///tmp/pytest-of-tester/pytest-44/test_golang_hook_still_works_w0/2.
[INFO] Installing environment for file:///tmp/pytest-of-tester/pytest-44/test_golang_hook_still_works_w0/2.
[INFO] Once installed this environment will be reused.
[INFO] This may take a few minutes...
------------------------------ Captured log call -------------------------------
INFO     pre_commit:store.py:139 Initializing environment for file:///tmp/pytest-of-tester/pytest-44/test_golang_hook_still_works_w0/2.
INFO     pre_commit:repository.py:66 Installing environment for file:///tmp/pytest-of-tester/pytest-44/test_golang_hook_still_works_w0/2.
INFO     pre_commit:repository.py:67 Once installed this environment will be reused.
INFO     pre_commit:repository.py:68 This may take a few minutes...
_____________________ test_golang_with_recursive_submodule _____________________
Traceback (most recent call last):
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 341, in from_call
    result: Optional[TResult] = func()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 262, in <lambda>
    lambda: ihook(item=item, **kwds), when=when, reraise=reraise
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 152, in _multicall
    return outcome.get_result()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_result.py", line 114, in get_result
    raise exc.with_traceback(exc.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 177, in pytest_runtest_call
    raise e
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 169, in pytest_runtest_call
    item.runtest()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 1792, in runtest
    self.ihook.pytest_pyfunc_call(pyfuncitem=self)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 113, in _multicall
    raise exception.with_traceback(exception.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 194, in pytest_pyfunc_call
    result = testfunction(**testargs)
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 446, in test_golang_with_recursive_submodule
    cmd_output('git', '-C', str(repo), 'submodule', 'add', str(sub), 'sub')
  File "/workdir/pre-commit-2.20.0/pre_commit/util.py", line 152, in cmd_output
    returncode, stdout_b, stderr_b = cmd_output_b(*cmd, **kwargs)
  File "/workdir/pre-commit-2.20.0/pre_commit/util.py", line 146, in cmd_output_b
    raise CalledProcessError(returncode, cmd, retcode, stdout_b, stderr_b)
pre_commit.util.CalledProcessError: command: ('/usr/bin/git', '-C', '/tmp/pytest-of-tester/pytest-44/test_golang_with_recursive_sub0/repo', 'submodule', 'add', '/tmp/pytest-of-tester/pytest-44/test_golang_with_recursive_sub0/sub', 'sub')
return code: 128
expected return code: 0
stdout: (none)
stderr:
    Cloning into '/tmp/pytest-of-tester/pytest-44/test_golang_with_recursive_sub0/repo/sub'...
    fatal: transport 'file' not allowed
    fatal: clone of '/tmp/pytest-of-tester/pytest-44/test_golang_with_recursive_sub0/sub' into submodule path '/tmp/pytest-of-tester/pytest-44/test_golang_with_recursive_sub0/repo/sub' failed
    
_________________ test_additional_ruby_dependencies_installed __________________
Traceback (most recent call last):
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 341, in from_call
    result: Optional[TResult] = func()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 262, in <lambda>
    lambda: ihook(item=item, **kwds), when=when, reraise=reraise
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 152, in _multicall
    return outcome.get_result()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_result.py", line 114, in get_result
    raise exc.with_traceback(exc.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 177, in pytest_runtest_call
    raise e
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 169, in pytest_runtest_call
    item.runtest()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 1792, in runtest
    self.ihook.pytest_pyfunc_call(pyfuncitem=self)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 113, in _multicall
    raise exception.with_traceback(exception.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 194, in pytest_pyfunc_call
    result = testfunction(**testargs)
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 655, in test_additional_ruby_dependencies_installed
    hook = _get_hook(config, store, 'ruby_hook')
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 61, in _get_hook
    install_hook_envs([hook], store)
  File "/workdir/pre-commit-2.20.0/pre_commit/repository.py", line 223, in install_hook_envs
    _hook_install(hook)
  File "/workdir/pre-commit-2.20.0/pre_commit/repository.py", line 79, in _hook_install
    lang.install_environment(
  File "/workdir/pre-commit-2.20.0/pre_commit/languages/ruby.py", line 133, in install_environment
    helpers.run_setup_cmd(
  File "/workdir/pre-commit-2.20.0/pre_commit/languages/helpers.py", line 48, in run_setup_cmd
    cmd_output_b(*cmd, cwd=prefix.prefix_dir, **kwargs)
  File "/workdir/pre-commit-2.20.0/pre_commit/util.py", line 146, in cmd_output_b
    raise CalledProcessError(returncode, cmd, retcode, stdout_b, stderr_b)
pre_commit.util.CalledProcessError: command: ('gem', 'build', 'ruby_hook.gemspec')
return code: 1
expected return code: 0
stdout:
    Executable `gem` not found
stderr: (none)
----------------------------- Captured stdout call -----------------------------
[INFO] Initializing environment for file:///tmp/pytest-of-tester/pytest-44/test_additional_ruby_dependenc0/1.
[INFO] Initializing environment for file:///tmp/pytest-of-tester/pytest-44/test_additional_ruby_dependenc0/1:tins.
[INFO] Installing environment for file:///tmp/pytest-of-tester/pytest-44/test_additional_ruby_dependenc0/1.
[INFO] Once installed this environment will be reused.
[INFO] This may take a few minutes...
------------------------------ Captured log call -------------------------------
INFO     pre_commit:store.py:139 Initializing environment for file:///tmp/pytest-of-tester/pytest-44/test_additional_ruby_dependenc0/1.
INFO     pre_commit:store.py:139 Initializing environment for file:///tmp/pytest-of-tester/pytest-44/test_additional_ruby_dependenc0/1:tins.
INFO     pre_commit:repository.py:66 Installing environment for file:///tmp/pytest-of-tester/pytest-44/test_additional_ruby_dependenc0/1.
INFO     pre_commit:repository.py:67 Once installed this environment will be reused.
INFO     pre_commit:repository.py:68 This may take a few minutes...
________________ test_additional_golang_dependencies_installed _________________
Traceback (most recent call last):
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 341, in from_call
    result: Optional[TResult] = func()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 262, in <lambda>
    lambda: ihook(item=item, **kwds), when=when, reraise=reraise
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 152, in _multicall
    return outcome.get_result()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_result.py", line 114, in get_result
    raise exc.with_traceback(exc.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 177, in pytest_runtest_call
    raise e
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 169, in pytest_runtest_call
    item.runtest()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 1792, in runtest
    self.ihook.pytest_pyfunc_call(pyfuncitem=self)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 113, in _multicall
    raise exception.with_traceback(exception.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 194, in pytest_pyfunc_call
    result = testfunction(**testargs)
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 680, in test_additional_golang_dependencies_installed
    hook = _get_hook(config, store, 'golang-hook')
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 61, in _get_hook
    install_hook_envs([hook], store)
  File "/workdir/pre-commit-2.20.0/pre_commit/repository.py", line 223, in install_hook_envs
    _hook_install(hook)
  File "/workdir/pre-commit-2.20.0/pre_commit/repository.py", line 79, in _hook_install
    lang.install_environment(
  File "/workdir/pre-commit-2.20.0/pre_commit/languages/golang.py", line 83, in install_environment
    cmd_output_b('go', 'install', './...', cwd=repo_src_dir, env=env)
  File "/workdir/pre-commit-2.20.0/pre_commit/util.py", line 146, in cmd_output_b
    raise CalledProcessError(returncode, cmd, retcode, stdout_b, stderr_b)
pre_commit.util.CalledProcessError: command: ('go', 'install', './...')
return code: 1
expected return code: 0
stdout:
    Executable `go` not found
stderr: (none)
----------------------------- Captured stdout call -----------------------------
[INFO] Initializing environment for file:///tmp/pytest-of-tester/pytest-44/test_additional_golang_depende0/1.
[INFO] Initializing environment for file:///tmp/pytest-of-tester/pytest-44/test_additional_golang_depende0/1:golang.org/x/example/hello@latest.
[INFO] Installing environment for file:///tmp/pytest-of-tester/pytest-44/test_additional_golang_depende0/1.
[INFO] Once installed this environment will be reused.
[INFO] This may take a few minutes...
------------------------------ Captured log call -------------------------------
INFO     pre_commit:store.py:139 Initializing environment for file:///tmp/pytest-of-tester/pytest-44/test_additional_golang_depende0/1.
INFO     pre_commit:store.py:139 Initializing environment for file:///tmp/pytest-of-tester/pytest-44/test_additional_golang_depende0/1:golang.org/x/example/hello@latest.
INFO     pre_commit:repository.py:66 Installing environment for file:///tmp/pytest-of-tester/pytest-44/test_additional_golang_depende0/1.
INFO     pre_commit:repository.py:67 Once installed this environment will be reused.
INFO     pre_commit:repository.py:68 This may take a few minutes...
__________________ test_local_golang_additional_dependencies ___________________
Traceback (most recent call last):
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 341, in from_call
    result: Optional[TResult] = func()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 262, in <lambda>
    lambda: ihook(item=item, **kwds), when=when, reraise=reraise
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 152, in _multicall
    return outcome.get_result()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_result.py", line 114, in get_result
    raise exc.with_traceback(exc.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 177, in pytest_runtest_call
    raise e
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 169, in pytest_runtest_call
    item.runtest()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 1792, in runtest
    self.ihook.pytest_pyfunc_call(pyfuncitem=self)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 113, in _multicall
    raise exception.with_traceback(exception.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 194, in pytest_pyfunc_call
    result = testfunction(**testargs)
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 702, in test_local_golang_additional_dependencies
    hook = _get_hook(config, store, 'hello')
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 61, in _get_hook
    install_hook_envs([hook], store)
  File "/workdir/pre-commit-2.20.0/pre_commit/repository.py", line 223, in install_hook_envs
    _hook_install(hook)
  File "/workdir/pre-commit-2.20.0/pre_commit/repository.py", line 79, in _hook_install
    lang.install_environment(
  File "/workdir/pre-commit-2.20.0/pre_commit/languages/golang.py", line 83, in install_environment
    cmd_output_b('go', 'install', './...', cwd=repo_src_dir, env=env)
  File "/workdir/pre-commit-2.20.0/pre_commit/util.py", line 146, in cmd_output_b
    raise CalledProcessError(returncode, cmd, retcode, stdout_b, stderr_b)
pre_commit.util.CalledProcessError: command: ('go', 'install', './...')
return code: 1
expected return code: 0
stdout:
    Executable `go` not found
stderr: (none)
----------------------------- Captured stdout call -----------------------------
[INFO] Initializing environment for local:golang.org/x/example/hello@latest.
[INFO] Installing environment for local.
[INFO] Once installed this environment will be reused.
[INFO] This may take a few minutes...
------------------------------ Captured log call -------------------------------
INFO     pre_commit:store.py:139 Initializing environment for local:golang.org/x/example/hello@latest.
INFO     pre_commit:repository.py:66 Installing environment for local.
INFO     pre_commit:repository.py:67 Once installed this environment will be reused.
INFO     pre_commit:repository.py:68 This may take a few minutes...
________________________ test_local_python_repo_python2 ________________________
Traceback (most recent call last):
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 341, in from_call
    result: Optional[TResult] = func()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 262, in <lambda>
    lambda: ihook(item=item, **kwds), when=when, reraise=reraise
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 152, in _multicall
    return outcome.get_result()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_result.py", line 114, in get_result
    raise exc.with_traceback(exc.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 177, in pytest_runtest_call
    raise e
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 169, in pytest_runtest_call
    item.runtest()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 1792, in runtest
    self.ihook.pytest_pyfunc_call(pyfuncitem=self)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 113, in _multicall
    raise exception.with_traceback(exception.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 194, in pytest_pyfunc_call
    result = testfunction(**testargs)
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 906, in test_local_python_repo_python2
    hook = _get_hook(local_python_config, store, 'python3-hook')
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 61, in _get_hook
    install_hook_envs([hook], store)
  File "/workdir/pre-commit-2.20.0/pre_commit/repository.py", line 223, in install_hook_envs
    _hook_install(hook)
  File "/workdir/pre-commit-2.20.0/pre_commit/repository.py", line 79, in _hook_install
    lang.install_environment(
  File "/workdir/pre-commit-2.20.0/pre_commit/languages/python.py", line 219, in install_environment
    cmd_output_b(*venv_cmd, cwd='/')
  File "/workdir/pre-commit-2.20.0/pre_commit/util.py", line 146, in cmd_output_b
    raise CalledProcessError(returncode, cmd, retcode, stdout_b, stderr_b)
pre_commit.util.CalledProcessError: command: ('/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/bin/python', '-mvirtualenv', '/tmp/pytest-of-tester/pytest-44/test_local_python_repo_python20/0/.pre-commit/repotdp342j6/py_env-python2', '-p', 'python2')
return code: 1
expected return code: 0
stdout:
    RuntimeError: failed to find interpreter for Builtin discover of python_spec='python2'
    
stderr: (none)
----------------------------- Captured stdout call -----------------------------
[INFO] Initializing environment for local:/workdir/pre-commit-2.20.0/testing/resources/python3_hooks_repo.
[INFO] Installing environment for local.
[INFO] Once installed this environment will be reused.
[INFO] This may take a few minutes...
------------------------------ Captured log call -------------------------------
INFO     pre_commit:store.py:139 Initializing environment for local:/workdir/pre-commit-2.20.0/testing/resources/python3_hooks_repo.
INFO     pre_commit:repository.py:66 Installing environment for local.
INFO     pre_commit:repository.py:67 Once installed this environment will be reused.
INFO     pre_commit:repository.py:68 This may take a few minutes...
________________________________ test_perl_hook ________________________________
Traceback (most recent call last):
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 341, in from_call
    result: Optional[TResult] = func()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 262, in <lambda>
    lambda: ihook(item=item, **kwds), when=when, reraise=reraise
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 152, in _multicall
    return outcome.get_result()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_result.py", line 114, in get_result
    raise exc.with_traceback(exc.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 177, in pytest_runtest_call
    raise e
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 169, in pytest_runtest_call
    item.runtest()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 1792, in runtest
    self.ihook.pytest_pyfunc_call(pyfuncitem=self)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 113, in _multicall
    raise exception.with_traceback(exception.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 194, in pytest_pyfunc_call
    result = testfunction(**testargs)
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 1026, in test_perl_hook
    _test_hook_repo(
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 78, in _test_hook_repo
    hook = _get_hook(config, store, hook_id)
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 61, in _get_hook
    install_hook_envs([hook], store)
  File "/workdir/pre-commit-2.20.0/pre_commit/repository.py", line 223, in install_hook_envs
    _hook_install(hook)
  File "/workdir/pre-commit-2.20.0/pre_commit/repository.py", line 79, in _hook_install
    lang.install_environment(
  File "/workdir/pre-commit-2.20.0/pre_commit/languages/perl.py", line 57, in install_environment
    helpers.run_setup_cmd(
  File "/workdir/pre-commit-2.20.0/pre_commit/languages/helpers.py", line 48, in run_setup_cmd
    cmd_output_b(*cmd, cwd=prefix.prefix_dir, **kwargs)
  File "/workdir/pre-commit-2.20.0/pre_commit/util.py", line 146, in cmd_output_b
    raise CalledProcessError(returncode, cmd, retcode, stdout_b, stderr_b)
pre_commit.util.CalledProcessError: command: ('cpan', '-T', '.')
return code: 1
expected return code: 0
stdout:
    Executable `cpan` not found
stderr: (none)
----------------------------- Captured stdout call -----------------------------
[INFO] Initializing environment for file:///tmp/pytest-of-tester/pytest-44/test_perl_hook0/1.
[INFO] Installing environment for file:///tmp/pytest-of-tester/pytest-44/test_perl_hook0/1.
[INFO] Once installed this environment will be reused.
[INFO] This may take a few minutes...
------------------------------ Captured log call -------------------------------
INFO     pre_commit:store.py:139 Initializing environment for file:///tmp/pytest-of-tester/pytest-44/test_perl_hook0/1.
INFO     pre_commit:repository.py:66 Installing environment for file:///tmp/pytest-of-tester/pytest-44/test_perl_hook0/1.
INFO     pre_commit:repository.py:67 Once installed this environment will be reused.
INFO     pre_commit:repository.py:68 This may take a few minutes...
___________________ test_local_perl_additional_dependencies ____________________
Traceback (most recent call last):
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 341, in from_call
    result: Optional[TResult] = func()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 262, in <lambda>
    lambda: ihook(item=item, **kwds), when=when, reraise=reraise
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 152, in _multicall
    return outcome.get_result()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_result.py", line 114, in get_result
    raise exc.with_traceback(exc.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 177, in pytest_runtest_call
    raise e
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 169, in pytest_runtest_call
    item.runtest()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 1792, in runtest
    self.ihook.pytest_pyfunc_call(pyfuncitem=self)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 113, in _multicall
    raise exception.with_traceback(exception.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 194, in pytest_pyfunc_call
    result = testfunction(**testargs)
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 1043, in test_local_perl_additional_dependencies
    hook = _get_hook(config, store, 'hello')
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 61, in _get_hook
    install_hook_envs([hook], store)
  File "/workdir/pre-commit-2.20.0/pre_commit/repository.py", line 223, in install_hook_envs
    _hook_install(hook)
  File "/workdir/pre-commit-2.20.0/pre_commit/repository.py", line 79, in _hook_install
    lang.install_environment(
  File "/workdir/pre-commit-2.20.0/pre_commit/languages/perl.py", line 57, in install_environment
    helpers.run_setup_cmd(
  File "/workdir/pre-commit-2.20.0/pre_commit/languages/helpers.py", line 48, in run_setup_cmd
    cmd_output_b(*cmd, cwd=prefix.prefix_dir, **kwargs)
  File "/workdir/pre-commit-2.20.0/pre_commit/util.py", line 146, in cmd_output_b
    raise CalledProcessError(returncode, cmd, retcode, stdout_b, stderr_b)
pre_commit.util.CalledProcessError: command: ('cpan', '-T', '.', 'SHANCOCK/Perl-Tidy-20211029.tar.gz')
return code: 1
expected return code: 0
stdout:
    Executable `cpan` not found
stderr: (none)
----------------------------- Captured stdout call -----------------------------
[INFO] Initializing environment for local:SHANCOCK/Perl-Tidy-20211029.tar.gz.
[INFO] Installing environment for local.
[INFO] Once installed this environment will be reused.
[INFO] This may take a few minutes...
------------------------------ Captured log call -------------------------------
INFO     pre_commit:store.py:139 Initializing environment for local:SHANCOCK/Perl-Tidy-20211029.tar.gz.
INFO     pre_commit:repository.py:66 Installing environment for local.
INFO     pre_commit:repository.py:67 Once installed this environment will be reused.
INFO     pre_commit:repository.py:68 This may take a few minutes...
__________________ test_dotnet_hook[dotnet_hooks_csproj_repo] __________________
Traceback (most recent call last):
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 341, in from_call
    result: Optional[TResult] = func()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 262, in <lambda>
    lambda: ihook(item=item, **kwds), when=when, reraise=reraise
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 152, in _multicall
    return outcome.get_result()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_result.py", line 114, in get_result
    raise exc.with_traceback(exc.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 177, in pytest_runtest_call
    raise e
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 169, in pytest_runtest_call
    item.runtest()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 1792, in runtest
    self.ihook.pytest_pyfunc_call(pyfuncitem=self)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 113, in _multicall
    raise exception.with_traceback(exception.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 194, in pytest_pyfunc_call
    result = testfunction(**testargs)
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 1058, in test_dotnet_hook
    _test_hook_repo(
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 78, in _test_hook_repo
    hook = _get_hook(config, store, hook_id)
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 61, in _get_hook
    install_hook_envs([hook], store)
  File "/workdir/pre-commit-2.20.0/pre_commit/repository.py", line 223, in install_hook_envs
    _hook_install(hook)
  File "/workdir/pre-commit-2.20.0/pre_commit/repository.py", line 79, in _hook_install
    lang.install_environment(
  File "/workdir/pre-commit-2.20.0/pre_commit/languages/dotnet.py", line 51, in install_environment
    helpers.run_setup_cmd(
  File "/workdir/pre-commit-2.20.0/pre_commit/languages/helpers.py", line 48, in run_setup_cmd
    cmd_output_b(*cmd, cwd=prefix.prefix_dir, **kwargs)
  File "/workdir/pre-commit-2.20.0/pre_commit/util.py", line 146, in cmd_output_b
    raise CalledProcessError(returncode, cmd, retcode, stdout_b, stderr_b)
pre_commit.util.CalledProcessError: command: ('dotnet', 'pack', '--configuration', 'Release', '--output', 'pre-commit-build')
return code: 1
expected return code: 0
stdout:
    Executable `dotnet` not found
stderr: (none)
----------------------------- Captured stdout call -----------------------------
[INFO] Initializing environment for file:///tmp/pytest-of-tester/pytest-44/test_dotnet_hook_dotnet_hooks_0/1.
[INFO] Installing environment for file:///tmp/pytest-of-tester/pytest-44/test_dotnet_hook_dotnet_hooks_0/1.
[INFO] Once installed this environment will be reused.
[INFO] This may take a few minutes...
------------------------------ Captured log call -------------------------------
INFO     pre_commit:store.py:139 Initializing environment for file:///tmp/pytest-of-tester/pytest-44/test_dotnet_hook_dotnet_hooks_0/1.
INFO     pre_commit:repository.py:66 Installing environment for file:///tmp/pytest-of-tester/pytest-44/test_dotnet_hook_dotnet_hooks_0/1.
INFO     pre_commit:repository.py:67 Once installed this environment will be reused.
INFO     pre_commit:repository.py:68 This may take a few minutes...
___________________ test_dotnet_hook[dotnet_hooks_sln_repo] ____________________
Traceback (most recent call last):
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 341, in from_call
    result: Optional[TResult] = func()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 262, in <lambda>
    lambda: ihook(item=item, **kwds), when=when, reraise=reraise
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 152, in _multicall
    return outcome.get_result()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_result.py", line 114, in get_result
    raise exc.with_traceback(exc.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 177, in pytest_runtest_call
    raise e
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 169, in pytest_runtest_call
    item.runtest()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 1792, in runtest
    self.ihook.pytest_pyfunc_call(pyfuncitem=self)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 113, in _multicall
    raise exception.with_traceback(exception.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 194, in pytest_pyfunc_call
    result = testfunction(**testargs)
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 1058, in test_dotnet_hook
    _test_hook_repo(
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 78, in _test_hook_repo
    hook = _get_hook(config, store, hook_id)
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 61, in _get_hook
    install_hook_envs([hook], store)
  File "/workdir/pre-commit-2.20.0/pre_commit/repository.py", line 223, in install_hook_envs
    _hook_install(hook)
  File "/workdir/pre-commit-2.20.0/pre_commit/repository.py", line 79, in _hook_install
    lang.install_environment(
  File "/workdir/pre-commit-2.20.0/pre_commit/languages/dotnet.py", line 51, in install_environment
    helpers.run_setup_cmd(
  File "/workdir/pre-commit-2.20.0/pre_commit/languages/helpers.py", line 48, in run_setup_cmd
    cmd_output_b(*cmd, cwd=prefix.prefix_dir, **kwargs)
  File "/workdir/pre-commit-2.20.0/pre_commit/util.py", line 146, in cmd_output_b
    raise CalledProcessError(returncode, cmd, retcode, stdout_b, stderr_b)
pre_commit.util.CalledProcessError: command: ('dotnet', 'pack', '--configuration', 'Release', '--output', 'pre-commit-build')
return code: 1
expected return code: 0
stdout:
    Executable `dotnet` not found
stderr: (none)
----------------------------- Captured stdout call -----------------------------
[INFO] Initializing environment for file:///tmp/pytest-of-tester/pytest-44/test_dotnet_hook_dotnet_hooks_1/1.
[INFO] Installing environment for file:///tmp/pytest-of-tester/pytest-44/test_dotnet_hook_dotnet_hooks_1/1.
[INFO] Once installed this environment will be reused.
[INFO] This may take a few minutes...
------------------------------ Captured log call -------------------------------
INFO     pre_commit:store.py:139 Initializing environment for file:///tmp/pytest-of-tester/pytest-44/test_dotnet_hook_dotnet_hooks_1/1.
INFO     pre_commit:repository.py:66 Installing environment for file:///tmp/pytest-of-tester/pytest-44/test_dotnet_hook_dotnet_hooks_1/1.
INFO     pre_commit:repository.py:67 Once installed this environment will be reused.
INFO     pre_commit:repository.py:68 This may take a few minutes...
__________________ test_dotnet_hook[dotnet_hooks_combo_repo] ___________________
Traceback (most recent call last):
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 341, in from_call
    result: Optional[TResult] = func()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 262, in <lambda>
    lambda: ihook(item=item, **kwds), when=when, reraise=reraise
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 152, in _multicall
    return outcome.get_result()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_result.py", line 114, in get_result
    raise exc.with_traceback(exc.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 177, in pytest_runtest_call
    raise e
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 169, in pytest_runtest_call
    item.runtest()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 1792, in runtest
    self.ihook.pytest_pyfunc_call(pyfuncitem=self)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 113, in _multicall
    raise exception.with_traceback(exception.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 194, in pytest_pyfunc_call
    result = testfunction(**testargs)
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 1058, in test_dotnet_hook
    _test_hook_repo(
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 78, in _test_hook_repo
    hook = _get_hook(config, store, hook_id)
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 61, in _get_hook
    install_hook_envs([hook], store)
  File "/workdir/pre-commit-2.20.0/pre_commit/repository.py", line 223, in install_hook_envs
    _hook_install(hook)
  File "/workdir/pre-commit-2.20.0/pre_commit/repository.py", line 79, in _hook_install
    lang.install_environment(
  File "/workdir/pre-commit-2.20.0/pre_commit/languages/dotnet.py", line 51, in install_environment
    helpers.run_setup_cmd(
  File "/workdir/pre-commit-2.20.0/pre_commit/languages/helpers.py", line 48, in run_setup_cmd
    cmd_output_b(*cmd, cwd=prefix.prefix_dir, **kwargs)
  File "/workdir/pre-commit-2.20.0/pre_commit/util.py", line 146, in cmd_output_b
    raise CalledProcessError(returncode, cmd, retcode, stdout_b, stderr_b)
pre_commit.util.CalledProcessError: command: ('dotnet', 'pack', '--configuration', 'Release', '--output', 'pre-commit-build')
return code: 1
expected return code: 0
stdout:
    Executable `dotnet` not found
stderr: (none)
----------------------------- Captured stdout call -----------------------------
[INFO] Initializing environment for file:///tmp/pytest-of-tester/pytest-44/test_dotnet_hook_dotnet_hooks_2/1.
[INFO] Installing environment for file:///tmp/pytest-of-tester/pytest-44/test_dotnet_hook_dotnet_hooks_2/1.
[INFO] Once installed this environment will be reused.
[INFO] This may take a few minutes...
------------------------------ Captured log call -------------------------------
INFO     pre_commit:store.py:139 Initializing environment for file:///tmp/pytest-of-tester/pytest-44/test_dotnet_hook_dotnet_hooks_2/1.
INFO     pre_commit:repository.py:66 Installing environment for file:///tmp/pytest-of-tester/pytest-44/test_dotnet_hook_dotnet_hooks_2/1.
INFO     pre_commit:repository.py:67 Once installed this environment will be reused.
INFO     pre_commit:repository.py:68 This may take a few minutes...
________________________________ test_dart_hook ________________________________
Traceback (most recent call last):
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 341, in from_call
    result: Optional[TResult] = func()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 262, in <lambda>
    lambda: ihook(item=item, **kwds), when=when, reraise=reraise
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 152, in _multicall
    return outcome.get_result()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_result.py", line 114, in get_result
    raise exc.with_traceback(exc.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 177, in pytest_runtest_call
    raise e
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 169, in pytest_runtest_call
    item.runtest()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 1792, in runtest
    self.ihook.pytest_pyfunc_call(pyfuncitem=self)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 113, in _multicall
    raise exception.with_traceback(exception.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 194, in pytest_pyfunc_call
    result = testfunction(**testargs)
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 1065, in test_dart_hook
    _test_hook_repo(
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 78, in _test_hook_repo
    hook = _get_hook(config, store, hook_id)
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 61, in _get_hook
    install_hook_envs([hook], store)
  File "/workdir/pre-commit-2.20.0/pre_commit/repository.py", line 223, in install_hook_envs
    _hook_install(hook)
  File "/workdir/pre-commit-2.20.0/pre_commit/repository.py", line 79, in _hook_install
    lang.install_environment(
  File "/workdir/pre-commit-2.20.0/pre_commit/languages/dart.py", line 74, in install_environment
    _install_dir(prefix, tmp)
  File "/workdir/pre-commit-2.20.0/pre_commit/languages/dart.py", line 57, in _install_dir
    helpers.run_setup_cmd(prefix_p, ('dart', 'pub', 'get'), env=dart_env)
  File "/workdir/pre-commit-2.20.0/pre_commit/languages/helpers.py", line 48, in run_setup_cmd
    cmd_output_b(*cmd, cwd=prefix.prefix_dir, **kwargs)
  File "/workdir/pre-commit-2.20.0/pre_commit/util.py", line 146, in cmd_output_b
    raise CalledProcessError(returncode, cmd, retcode, stdout_b, stderr_b)
pre_commit.util.CalledProcessError: command: ('dart', 'pub', 'get')
return code: 1
expected return code: 0
stdout:
    Executable `dart` not found
stderr: (none)
----------------------------- Captured stdout call -----------------------------
[INFO] Initializing environment for file:///tmp/pytest-of-tester/pytest-44/test_dart_hook0/1.
[INFO] Installing environment for file:///tmp/pytest-of-tester/pytest-44/test_dart_hook0/1.
[INFO] Once installed this environment will be reused.
[INFO] This may take a few minutes...
------------------------------ Captured log call -------------------------------
INFO     pre_commit:store.py:139 Initializing environment for file:///tmp/pytest-of-tester/pytest-44/test_dart_hook0/1.
INFO     pre_commit:repository.py:66 Installing environment for file:///tmp/pytest-of-tester/pytest-44/test_dart_hook0/1.
INFO     pre_commit:repository.py:67 Once installed this environment will be reused.
INFO     pre_commit:repository.py:68 This may take a few minutes...
___________________ test_local_dart_additional_dependencies ____________________
Traceback (most recent call last):
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 341, in from_call
    result: Optional[TResult] = func()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 262, in <lambda>
    lambda: ihook(item=item, **kwds), when=when, reraise=reraise
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 152, in _multicall
    return outcome.get_result()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_result.py", line 114, in get_result
    raise exc.with_traceback(exc.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 177, in pytest_runtest_call
    raise e
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 169, in pytest_runtest_call
    item.runtest()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 1792, in runtest
    self.ihook.pytest_pyfunc_call(pyfuncitem=self)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 113, in _multicall
    raise exception.with_traceback(exception.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 194, in pytest_pyfunc_call
    result = testfunction(**testargs)
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 1082, in test_local_dart_additional_dependencies
    hook = _get_hook(config, store, 'local-dart')
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 61, in _get_hook
    install_hook_envs([hook], store)
  File "/workdir/pre-commit-2.20.0/pre_commit/repository.py", line 223, in install_hook_envs
    _hook_install(hook)
  File "/workdir/pre-commit-2.20.0/pre_commit/repository.py", line 79, in _hook_install
    lang.install_environment(
  File "/workdir/pre-commit-2.20.0/pre_commit/languages/dart.py", line 74, in install_environment
    _install_dir(prefix, tmp)
  File "/workdir/pre-commit-2.20.0/pre_commit/languages/dart.py", line 57, in _install_dir
    helpers.run_setup_cmd(prefix_p, ('dart', 'pub', 'get'), env=dart_env)
  File "/workdir/pre-commit-2.20.0/pre_commit/languages/helpers.py", line 48, in run_setup_cmd
    cmd_output_b(*cmd, cwd=prefix.prefix_dir, **kwargs)
  File "/workdir/pre-commit-2.20.0/pre_commit/util.py", line 146, in cmd_output_b
    raise CalledProcessError(returncode, cmd, retcode, stdout_b, stderr_b)
pre_commit.util.CalledProcessError: command: ('dart', 'pub', 'get')
return code: 1
expected return code: 0
stdout:
    Executable `dart` not found
stderr: (none)
----------------------------- Captured stdout call -----------------------------
[INFO] Initializing environment for local:hello_world_dart.
[INFO] Installing environment for local.
[INFO] Once installed this environment will be reused.
[INFO] This may take a few minutes...
------------------------------ Captured log call -------------------------------
INFO     pre_commit:store.py:139 Initializing environment for local:hello_world_dart.
INFO     pre_commit:repository.py:66 Installing environment for local.
INFO     pre_commit:repository.py:67 Once installed this environment will be reused.
INFO     pre_commit:repository.py:68 This may take a few minutes...
______________ test_local_dart_additional_dependencies_versioned _______________
Traceback (most recent call last):
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 341, in from_call
    result: Optional[TResult] = func()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 262, in <lambda>
    lambda: ihook(item=item, **kwds), when=when, reraise=reraise
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 152, in _multicall
    return outcome.get_result()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_result.py", line 114, in get_result
    raise exc.with_traceback(exc.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 177, in pytest_runtest_call
    raise e
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 169, in pytest_runtest_call
    item.runtest()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 1792, in runtest
    self.ihook.pytest_pyfunc_call(pyfuncitem=self)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 113, in _multicall
    raise exception.with_traceback(exception.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 194, in pytest_pyfunc_call
    result = testfunction(**testargs)
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 1098, in test_local_dart_additional_dependencies_versioned
    hook = _get_hook(config, store, 'local-dart')
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 61, in _get_hook
    install_hook_envs([hook], store)
  File "/workdir/pre-commit-2.20.0/pre_commit/repository.py", line 223, in install_hook_envs
    _hook_install(hook)
  File "/workdir/pre-commit-2.20.0/pre_commit/repository.py", line 79, in _hook_install
    lang.install_environment(
  File "/workdir/pre-commit-2.20.0/pre_commit/languages/dart.py", line 74, in install_environment
    _install_dir(prefix, tmp)
  File "/workdir/pre-commit-2.20.0/pre_commit/languages/dart.py", line 57, in _install_dir
    helpers.run_setup_cmd(prefix_p, ('dart', 'pub', 'get'), env=dart_env)
  File "/workdir/pre-commit-2.20.0/pre_commit/languages/helpers.py", line 48, in run_setup_cmd
    cmd_output_b(*cmd, cwd=prefix.prefix_dir, **kwargs)
  File "/workdir/pre-commit-2.20.0/pre_commit/util.py", line 146, in cmd_output_b
    raise CalledProcessError(returncode, cmd, retcode, stdout_b, stderr_b)
pre_commit.util.CalledProcessError: command: ('dart', 'pub', 'get')
return code: 1
expected return code: 0
stdout:
    Executable `dart` not found
stderr: (none)
----------------------------- Captured stdout call -----------------------------
[INFO] Initializing environment for local:encrypt:5.0.0.
[INFO] Installing environment for local.
[INFO] Once installed this environment will be reused.
[INFO] This may take a few minutes...
------------------------------ Captured log call -------------------------------
INFO     pre_commit:store.py:139 Initializing environment for local:encrypt:5.0.0.
INFO     pre_commit:repository.py:66 Installing environment for local.
INFO     pre_commit:repository.py:67 Once installed this environment will be reused.
INFO     pre_commit:repository.py:68 This may take a few minutes...
________________________________ test_lua_hook _________________________________
Traceback (most recent call last):
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 341, in from_call
    result: Optional[TResult] = func()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 262, in <lambda>
    lambda: ihook(item=item, **kwds), when=when, reraise=reraise
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 152, in _multicall
    return outcome.get_result()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_result.py", line 114, in get_result
    raise exc.with_traceback(exc.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 177, in pytest_runtest_call
    raise e
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 169, in pytest_runtest_call
    item.runtest()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 1792, in runtest
    self.ihook.pytest_pyfunc_call(pyfuncitem=self)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 113, in _multicall
    raise exception.with_traceback(exception.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 194, in pytest_pyfunc_call
    result = testfunction(**testargs)
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 1152, in test_lua_hook
    _test_hook_repo(
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 78, in _test_hook_repo
    hook = _get_hook(config, store, hook_id)
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 61, in _get_hook
    install_hook_envs([hook], store)
  File "/workdir/pre-commit-2.20.0/pre_commit/repository.py", line 223, in install_hook_envs
    _hook_install(hook)
  File "/workdir/pre-commit-2.20.0/pre_commit/repository.py", line 79, in _hook_install
    lang.install_environment(
  File "/workdir/pre-commit-2.20.0/pre_commit/languages/lua.py", line 68, in install_environment
    with in_env(prefix):
  File "/usr/local/lib/python3.10/contextlib.py", line 135, in __enter__
    return next(self.gen)
  File "/workdir/pre-commit-2.20.0/pre_commit/languages/lua.py", line 55, in in_env
    with envcontext(get_env_patch(_envdir(prefix))):
  File "/workdir/pre-commit-2.20.0/pre_commit/languages/lua.py", line 31, in get_env_patch
    version = _get_lua_version()
  File "/workdir/pre-commit-2.20.0/pre_commit/languages/lua.py", line 26, in _get_lua_version
    _, stdout, _ = cmd_output('luarocks', 'config', '--lua-ver')
  File "/workdir/pre-commit-2.20.0/pre_commit/util.py", line 152, in cmd_output
    returncode, stdout_b, stderr_b = cmd_output_b(*cmd, **kwargs)
  File "/workdir/pre-commit-2.20.0/pre_commit/util.py", line 146, in cmd_output_b
    raise CalledProcessError(returncode, cmd, retcode, stdout_b, stderr_b)
pre_commit.util.CalledProcessError: command: ('luarocks', 'config', '--lua-ver')
return code: 1
expected return code: 0
stdout:
    Executable `luarocks` not found
stderr: (none)
----------------------------- Captured stdout call -----------------------------
[INFO] Initializing environment for file:///tmp/pytest-of-tester/pytest-44/test_lua_hook0/1.
[INFO] Installing environment for file:///tmp/pytest-of-tester/pytest-44/test_lua_hook0/1.
[INFO] Once installed this environment will be reused.
[INFO] This may take a few minutes...
------------------------------ Captured log call -------------------------------
INFO     pre_commit:store.py:139 Initializing environment for file:///tmp/pytest-of-tester/pytest-44/test_lua_hook0/1.
INFO     pre_commit:repository.py:66 Installing environment for file:///tmp/pytest-of-tester/pytest-44/test_lua_hook0/1.
INFO     pre_commit:repository.py:67 Once installed this environment will be reused.
INFO     pre_commit:repository.py:68 This may take a few minutes...
____________________ test_local_lua_additional_dependencies ____________________
Traceback (most recent call last):
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 341, in from_call
    result: Optional[TResult] = func()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 262, in <lambda>
    lambda: ihook(item=item, **kwds), when=when, reraise=reraise
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 152, in _multicall
    return outcome.get_result()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_result.py", line 114, in get_result
    raise exc.with_traceback(exc.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 177, in pytest_runtest_call
    raise e
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 169, in pytest_runtest_call
    item.runtest()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 1792, in runtest
    self.ihook.pytest_pyfunc_call(pyfuncitem=self)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 113, in _multicall
    raise exception.with_traceback(exception.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 194, in pytest_pyfunc_call
    result = testfunction(**testargs)
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 1170, in test_local_lua_additional_dependencies
    hook = _get_hook(config, store, 'local-lua')
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 61, in _get_hook
    install_hook_envs([hook], store)
  File "/workdir/pre-commit-2.20.0/pre_commit/repository.py", line 223, in install_hook_envs
    _hook_install(hook)
  File "/workdir/pre-commit-2.20.0/pre_commit/repository.py", line 79, in _hook_install
    lang.install_environment(
  File "/workdir/pre-commit-2.20.0/pre_commit/languages/lua.py", line 68, in install_environment
    with in_env(prefix):
  File "/usr/local/lib/python3.10/contextlib.py", line 135, in __enter__
    return next(self.gen)
  File "/workdir/pre-commit-2.20.0/pre_commit/languages/lua.py", line 55, in in_env
    with envcontext(get_env_patch(_envdir(prefix))):
  File "/workdir/pre-commit-2.20.0/pre_commit/languages/lua.py", line 31, in get_env_patch
    version = _get_lua_version()
  File "/workdir/pre-commit-2.20.0/pre_commit/languages/lua.py", line 26, in _get_lua_version
    _, stdout, _ = cmd_output('luarocks', 'config', '--lua-ver')
  File "/workdir/pre-commit-2.20.0/pre_commit/util.py", line 152, in cmd_output
    returncode, stdout_b, stderr_b = cmd_output_b(*cmd, **kwargs)
  File "/workdir/pre-commit-2.20.0/pre_commit/util.py", line 146, in cmd_output_b
    raise CalledProcessError(returncode, cmd, retcode, stdout_b, stderr_b)
pre_commit.util.CalledProcessError: command: ('luarocks', 'config', '--lua-ver')
return code: 1
expected return code: 0
stdout:
    Executable `luarocks` not found
stderr: (none)
----------------------------- Captured stdout call -----------------------------
[INFO] Initializing environment for local:luacheck.
[INFO] Installing environment for local.
[INFO] Once installed this environment will be reused.
[INFO] This may take a few minutes...
------------------------------ Captured log call -------------------------------
INFO     pre_commit:store.py:139 Initializing environment for local:luacheck.
INFO     pre_commit:repository.py:66 Installing environment for local.
INFO     pre_commit:repository.py:67 Once installed this environment will be reused.
INFO     pre_commit:repository.py:68 This may take a few minutes...
______________________ test_install_in_submodule_and_run _______________________
Traceback (most recent call last):
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 341, in from_call
    result: Optional[TResult] = func()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 262, in <lambda>
    lambda: ihook(item=item, **kwds), when=when, reraise=reraise
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 152, in _multicall
    return outcome.get_result()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_result.py", line 114, in get_result
    raise exc.with_traceback(exc.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 177, in pytest_runtest_call
    raise e
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 169, in pytest_runtest_call
    item.runtest()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 1792, in runtest
    self.ihook.pytest_pyfunc_call(pyfuncitem=self)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 113, in _multicall
    raise exception.with_traceback(exception.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 194, in pytest_pyfunc_call
    result = testfunction(**testargs)
  File "/workdir/pre-commit-2.20.0/tests/commands/install_uninstall_test.py", line 179, in test_install_in_submodule_and_run
    cmd_output('git', 'submodule', 'add', src_path, 'sub', cwd=parent_path)
  File "/workdir/pre-commit-2.20.0/pre_commit/util.py", line 152, in cmd_output
    returncode, stdout_b, stderr_b = cmd_output_b(*cmd, **kwargs)
  File "/workdir/pre-commit-2.20.0/pre_commit/util.py", line 146, in cmd_output_b
    raise CalledProcessError(returncode, cmd, retcode, stdout_b, stderr_b)
pre_commit.util.CalledProcessError: command: ('/usr/bin/git', 'submodule', 'add', '/tmp/pytest-of-tester/pytest-44/test_install_in_submodule_and_0/2', 'sub')
return code: 128
expected return code: 0
stdout: (none)
stderr:
    Cloning into '/tmp/pytest-of-tester/pytest-44/test_install_in_submodule_and_0/3/sub'...
    fatal: transport 'file' not allowed
    fatal: clone of '/tmp/pytest-of-tester/pytest-44/test_install_in_submodule_and_0/2' into submodule path '/tmp/pytest-of-tester/pytest-44/test_install_in_submodule_and_0/3/sub' failed
    
___________________________ test_install_ruby_system ___________________________
Traceback (most recent call last):
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 341, in from_call
    result: Optional[TResult] = func()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 262, in <lambda>
    lambda: ihook(item=item, **kwds), when=when, reraise=reraise
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 152, in _multicall
    return outcome.get_result()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_result.py", line 114, in get_result
    raise exc.with_traceback(exc.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 177, in pytest_runtest_call
    raise e
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 169, in pytest_runtest_call
    item.runtest()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 1792, in runtest
    self.ihook.pytest_pyfunc_call(pyfuncitem=self)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 113, in _multicall
    raise exception.with_traceback(exception.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 194, in pytest_pyfunc_call
    result = testfunction(**testargs)
  File "/workdir/pre-commit-2.20.0/tests/languages/ruby_test.py", line 53, in test_install_ruby_system
    ruby.install_environment(fake_gem_prefix, 'system', ())
  File "/workdir/pre-commit-2.20.0/pre_commit/languages/ruby.py", line 133, in install_environment
    helpers.run_setup_cmd(
  File "/workdir/pre-commit-2.20.0/pre_commit/languages/helpers.py", line 48, in run_setup_cmd
    cmd_output_b(*cmd, cwd=prefix.prefix_dir, **kwargs)
  File "/workdir/pre-commit-2.20.0/pre_commit/util.py", line 146, in cmd_output_b
    raise CalledProcessError(returncode, cmd, retcode, stdout_b, stderr_b)
pre_commit.util.CalledProcessError: command: ('gem', 'build', 'placeholder_gem.gemspec')
return code: 1
expected return code: 0
stdout:
    Executable `gem` not found
stderr: (none)
__________________________ test_install_ruby_default ___________________________
Traceback (most recent call last):
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 341, in from_call
    result: Optional[TResult] = func()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 262, in <lambda>
    lambda: ihook(item=item, **kwds), when=when, reraise=reraise
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 152, in _multicall
    return outcome.get_result()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_result.py", line 114, in get_result
    raise exc.with_traceback(exc.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 177, in pytest_runtest_call
    raise e
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 169, in pytest_runtest_call
    item.runtest()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 1792, in runtest
    self.ihook.pytest_pyfunc_call(pyfuncitem=self)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 113, in _multicall
    raise exception.with_traceback(exception.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 194, in pytest_pyfunc_call
    result = testfunction(**testargs)
  File "/workdir/pre-commit-2.20.0/tests/languages/ruby_test.py", line 63, in test_install_ruby_default
    ruby.install_environment(fake_gem_prefix, C.DEFAULT, ())
  File "/workdir/pre-commit-2.20.0/pre_commit/languages/ruby.py", line 133, in install_environment
    helpers.run_setup_cmd(
  File "/workdir/pre-commit-2.20.0/pre_commit/languages/helpers.py", line 48, in run_setup_cmd
    cmd_output_b(*cmd, cwd=prefix.prefix_dir, **kwargs)
  File "/workdir/pre-commit-2.20.0/pre_commit/util.py", line 146, in cmd_output_b
    raise CalledProcessError(returncode, cmd, retcode, stdout_b, stderr_b)
pre_commit.util.CalledProcessError: command: ('gem', 'build', 'placeholder_gem.gemspec')
return code: 1
expected return code: 0
stdout:
    Executable `gem` not found
stderr: (none)
- generated xml file: /workdir/results/pre-commit/2.20.0/1/cpython-test-results.xml -
=========================== short test summary info ============================
FAILED tests/repository_test.py::test_conda_hook - pre_commit.util.CalledProc...
FAILED tests/repository_test.py::test_conda_with_additional_dependencies_hook
FAILED tests/repository_test.py::test_local_conda_additional_dependencies - p...
FAILED tests/repository_test.py::test_switch_language_versions_doesnt_clobber
FAILED tests/repository_test.py::test_r_hook - pre_commit.util.CalledProcessE...
FAILED tests/repository_test.py::test_r_inline_hook - pre_commit.util.CalledP...
FAILED tests/repository_test.py::test_r_with_additional_dependencies_hook - p...
FAILED tests/repository_test.py::test_r_local_with_additional_dependencies_hook
FAILED tests/repository_test.py::test_run_a_ruby_hook - pre_commit.util.Calle...
FAILED tests/repository_test.py::test_run_a_ruby_hook_with_user_install_set
FAILED tests/repository_test.py::test_golang_hook - pre_commit.util.CalledPro...
FAILED tests/repository_test.py::test_golang_hook_still_works_when_gobin_is_set
FAILED tests/repository_test.py::test_golang_with_recursive_submodule - pre_c...
FAILED tests/repository_test.py::test_additional_ruby_dependencies_installed
FAILED tests/repository_test.py::test_additional_golang_dependencies_installed
FAILED tests/repository_test.py::test_local_golang_additional_dependencies - ...
FAILED tests/repository_test.py::test_local_python_repo_python2 - pre_commit....
FAILED tests/repository_test.py::test_perl_hook - pre_commit.util.CalledProce...
FAILED tests/repository_test.py::test_local_perl_additional_dependencies - pr...
FAILED tests/repository_test.py::test_dotnet_hook[dotnet_hooks_csproj_repo]
FAILED tests/repository_test.py::test_dotnet_hook[dotnet_hooks_sln_repo] - pr...
FAILED tests/repository_test.py::test_dotnet_hook[dotnet_hooks_combo_repo] - ...
FAILED tests/repository_test.py::test_dart_hook - pre_commit.util.CalledProce...
FAILED tests/repository_test.py::test_local_dart_additional_dependencies - pr...
FAILED tests/repository_test.py::test_local_dart_additional_dependencies_versioned
FAILED tests/repository_test.py::test_lua_hook - pre_commit.util.CalledProces...
FAILED tests/repository_test.py::test_local_lua_additional_dependencies - pre...
FAILED tests/commands/install_uninstall_test.py::test_install_in_submodule_and_run
FAILED tests/languages/ruby_test.py::test_install_ruby_system - pre_commit.ut...
FAILED tests/languages/ruby_test.py::test_install_ruby_default - pre_commit.u...
ERROR tests/git_test.py::test_is_in_merge_conflict_submodule - pre_commit.uti...
ERROR tests/git_test.py::test_get_conflicted_files_in_submodule - pre_commit....
ERROR tests/staged_files_only_test.py::test_sub_staged - pre_commit.util.Call...
ERROR tests/staged_files_only_test.py::test_sub_nothing_unstaged - pre_commit...
ERROR tests/staged_files_only_test.py::test_sub_something_unstaged - pre_comm...
ERROR tests/staged_files_only_test.py::test_submodule_does_not_discard_changes
ERROR tests/staged_files_only_test.py::test_submodule_does_not_discard_changes_recurse
== 30 failed, 678 passed, 8 skipped, 3 xfailed, 7 errors in 552.73s (0:09:12) ==
ERROR: InvocationError for command /workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/bin/pytest -v --tb=native --junitxml /workdir/results/pre-commit/2.20.0/1/cpython-test-results.xml (exited with code 1)
___________________________________ summary ____________________________________
ERROR:   cpythonlibtest-unit-test-tests: commands failed
