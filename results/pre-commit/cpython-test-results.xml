<?xml version="1.0" encoding="utf-8"?><testsuites><testsuite name="pytest" errors="7" failures="30" skipped="11" tests="726" time="552.679" timestamp="2023-11-23T00:25:20.746916" hostname="80ac3eb7f7f2"><testcase classname="tests.clientlib_test" name="test_check_type_tag_failures[definitely-not-a-tag]" time="0.004" /><testcase classname="tests.clientlib_test" name="test_check_type_tag_failures[fiel]" time="0.001" /><testcase classname="tests.clientlib_test" name="test_check_type_tag_success" time="0.001" /><testcase classname="tests.clientlib_test" name="test_config_valid[config_obj0-True]" time="0.001" /><testcase classname="tests.clientlib_test" name="test_config_valid[config_obj1-True]" time="0.001" /><testcase classname="tests.clientlib_test" name="test_config_valid[config_obj2-False]" time="0.001" /><testcase classname="tests.clientlib_test" name="test_local_hooks_with_rev_fails" time="0.001" /><testcase classname="tests.clientlib_test" name="test_config_with_local_hooks_definition_passes" time="0.001" /><testcase classname="tests.clientlib_test" name="test_config_schema_does_not_contain_defaults" time="0.001" /><testcase classname="tests.clientlib_test" name="test_validate_manifest_main_ok" time="0.002" /><testcase classname="tests.clientlib_test" name="test_validate_config_main_ok" time="0.003" /><testcase classname="tests.clientlib_test" name="test_validate_config_old_list_format_ok" time="0.003" /><testcase classname="tests.clientlib_test" name="test_validate_warn_on_unknown_keys_at_repo_level" time="0.003" /><testcase classname="tests.clientlib_test" name="test_validate_warn_on_unknown_keys_at_top_level" time="0.003" /><testcase classname="tests.clientlib_test" name="test_ci_map_key_allowed_at_top_level" time="0.001" /><testcase classname="tests.clientlib_test" name="test_ci_key_must_be_map" time="0.001" /><testcase classname="tests.clientlib_test" name="test_warn_mutable_rev_ok[v0.12.4]" time="0.001" /><testcase classname="tests.clientlib_test" name="test_warn_mutable_rev_ok[b27f281]" time="0.001" /><testcase classname="tests.clientlib_test" name="test_warn_mutable_rev_ok[b27f281eb9398fc8504415d7fbdabf119ea8c5e1]" time="0.001" /><testcase classname="tests.clientlib_test" name="test_warn_mutable_rev_ok[19.10b0]" time="0.001" /><testcase classname="tests.clientlib_test" name="test_warn_mutable_rev_ok[4.3.21-2]" time="0.001" /><testcase classname="tests.clientlib_test" name="test_warn_mutable_rev_invalid[]" time="0.001" /><testcase classname="tests.clientlib_test" name="test_warn_mutable_rev_invalid[HEAD]" time="0.001" /><testcase classname="tests.clientlib_test" name="test_warn_mutable_rev_invalid[stable]" time="0.001" /><testcase classname="tests.clientlib_test" name="test_warn_mutable_rev_invalid[master]" time="0.001" /><testcase classname="tests.clientlib_test" name="test_warn_mutable_rev_invalid[some_branch_name]" time="0.001" /><testcase classname="tests.clientlib_test" name="test_warn_mutable_rev_conditional" time="0.001" /><testcase classname="tests.clientlib_test" name="test_validate_optional_sensible_regex_at_hook[dir/*.py-The 'files' field in hook 'flake8' is a regex, not a glob -- matching '/*' probably isn't what you want here]" time="0.001" /><testcase classname="tests.clientlib_test" name="test_validate_optional_sensible_regex_at_hook[dir[\\/].*\\.py-pre-commit normalizes slashes in the 'files' field in hook 'flake8' to forward slashes, so you can use / instead of [\\/]]" time="0.001" /><testcase classname="tests.clientlib_test" name="test_validate_optional_sensible_regex_at_hook[dir[/\\\\].*\\.py-pre-commit normalizes slashes in the 'files' field in hook 'flake8' to forward slashes, so you can use / instead of [/\\\\]]" time="0.001" /><testcase classname="tests.clientlib_test" name="test_validate_optional_sensible_regex_at_hook[dir[\\\\/].*\\.py-pre-commit normalizes slashes in the 'files' field in hook 'flake8' to forward slashes, so you can use / instead of [\\\\/]]" time="0.001" /><testcase classname="tests.clientlib_test" name="test_validate_optional_sensible_regex_at_top_level[dir/*.py-The top-level 'files' field is a regex, not a glob -- matching '/*' probably isn't what you want here]" time="0.001" /><testcase classname="tests.clientlib_test" name="test_validate_optional_sensible_regex_at_top_level[dir[\\/].*\\.py-pre-commit normalizes the slashes in the top-level 'files' field to forward slashes, so you can use / instead of [\\/]]" time="0.001" /><testcase classname="tests.clientlib_test" name="test_validate_optional_sensible_regex_at_top_level[dir[/\\\\].*\\.py-pre-commit normalizes the slashes in the top-level 'files' field to forward slashes, so you can use / instead of [/\\\\]]" time="0.001" /><testcase classname="tests.clientlib_test" name="test_validate_optional_sensible_regex_at_top_level[dir[\\\\/].*\\.py-pre-commit normalizes the slashes in the top-level 'files' field to forward slashes, so you can use / instead of [\\\\/]]" time="0.001" /><testcase classname="tests.clientlib_test" name="test_mains_not_ok[validate_config_main]" time="0.004" /><testcase classname="tests.clientlib_test" name="test_mains_not_ok[validate_manifest_main]" time="0.005" /><testcase classname="tests.clientlib_test" name="test_valid_manifests[manifest_obj0-True]" time="0.001" /><testcase classname="tests.clientlib_test" name="test_valid_manifests[manifest_obj1-True]" time="0.001" /><testcase classname="tests.clientlib_test" name="test_valid_manifests[manifest_obj2-True]" time="0.001" /><testcase classname="tests.clientlib_test" name="test_migrate_sha_to_rev_ok[dct0]" time="0.001" /><testcase classname="tests.clientlib_test" name="test_migrate_sha_to_rev_ok[dct1]" time="0.001" /><testcase classname="tests.clientlib_test" name="test_migrate_sha_to_rev_ok[dct2]" time="0.001" /><testcase classname="tests.clientlib_test" name="test_migrate_sha_to_rev_ok[dct3]" time="0.001" /><testcase classname="tests.clientlib_test" name="test_migrate_sha_to_rev_dont_specify_both" time="0.001" /><testcase classname="tests.clientlib_test" name="test_migrate_sha_to_rev_conditional_check_failures[dct0]" time="0.001" /><testcase classname="tests.clientlib_test" name="test_migrate_sha_to_rev_conditional_check_failures[dct1]" time="0.001" /><testcase classname="tests.clientlib_test" name="test_migrate_sha_to_rev_conditional_check_failures[dct2]" time="0.001" /><testcase classname="tests.clientlib_test" name="test_migrate_to_sha_apply_default" time="0.001" /><testcase classname="tests.clientlib_test" name="test_migrate_to_sha_ok" time="0.001" /><testcase classname="tests.clientlib_test" name="test_meta_hook_invalid[config_repo0]" time="0.029" /><testcase classname="tests.clientlib_test" name="test_meta_hook_invalid[config_repo1]" time="0.001" /><testcase classname="tests.clientlib_test" name="test_meta_hook_invalid[config_repo2]" time="0.001" /><testcase classname="tests.clientlib_test" name="test_meta_hook_invalid[cannot override entry for meta hooks]" time="0.001" /><testcase classname="tests.clientlib_test" name="test_meta_check_hooks_apply_only_at_top_level" time="0.001" /><testcase classname="tests.clientlib_test" name="test_default_language_version_invalid[mapping0]" time="0.001" /><testcase classname="tests.clientlib_test" name="test_default_language_version_invalid[mapping1]" time="0.001" /><testcase classname="tests.clientlib_test" name="test_minimum_pre_commit_version_failing" time="0.001" /><testcase classname="tests.clientlib_test" name="test_minimum_pre_commit_version_passing" time="0.001" /><testcase classname="tests.clientlib_test" name="test_warn_additional[schema0]" time="0.001" /><testcase classname="tests.clientlib_test" name="test_warn_additional[schema1]" time="0.001" /><testcase classname="tests.color_test" name="test_format_color[foo-\x1b[42m-True-\x1b[42mfoo\x1b[m]" time="0.001" /><testcase classname="tests.color_test" name="test_format_color[foo-\x1b[42m-False-foo]" time="0.001" /><testcase classname="tests.color_test" name="test_use_color_never" time="0.001" /><testcase classname="tests.color_test" name="test_use_color_always" time="0.001" /><testcase classname="tests.color_test" name="test_use_color_no_tty" time="0.001" /><testcase classname="tests.color_test" name="test_use_color_tty_with_color_support" time="0.001" /><testcase classname="tests.color_test" name="test_use_color_tty_without_color_support" time="0.001" /><testcase classname="tests.color_test" name="test_use_color_dumb_term" time="0.001" /><testcase classname="tests.color_test" name="test_use_color_raises_if_given_shenanigans" time="0.001" /><testcase classname="tests.envcontext_test" name="test_trivial" time="0.001" /><testcase classname="tests.envcontext_test" name="test_noop" time="0.001" /><testcase classname="tests.envcontext_test" name="test_adds" time="0.001" /><testcase classname="tests.envcontext_test" name="test_overrides" time="0.001" /><testcase classname="tests.envcontext_test" name="test_unset_but_nothing_to_unset" time="0.001" /><testcase classname="tests.envcontext_test" name="test_unset_things_to_remove" time="0.001" /><testcase classname="tests.envcontext_test" name="test_templated_environment_variable_missing" time="0.001" /><testcase classname="tests.envcontext_test" name="test_templated_environment_variable_defaults" time="0.001" /><testcase classname="tests.envcontext_test" name="test_templated_environment_variable_there" time="0.001" /><testcase classname="tests.envcontext_test" name="test_templated_environ_sources_from_previous" time="0.001" /><testcase classname="tests.envcontext_test" name="test_exception_safety" time="0.001" /><testcase classname="tests.envcontext_test" name="test_integration_os_environ" time="0.001" /><testcase classname="tests.error_handler_test" name="test_error_handler_no_exception" time="0.001" /><testcase classname="tests.error_handler_test" name="test_error_handler_fatal_error" time="0.004" /><testcase classname="tests.error_handler_test" name="test_error_handler_uncaught_error" time="0.003" /><testcase classname="tests.error_handler_test" name="test_error_handler_keyboardinterrupt" time="0.003" /><testcase classname="tests.error_handler_test" name="test_log_and_exit" time="0.038" /><testcase classname="tests.error_handler_test" name="test_error_handler_non_ascii_exception" time="0.029" /><testcase classname="tests.error_handler_test" name="test_error_handler_non_utf8_exception" time="0.028" /><testcase classname="tests.error_handler_test" name="test_error_handler_non_stringable_exception" time="0.027" /><testcase classname="tests.error_handler_test" name="test_error_handler_no_tty" time="0.108" /><testcase classname="tests.error_handler_test" name="test_error_handler_read_only_filesystem" time="0.028" /><testcase classname="tests.git_test" name="test_get_root_at_root" time="0.008" /><testcase classname="tests.git_test" name="test_get_root_deeper" time="0.009" /><testcase classname="tests.git_test" name="test_get_root_in_git_sub_dir" time="0.010" /><testcase classname="tests.git_test" name="test_get_root_not_in_working_dir" time="0.008" /><testcase classname="tests.git_test" name="test_in_exactly_dot_git" time="0.010" /><testcase classname="tests.git_test" name="test_get_root_bare_worktree" time="0.029" /><testcase classname="tests.git_test" name="test_get_git_dir" time="0.024" /><testcase classname="tests.git_test" name="test_get_root_worktree_in_git" time="0.022" /><testcase classname="tests.git_test" name="test_get_staged_files_deleted" time="0.019" /><testcase classname="tests.git_test" name="test_is_not_in_merge_conflict" time="0.008" /><testcase classname="tests.git_test" name="test_is_in_merge_conflict" time="0.081" /><testcase classname="tests.git_test" name="test_is_in_merge_conflict_submodule" time="0.060"><error message="failed on setup with &quot;pre_commit.util.CalledProcessError: command: ('/usr/bin/git', 'submodule', 'add', '/tmp/pytest-of-tester/pytest-44/test_is_in_merge_conflict_subm0/1', 'sub')&#10;return code: 128&#10;expected return code: 0&#10;stdout: (none)&#10;stderr:&#10;    Cloning into '/tmp/pytest-of-tester/pytest-44/test_is_in_merge_conflict_subm0/0/sub'...&#10;    fatal: transport 'file' not allowed&#10;    fatal: clone of '/tmp/pytest-of-tester/pytest-44/test_is_in_merge_conflict_subm0/1' into submodule path '/tmp/pytest-of-tester/pytest-44/test_is_in_merge_conflict_subm0/0/sub' failed&quot;">Traceback (most recent call last):
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 341, in from_call
    result: Optional[TResult] = func()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 262, in &lt;lambda&gt;
    lambda: ihook(item=item, **kwds), when=when, reraise=reraise
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 152, in _multicall
    return outcome.get_result()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_result.py", line 114, in get_result
    raise exc.with_traceback(exc.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 157, in pytest_runtest_setup
    item.session._setupstate.setup(item)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 497, in setup
    raise exc
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 494, in setup
    col.setup()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 1795, in setup
    self._request._fillfixtures()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/fixtures.py", line 566, in _fillfixtures
    item.funcargs[argname] = self.getfixturevalue(argname)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/fixtures.py", line 585, in getfixturevalue
    fixturedef = self._get_active_fixturedef(argname)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/fixtures.py", line 607, in _get_active_fixturedef
    self._compute_fixture_value(fixturedef)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/fixtures.py", line 693, in _compute_fixture_value
    fixturedef.execute(request=subrequest)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/fixtures.py", line 1069, in execute
    result = ihook.pytest_fixture_setup(fixturedef=self, request=request)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 152, in _multicall
    return outcome.get_result()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_result.py", line 114, in get_result
    raise exc.with_traceback(exc.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/fixtures.py", line 1123, in pytest_fixture_setup
    result = call_fixture_func(fixturefunc, request, kwargs)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/fixtures.py", line 895, in call_fixture_func
    fixture_result = next(generator)
  File "/workdir/pre-commit-2.20.0/tests/conftest.py", line 93, in in_conflicting_submodule
    cmd_output('git', 'submodule', 'add', git_dir_2, 'sub', cwd=git_dir_1)
  File "/workdir/pre-commit-2.20.0/pre_commit/util.py", line 152, in cmd_output
    returncode, stdout_b, stderr_b = cmd_output_b(*cmd, **kwargs)
  File "/workdir/pre-commit-2.20.0/pre_commit/util.py", line 146, in cmd_output_b
    raise CalledProcessError(returncode, cmd, retcode, stdout_b, stderr_b)
pre_commit.util.CalledProcessError: command: ('/usr/bin/git', 'submodule', 'add', '/tmp/pytest-of-tester/pytest-44/test_is_in_merge_conflict_subm0/1', 'sub')
return code: 128
expected return code: 0
stdout: (none)
stderr:
    Cloning into '/tmp/pytest-of-tester/pytest-44/test_is_in_merge_conflict_subm0/0/sub'...
    fatal: transport 'file' not allowed
    fatal: clone of '/tmp/pytest-of-tester/pytest-44/test_is_in_merge_conflict_subm0/1' into submodule path '/tmp/pytest-of-tester/pytest-44/test_is_in_merge_conflict_subm0/0/sub' failed</error></testcase><testcase classname="tests.git_test" name="test_cherry_pick_conflict" time="0.094" /><testcase classname="tests.git_test" name="test_get_conflicted_files" time="0.095" /><testcase classname="tests.git_test" name="test_get_conflicted_files_in_submodule" time="0.048"><error message="failed on setup with &quot;pre_commit.util.CalledProcessError: command: ('/usr/bin/git', 'submodule', 'add', '/tmp/pytest-of-tester/pytest-44/test_get_conflicted_files_in_s0/1', 'sub')&#10;return code: 128&#10;expected return code: 0&#10;stdout: (none)&#10;stderr:&#10;    Cloning into '/tmp/pytest-of-tester/pytest-44/test_get_conflicted_files_in_s0/0/sub'...&#10;    fatal: transport 'file' not allowed&#10;    fatal: clone of '/tmp/pytest-of-tester/pytest-44/test_get_conflicted_files_in_s0/1' into submodule path '/tmp/pytest-of-tester/pytest-44/test_get_conflicted_files_in_s0/0/sub' failed&quot;">Traceback (most recent call last):
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 341, in from_call
    result: Optional[TResult] = func()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 262, in &lt;lambda&gt;
    lambda: ihook(item=item, **kwds), when=when, reraise=reraise
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 152, in _multicall
    return outcome.get_result()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_result.py", line 114, in get_result
    raise exc.with_traceback(exc.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 157, in pytest_runtest_setup
    item.session._setupstate.setup(item)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 497, in setup
    raise exc
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 494, in setup
    col.setup()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 1795, in setup
    self._request._fillfixtures()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/fixtures.py", line 566, in _fillfixtures
    item.funcargs[argname] = self.getfixturevalue(argname)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/fixtures.py", line 585, in getfixturevalue
    fixturedef = self._get_active_fixturedef(argname)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/fixtures.py", line 607, in _get_active_fixturedef
    self._compute_fixture_value(fixturedef)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/fixtures.py", line 693, in _compute_fixture_value
    fixturedef.execute(request=subrequest)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/fixtures.py", line 1069, in execute
    result = ihook.pytest_fixture_setup(fixturedef=self, request=request)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 152, in _multicall
    return outcome.get_result()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_result.py", line 114, in get_result
    raise exc.with_traceback(exc.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/fixtures.py", line 1123, in pytest_fixture_setup
    result = call_fixture_func(fixturefunc, request, kwargs)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/fixtures.py", line 895, in call_fixture_func
    fixture_result = next(generator)
  File "/workdir/pre-commit-2.20.0/tests/conftest.py", line 93, in in_conflicting_submodule
    cmd_output('git', 'submodule', 'add', git_dir_2, 'sub', cwd=git_dir_1)
  File "/workdir/pre-commit-2.20.0/pre_commit/util.py", line 152, in cmd_output
    returncode, stdout_b, stderr_b = cmd_output_b(*cmd, **kwargs)
  File "/workdir/pre-commit-2.20.0/pre_commit/util.py", line 146, in cmd_output_b
    raise CalledProcessError(returncode, cmd, retcode, stdout_b, stderr_b)
pre_commit.util.CalledProcessError: command: ('/usr/bin/git', 'submodule', 'add', '/tmp/pytest-of-tester/pytest-44/test_get_conflicted_files_in_s0/1', 'sub')
return code: 128
expected return code: 0
stdout: (none)
stderr:
    Cloning into '/tmp/pytest-of-tester/pytest-44/test_get_conflicted_files_in_s0/0/sub'...
    fatal: transport 'file' not allowed
    fatal: clone of '/tmp/pytest-of-tester/pytest-44/test_get_conflicted_files_in_s0/1' into submodule path '/tmp/pytest-of-tester/pytest-44/test_get_conflicted_files_in_s0/0/sub' failed</error></testcase><testcase classname="tests.git_test" name="test_get_conflicted_files_unstaged_files" time="0.093" /><testcase classname="tests.git_test" name="test_parse_merge_msg_for_conflicts[Merge branch 'foo' into bar\n\nConflicts:\n\tconflict_file\n-expected_output0]" time="0.002" /><testcase classname="tests.git_test" name="test_parse_merge_msg_for_conflicts[Merge branch 'foo' into bar\n\nConflicts:\n\tconflict_file\n\tother_conflict_file\n-expected_output1]" time="0.001" /><testcase classname="tests.git_test" name="test_get_changed_files" time="0.023" /><testcase classname="tests.git_test" name="test_get_changed_files_disparate_histories" time="0.036" /><testcase classname="tests.git_test" name="test_zsplit[foo\x00bar\x00-expected0]" time="0.001" /><testcase classname="tests.git_test" name="test_zsplit[foo\x00-expected1]" time="0.001" /><testcase classname="tests.git_test" name="test_zsplit[-expected2]" time="0.001" /><testcase classname="tests.git_test" name="test_zsplit[foo-expected3]" time="0.001" /><testcase classname="tests.git_test" name="test_all_files_non_ascii" time="0.023" /><testcase classname="tests.git_test" name="test_staged_files_non_ascii" time="0.025" /><testcase classname="tests.git_test" name="test_changed_files_non_ascii" time="0.022" /><testcase classname="tests.git_test" name="test_get_conflicted_files_non_ascii" time="0.094" /><testcase classname="tests.git_test" name="test_intent_to_add" time="0.011" /><testcase classname="tests.git_test" name="test_status_output_with_rename" time="0.023" /><testcase classname="tests.git_test" name="test_no_git_env" time="0.001" /><testcase classname="tests.git_test" name="test_init_repo_no_hooks" time="0.009" /><testcase classname="tests.logging_handler_test" name="test_logging_handler_color" time="0.001" /><testcase classname="tests.logging_handler_test" name="test_logging_handler_no_color" time="0.001" /><testcase classname="tests.main_test" name="test_adjust_args_and_chdir_not_in_git_dir" time="0.005" /><testcase classname="tests.main_test" name="test_adjust_args_and_chdir_noop" time="0.009" /><testcase classname="tests.main_test" name="test_adjust_args_and_chdir_relative_things" time="0.010" /><testcase classname="tests.main_test" name="test_install_on_subst" time="0.000"><skipped type="pytest.skip" message="windows feature">/workdir/pre-commit-2.20.0/tests/main_test.py:47: windows feature</skipped></testcase><testcase classname="tests.main_test" name="test_adjust_args_and_chdir_non_relative_config" time="0.009" /><testcase classname="tests.main_test" name="test_adjust_args_try_repo_repo_relative" time="0.009" /><testcase classname="tests.main_test" name="test_overall_help" time="0.016" /><testcase classname="tests.main_test" name="test_help_command" time="0.016" /><testcase classname="tests.main_test" name="test_help_other_command" time="0.014" /><testcase classname="tests.main_test" name="test_all_cmds[autoupdate]" time="0.068" /><testcase classname="tests.main_test" name="test_all_cmds[clean]" time="0.037" /><testcase classname="tests.main_test" name="test_all_cmds[gc]" time="0.039" /><testcase classname="tests.main_test" name="test_all_cmds[hook-impl]" time="0.050" /><testcase classname="tests.main_test" name="test_all_cmds[install]" time="0.050" /><testcase classname="tests.main_test" name="test_all_cmds[install-hooks]" time="0.054" /><testcase classname="tests.main_test" name="test_all_cmds[migrate-config]" time="0.052" /><testcase classname="tests.main_test" name="test_all_cmds[run]" time="0.092" /><testcase classname="tests.main_test" name="test_all_cmds[sample-config]" time="0.039" /><testcase classname="tests.main_test" name="test_all_cmds[uninstall]" time="0.050" /><testcase classname="tests.main_test" name="test_all_cmds[validate-config]" time="0.037" /><testcase classname="tests.main_test" name="test_all_cmds[validate-manifest]" time="0.040" /><testcase classname="tests.main_test" name="test_try_repo" time="0.046" /><testcase classname="tests.main_test" name="test_init_templatedir" time="0.032" /><testcase classname="tests.main_test" name="test_init_templatedir_options" time="0.032" /><testcase classname="tests.main_test" name="test_help_cmd_in_empty_directory" time="0.017" /><testcase classname="tests.main_test" name="test_expected_fatal_error_no_git_repo" time="0.035" /><testcase classname="tests.output_test" name="test_output_write_writes" time="0.001" /><testcase classname="tests.parse_shebang_test" name="test_file_doesnt_exist" time="0.001" /><testcase classname="tests.parse_shebang_test" name="test_simple_case" time="0.002" /><testcase classname="tests.parse_shebang_test" name="test_find_executable_full_path" time="0.001" /><testcase classname="tests.parse_shebang_test" name="test_find_executable_on_path" time="0.001" /><testcase classname="tests.parse_shebang_test" name="test_find_executable_not_found_none" time="0.001" /><testcase classname="tests.parse_shebang_test" name="test_find_executable_path_added" time="0.002" /><testcase classname="tests.parse_shebang_test" name="test_find_executable_path_ext" time="0.002" /><testcase classname="tests.parse_shebang_test" name="test_normexe_does_not_exist" time="0.001" /><testcase classname="tests.parse_shebang_test" name="test_normexe_does_not_exist_sep" time="0.001" /><testcase classname="tests.parse_shebang_test" name="test_normexe_not_executable" time="0.002" /><testcase classname="tests.parse_shebang_test" name="test_normexe_is_a_directory" time="0.002" /><testcase classname="tests.parse_shebang_test" name="test_normexe_already_full_path" time="0.001" /><testcase classname="tests.parse_shebang_test" name="test_normexe_gives_full_path" time="0.001" /><testcase classname="tests.parse_shebang_test" name="test_normalize_cmd_trivial" time="0.001" /><testcase classname="tests.parse_shebang_test" name="test_normalize_cmd_PATH" time="0.001" /><testcase classname="tests.parse_shebang_test" name="test_normalize_cmd_shebang" time="0.002" /><testcase classname="tests.parse_shebang_test" name="test_normalize_cmd_PATH_shebang_full_path" time="0.003" /><testcase classname="tests.parse_shebang_test" name="test_normalize_cmd_PATH_shebang_PATH" time="0.003" /><testcase classname="tests.prefix_test" name="test_path[foo--foo]" time="0.001" /><testcase classname="tests.prefix_test" name="test_path[foo-bar-foo/bar]" time="0.001" /><testcase classname="tests.prefix_test" name="test_path[foo/bar-../baz-foo/baz]" time="0.001" /><testcase classname="tests.prefix_test" name="test_path[./-bar-bar]" time="0.001" /><testcase classname="tests.prefix_test" name="test_path[./--.]" time="0.001" /><testcase classname="tests.prefix_test" name="test_path[/tmp/foo-/tmp/bar-/tmp/bar]" time="0.001" /><testcase classname="tests.prefix_test" name="test_path_multiple_args" time="0.001" /><testcase classname="tests.prefix_test" name="test_exists" time="0.002" /><testcase classname="tests.prefix_test" name="test_star" time="0.002" /><testcase classname="tests.repository_test" name="test_conda_hook" time="0.098"><failure message="pre_commit.util.CalledProcessError: command: ('conda', 'env', 'create', '-p', '/tmp/pytest-of-tester/pytest-44/test_conda_hook0/0/.pre-commit/repol4tx30lw/conda-default', '--file', 'environment.yml')&#10;return code: 1&#10;expected return code: 0&#10;stdout:&#10;    Executable `conda` not found&#10;stderr: (none)">Traceback (most recent call last):
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 341, in from_call
    result: Optional[TResult] = func()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 262, in &lt;lambda&gt;
    lambda: ihook(item=item, **kwds), when=when, reraise=reraise
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 152, in _multicall
    return outcome.get_result()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_result.py", line 114, in get_result
    raise exc.with_traceback(exc.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 177, in pytest_runtest_call
    raise e
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 169, in pytest_runtest_call
    item.runtest()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 1792, in runtest
    self.ihook.pytest_pyfunc_call(pyfuncitem=self)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 113, in _multicall
    raise exception.with_traceback(exception.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 194, in pytest_pyfunc_call
    result = testfunction(**testargs)
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 85, in test_conda_hook
    _test_hook_repo(
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 78, in _test_hook_repo
    hook = _get_hook(config, store, hook_id)
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 61, in _get_hook
    install_hook_envs([hook], store)
  File "/workdir/pre-commit-2.20.0/pre_commit/repository.py", line 223, in install_hook_envs
    _hook_install(hook)
  File "/workdir/pre-commit-2.20.0/pre_commit/repository.py", line 79, in _hook_install
    lang.install_environment(
  File "/workdir/pre-commit-2.20.0/pre_commit/languages/conda.py", line 75, in install_environment
    cmd_output_b(
  File "/workdir/pre-commit-2.20.0/pre_commit/util.py", line 146, in cmd_output_b
    raise CalledProcessError(returncode, cmd, retcode, stdout_b, stderr_b)
pre_commit.util.CalledProcessError: command: ('conda', 'env', 'create', '-p', '/tmp/pytest-of-tester/pytest-44/test_conda_hook0/0/.pre-commit/repol4tx30lw/conda-default', '--file', 'environment.yml')
return code: 1
expected return code: 0
stdout:
    Executable `conda` not found
stderr: (none)</failure></testcase><testcase classname="tests.repository_test" name="test_conda_with_additional_dependencies_hook" time="0.145"><failure message="pre_commit.util.CalledProcessError: command: ('conda', 'env', 'create', '-p', '/tmp/pytest-of-tester/pytest-44/test_conda_with_additional_dep0/0/.pre-commit/reposewv3ivh/conda-default', '--file', 'environment.yml')&#10;return code: 1&#10;expected return code: 0&#10;stdout:&#10;    Executable `conda` not found&#10;stderr: (none)">Traceback (most recent call last):
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 341, in from_call
    result: Optional[TResult] = func()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 262, in &lt;lambda&gt;
    lambda: ihook(item=item, **kwds), when=when, reraise=reraise
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 152, in _multicall
    return outcome.get_result()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_result.py", line 114, in get_result
    raise exc.with_traceback(exc.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 177, in pytest_runtest_call
    raise e
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 169, in pytest_runtest_call
    item.runtest()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 1792, in runtest
    self.ihook.pytest_pyfunc_call(pyfuncitem=self)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 113, in _multicall
    raise exception.with_traceback(exception.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 194, in pytest_pyfunc_call
    result = testfunction(**testargs)
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 93, in test_conda_with_additional_dependencies_hook
    _test_hook_repo(
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 78, in _test_hook_repo
    hook = _get_hook(config, store, hook_id)
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 61, in _get_hook
    install_hook_envs([hook], store)
  File "/workdir/pre-commit-2.20.0/pre_commit/repository.py", line 223, in install_hook_envs
    _hook_install(hook)
  File "/workdir/pre-commit-2.20.0/pre_commit/repository.py", line 79, in _hook_install
    lang.install_environment(
  File "/workdir/pre-commit-2.20.0/pre_commit/languages/conda.py", line 75, in install_environment
    cmd_output_b(
  File "/workdir/pre-commit-2.20.0/pre_commit/util.py", line 146, in cmd_output_b
    raise CalledProcessError(returncode, cmd, retcode, stdout_b, stderr_b)
pre_commit.util.CalledProcessError: command: ('conda', 'env', 'create', '-p', '/tmp/pytest-of-tester/pytest-44/test_conda_with_additional_dep0/0/.pre-commit/reposewv3ivh/conda-default', '--file', 'environment.yml')
return code: 1
expected return code: 0
stdout:
    Executable `conda` not found
stderr: (none)</failure></testcase><testcase classname="tests.repository_test" name="test_local_conda_additional_dependencies" time="0.055"><failure message="pre_commit.util.CalledProcessError: command: ('conda', 'env', 'create', '-p', '/tmp/pytest-of-tester/pytest-44/test_local_conda_additional_de0/0/.pre-commit/repoau7ivdbw/conda-default', '--file', 'environment.yml')&#10;return code: 1&#10;expected return code: 0&#10;stdout:&#10;    Executable `conda` not found&#10;stderr: (none)">Traceback (most recent call last):
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 341, in from_call
    result: Optional[TResult] = func()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 262, in &lt;lambda&gt;
    lambda: ihook(item=item, **kwds), when=when, reraise=reraise
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 152, in _multicall
    return outcome.get_result()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_result.py", line 114, in get_result
    raise exc.with_traceback(exc.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 177, in pytest_runtest_call
    raise e
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 169, in pytest_runtest_call
    item.runtest()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 1792, in runtest
    self.ihook.pytest_pyfunc_call(pyfuncitem=self)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 113, in _multicall
    raise exception.with_traceback(exception.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 194, in pytest_pyfunc_call
    result = testfunction(**testargs)
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 119, in test_local_conda_additional_dependencies
    hook = _get_hook(config, store, 'local-conda')
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 61, in _get_hook
    install_hook_envs([hook], store)
  File "/workdir/pre-commit-2.20.0/pre_commit/repository.py", line 223, in install_hook_envs
    _hook_install(hook)
  File "/workdir/pre-commit-2.20.0/pre_commit/repository.py", line 79, in _hook_install
    lang.install_environment(
  File "/workdir/pre-commit-2.20.0/pre_commit/languages/conda.py", line 75, in install_environment
    cmd_output_b(
  File "/workdir/pre-commit-2.20.0/pre_commit/util.py", line 146, in cmd_output_b
    raise CalledProcessError(returncode, cmd, retcode, stdout_b, stderr_b)
pre_commit.util.CalledProcessError: command: ('conda', 'env', 'create', '-p', '/tmp/pytest-of-tester/pytest-44/test_local_conda_additional_de0/0/.pre-commit/repoau7ivdbw/conda-default', '--file', 'environment.yml')
return code: 1
expected return code: 0
stdout:
    Executable `conda` not found
stderr: (none)</failure></testcase><testcase classname="tests.repository_test" name="test_python_hook" time="2.051" /><testcase classname="tests.repository_test" name="test_python_hook_default_version" time="1.863" /><testcase classname="tests.repository_test" name="test_python_hook_args_with_spaces" time="1.810" /><testcase classname="tests.repository_test" name="test_python_hook_weird_setup_cfg" time="1.880" /><testcase classname="tests.repository_test" name="test_python_venv" time="1.863" /><testcase classname="tests.repository_test" name="test_switch_language_versions_doesnt_clobber" time="0.262"><failure message="pre_commit.util.CalledProcessError: command: ('/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/bin/python', '-mvirtualenv', '/tmp/pytest-of-tester/pytest-44/test_switch_language_versions_0/0/.pre-commit/repozkdp9ch7/py_env-python2', '-p', 'python2')&#10;return code: 1&#10;expected return code: 0&#10;stdout:&#10;    RuntimeError: failed to find interpreter for Builtin discover of python_spec='python2'&#10;    &#10;stderr: (none)">Traceback (most recent call last):
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 341, in from_call
    result: Optional[TResult] = func()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 262, in &lt;lambda&gt;
    lambda: ihook(item=item, **kwds), when=when, reraise=reraise
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 152, in _multicall
    return outcome.get_result()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_result.py", line 114, in get_result
    raise exc.with_traceback(exc.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 177, in pytest_runtest_call
    raise e
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 169, in pytest_runtest_call
    item.runtest()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 1792, in runtest
    self.ihook.pytest_pyfunc_call(pyfuncitem=self)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 113, in _multicall
    raise exception.with_traceback(exception.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 194, in pytest_pyfunc_call
    result = testfunction(**testargs)
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 189, in test_switch_language_versions_doesnt_clobber
    run_on_version('python2', b'2\n[]\nHello World\n')
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 184, in run_on_version
    hook = _get_hook(config, store, 'python3-hook')
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 61, in _get_hook
    install_hook_envs([hook], store)
  File "/workdir/pre-commit-2.20.0/pre_commit/repository.py", line 223, in install_hook_envs
    _hook_install(hook)
  File "/workdir/pre-commit-2.20.0/pre_commit/repository.py", line 79, in _hook_install
    lang.install_environment(
  File "/workdir/pre-commit-2.20.0/pre_commit/languages/python.py", line 219, in install_environment
    cmd_output_b(*venv_cmd, cwd='/')
  File "/workdir/pre-commit-2.20.0/pre_commit/util.py", line 146, in cmd_output_b
    raise CalledProcessError(returncode, cmd, retcode, stdout_b, stderr_b)
pre_commit.util.CalledProcessError: command: ('/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/bin/python', '-mvirtualenv', '/tmp/pytest-of-tester/pytest-44/test_switch_language_versions_0/0/.pre-commit/repozkdp9ch7/py_env-python2', '-p', 'python2')
return code: 1
expected return code: 0
stdout:
    RuntimeError: failed to find interpreter for Builtin discover of python_spec='python2'
    
stderr: (none)</failure></testcase><testcase classname="tests.repository_test" name="test_versioned_python_hook" time="1.824" /><testcase classname="tests.repository_test" name="test_run_a_coursier_hook" time="0.000"><skipped type="pytest.skip" message="coursier isn't installed or can't be found">/workdir/pre-commit-2.20.0/tests/repository_test.py:202: coursier isn't installed or can't be found</skipped></testcase><testcase classname="tests.repository_test" name="test_run_a_docker_hook" time="0.000"><skipped type="pytest.skip" message="Docker isn't running or can't be accessed">/workdir/pre-commit-2.20.0/tests/repository_test.py:211: Docker isn't running or can't be accessed</skipped></testcase><testcase classname="tests.repository_test" name="test_run_a_docker_hook_with_entry_args" time="0.000"><skipped type="pytest.skip" message="Docker isn't running or can't be accessed">/workdir/pre-commit-2.20.0/tests/repository_test.py:220: Docker isn't running or can't be accessed</skipped></testcase><testcase classname="tests.repository_test" name="test_run_a_failing_docker_hook" time="0.000"><skipped type="pytest.skip" message="Docker isn't running or can't be accessed">/workdir/pre-commit-2.20.0/tests/repository_test.py:229: Docker isn't running or can't be accessed</skipped></testcase><testcase classname="tests.repository_test" name="test_run_a_docker_image_hook[echo-entrypoint]" time="0.000"><skipped type="pytest.skip" message="Docker isn't running or can't be accessed">/workdir/pre-commit-2.20.0/tests/repository_test.py:240: Docker isn't running or can't be accessed</skipped></testcase><testcase classname="tests.repository_test" name="test_run_a_docker_image_hook[echo-cmd]" time="0.000"><skipped type="pytest.skip" message="Docker isn't running or can't be accessed">/workdir/pre-commit-2.20.0/tests/repository_test.py:240: Docker isn't running or can't be accessed</skipped></testcase><testcase classname="tests.repository_test" name="test_run_a_node_hook" time="2.060" /><testcase classname="tests.repository_test" name="test_run_a_node_hook_default_version" time="32.440" /><testcase classname="tests.repository_test" name="test_run_versioned_node_hook" time="7.252" /><testcase classname="tests.repository_test" name="test_node_hook_with_npm_userconfig_set" time="1.939" /><testcase classname="tests.repository_test" name="test_r_hook" time="0.096"><failure message="pre_commit.util.CalledProcessError: command: ('Rscript', '--vanilla', '-e', '    options(install.packages.compile.from.source = &quot;never&quot;)\n                prefix_dir &lt;- \'/tmp/pytest-of-tester/pytest-44/test_r_hook0/0/.pre-commit/repox1lj4jcq\'\n            options(\n                repos = c(CRAN = &quot;https://cran.rstudio.com&quot;),\n                renv.consent = TRUE\n            )\n            source(&quot;renv/activate.R&quot;)\n            renv::restore()\n            activate_statement &lt;- paste0(\n              \'suppressWarnings({\',\n              \'old &lt;- setwd(&quot;\', getwd(), \'&quot;); \',\n              \'source(&quot;renv/activate.R&quot;); \',\n              \'setwd(old); \',\n              \'renv::load(&quot;\', getwd(), \'&quot;);})\'\n            )\n            writeLines(activate_statement, \'activate.R\')\n            is_package &lt;- tryCatch(\n              {\n                  path_desc &lt;- file.path(prefix_dir, \'DESCRIPTION\')\n                  suppressWarnings(desc &lt;- read.dcf(path_desc))\n                  &quot;Package&quot; %in% colnames(desc)\n              },\n              error = function(...) FALSE\n            )\n            if (is_package) {\n                renv::install(prefix_dir)\n            }\n            \n    ')&#10;return code: 1&#10;expected return code: 0&#10;stdout:&#10;    Executable `Rscript` not found&#10;stderr: (none)">Traceback (most recent call last):
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 341, in from_call
    result: Optional[TResult] = func()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 262, in &lt;lambda&gt;
    lambda: ihook(item=item, **kwds), when=when, reraise=reraise
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 152, in _multicall
    return outcome.get_result()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_result.py", line 114, in get_result
    raise exc.with_traceback(exc.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 177, in pytest_runtest_call
    raise e
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 169, in pytest_runtest_call
    item.runtest()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 1792, in runtest
    self.ihook.pytest_pyfunc_call(pyfuncitem=self)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 113, in _multicall
    raise exception.with_traceback(exception.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 194, in pytest_pyfunc_call
    result = testfunction(**testargs)
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 281, in test_r_hook
    _test_hook_repo(
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 78, in _test_hook_repo
    hook = _get_hook(config, store, hook_id)
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 61, in _get_hook
    install_hook_envs([hook], store)
  File "/workdir/pre-commit-2.20.0/pre_commit/repository.py", line 223, in install_hook_envs
    _hook_install(hook)
  File "/workdir/pre-commit-2.20.0/pre_commit/repository.py", line 79, in _hook_install
    lang.install_environment(
  File "/workdir/pre-commit-2.20.0/pre_commit/languages/r.py", line 139, in install_environment
    cmd_output_b(
  File "/workdir/pre-commit-2.20.0/pre_commit/util.py", line 146, in cmd_output_b
    raise CalledProcessError(returncode, cmd, retcode, stdout_b, stderr_b)
pre_commit.util.CalledProcessError: command: ('Rscript', '--vanilla', '-e', '    options(install.packages.compile.from.source = "never")\n                prefix_dir &lt;- \'/tmp/pytest-of-tester/pytest-44/test_r_hook0/0/.pre-commit/repox1lj4jcq\'\n            options(\n                repos = c(CRAN = "https://cran.rstudio.com"),\n                renv.consent = TRUE\n            )\n            source("renv/activate.R")\n            renv::restore()\n            activate_statement &lt;- paste0(\n              \'suppressWarnings({\',\n              \'old &lt;- setwd("\', getwd(), \'"); \',\n              \'source("renv/activate.R"); \',\n              \'setwd(old); \',\n              \'renv::load("\', getwd(), \'");})\'\n            )\n            writeLines(activate_statement, \'activate.R\')\n            is_package &lt;- tryCatch(\n              {\n                  path_desc &lt;- file.path(prefix_dir, \'DESCRIPTION\')\n                  suppressWarnings(desc &lt;- read.dcf(path_desc))\n                  "Package" %in% colnames(desc)\n              },\n              error = function(...) FALSE\n            )\n            if (is_package) {\n                renv::install(prefix_dir)\n            }\n            \n    ')
return code: 1
expected return code: 0
stdout:
    Executable `Rscript` not found
stderr: (none)</failure></testcase><testcase classname="tests.repository_test" name="test_r_inline_hook" time="0.093"><failure message="pre_commit.util.CalledProcessError: command: ('Rscript', '--vanilla', '-e', '    options(install.packages.compile.from.source = &quot;never&quot;)\n                prefix_dir &lt;- \'/tmp/pytest-of-tester/pytest-44/test_r_inline_hook0/0/.pre-commit/repo5s860thm\'\n            options(\n                repos = c(CRAN = &quot;https://cran.rstudio.com&quot;),\n                renv.consent = TRUE\n            )\n            source(&quot;renv/activate.R&quot;)\n            renv::restore()\n            activate_statement &lt;- paste0(\n              \'suppressWarnings({\',\n              \'old &lt;- setwd(&quot;\', getwd(), \'&quot;); \',\n              \'source(&quot;renv/activate.R&quot;); \',\n              \'setwd(old); \',\n              \'renv::load(&quot;\', getwd(), \'&quot;);})\'\n            )\n            writeLines(activate_statement, \'activate.R\')\n            is_package &lt;- tryCatch(\n              {\n                  path_desc &lt;- file.path(prefix_dir, \'DESCRIPTION\')\n                  suppressWarnings(desc &lt;- read.dcf(path_desc))\n                  &quot;Package&quot; %in% colnames(desc)\n              },\n              error = function(...) FALSE\n            )\n            if (is_package) {\n                renv::install(prefix_dir)\n            }\n            \n    ')&#10;return code: 1&#10;expected return code: 0&#10;stdout:&#10;    Executable `Rscript` not found&#10;stderr: (none)">Traceback (most recent call last):
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 341, in from_call
    result: Optional[TResult] = func()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 262, in &lt;lambda&gt;
    lambda: ihook(item=item, **kwds), when=when, reraise=reraise
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 152, in _multicall
    return outcome.get_result()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_result.py", line 114, in get_result
    raise exc.with_traceback(exc.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 177, in pytest_runtest_call
    raise e
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 169, in pytest_runtest_call
    item.runtest()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 1792, in runtest
    self.ihook.pytest_pyfunc_call(pyfuncitem=self)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 113, in _multicall
    raise exception.with_traceback(exception.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 194, in pytest_pyfunc_call
    result = testfunction(**testargs)
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 289, in test_r_inline_hook
    _test_hook_repo(
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 78, in _test_hook_repo
    hook = _get_hook(config, store, hook_id)
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 61, in _get_hook
    install_hook_envs([hook], store)
  File "/workdir/pre-commit-2.20.0/pre_commit/repository.py", line 223, in install_hook_envs
    _hook_install(hook)
  File "/workdir/pre-commit-2.20.0/pre_commit/repository.py", line 79, in _hook_install
    lang.install_environment(
  File "/workdir/pre-commit-2.20.0/pre_commit/languages/r.py", line 139, in install_environment
    cmd_output_b(
  File "/workdir/pre-commit-2.20.0/pre_commit/util.py", line 146, in cmd_output_b
    raise CalledProcessError(returncode, cmd, retcode, stdout_b, stderr_b)
pre_commit.util.CalledProcessError: command: ('Rscript', '--vanilla', '-e', '    options(install.packages.compile.from.source = "never")\n                prefix_dir &lt;- \'/tmp/pytest-of-tester/pytest-44/test_r_inline_hook0/0/.pre-commit/repo5s860thm\'\n            options(\n                repos = c(CRAN = "https://cran.rstudio.com"),\n                renv.consent = TRUE\n            )\n            source("renv/activate.R")\n            renv::restore()\n            activate_statement &lt;- paste0(\n              \'suppressWarnings({\',\n              \'old &lt;- setwd("\', getwd(), \'"); \',\n              \'source("renv/activate.R"); \',\n              \'setwd(old); \',\n              \'renv::load("\', getwd(), \'");})\'\n            )\n            writeLines(activate_statement, \'activate.R\')\n            is_package &lt;- tryCatch(\n              {\n                  path_desc &lt;- file.path(prefix_dir, \'DESCRIPTION\')\n                  suppressWarnings(desc &lt;- read.dcf(path_desc))\n                  "Package" %in% colnames(desc)\n              },\n              error = function(...) FALSE\n            )\n            if (is_package) {\n                renv::install(prefix_dir)\n            }\n            \n    ')
return code: 1
expected return code: 0
stdout:
    Executable `Rscript` not found
stderr: (none)</failure></testcase><testcase classname="tests.repository_test" name="test_r_with_additional_dependencies_hook" time="0.145"><failure message="pre_commit.util.CalledProcessError: command: ('Rscript', '--vanilla', '-e', '    options(install.packages.compile.from.source = &quot;never&quot;)\n                prefix_dir &lt;- \'/tmp/pytest-of-tester/pytest-44/test_r_with_additional_depende0/0/.pre-commit/repo9i2mbd7y\'\n            options(\n                repos = c(CRAN = &quot;https://cran.rstudio.com&quot;),\n                renv.consent = TRUE\n            )\n            source(&quot;renv/activate.R&quot;)\n            renv::restore()\n            activate_statement &lt;- paste0(\n              \'suppressWarnings({\',\n              \'old &lt;- setwd(&quot;\', getwd(), \'&quot;); \',\n              \'source(&quot;renv/activate.R&quot;); \',\n              \'setwd(old); \',\n              \'renv::load(&quot;\', getwd(), \'&quot;);})\'\n            )\n            writeLines(activate_statement, \'activate.R\')\n            is_package &lt;- tryCatch(\n              {\n                  path_desc &lt;- file.path(prefix_dir, \'DESCRIPTION\')\n                  suppressWarnings(desc &lt;- read.dcf(path_desc))\n                  &quot;Package&quot; %in% colnames(desc)\n              },\n              error = function(...) FALSE\n            )\n            if (is_package) {\n                renv::install(prefix_dir)\n            }\n            \n    ')&#10;return code: 1&#10;expected return code: 0&#10;stdout:&#10;    Executable `Rscript` not found&#10;stderr: (none)">Traceback (most recent call last):
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 341, in from_call
    result: Optional[TResult] = func()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 262, in &lt;lambda&gt;
    lambda: ihook(item=item, **kwds), when=when, reraise=reraise
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 152, in _multicall
    return outcome.get_result()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_result.py", line 114, in get_result
    raise exc.with_traceback(exc.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 177, in pytest_runtest_call
    raise e
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 169, in pytest_runtest_call
    item.runtest()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 1792, in runtest
    self.ihook.pytest_pyfunc_call(pyfuncitem=self)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 113, in _multicall
    raise exception.with_traceback(exception.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 194, in pytest_pyfunc_call
    result = testfunction(**testargs)
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 297, in test_r_with_additional_dependencies_hook
    _test_hook_repo(
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 78, in _test_hook_repo
    hook = _get_hook(config, store, hook_id)
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 61, in _get_hook
    install_hook_envs([hook], store)
  File "/workdir/pre-commit-2.20.0/pre_commit/repository.py", line 223, in install_hook_envs
    _hook_install(hook)
  File "/workdir/pre-commit-2.20.0/pre_commit/repository.py", line 79, in _hook_install
    lang.install_environment(
  File "/workdir/pre-commit-2.20.0/pre_commit/languages/r.py", line 139, in install_environment
    cmd_output_b(
  File "/workdir/pre-commit-2.20.0/pre_commit/util.py", line 146, in cmd_output_b
    raise CalledProcessError(returncode, cmd, retcode, stdout_b, stderr_b)
pre_commit.util.CalledProcessError: command: ('Rscript', '--vanilla', '-e', '    options(install.packages.compile.from.source = "never")\n                prefix_dir &lt;- \'/tmp/pytest-of-tester/pytest-44/test_r_with_additional_depende0/0/.pre-commit/repo9i2mbd7y\'\n            options(\n                repos = c(CRAN = "https://cran.rstudio.com"),\n                renv.consent = TRUE\n            )\n            source("renv/activate.R")\n            renv::restore()\n            activate_statement &lt;- paste0(\n              \'suppressWarnings({\',\n              \'old &lt;- setwd("\', getwd(), \'"); \',\n              \'source("renv/activate.R"); \',\n              \'setwd(old); \',\n              \'renv::load("\', getwd(), \'");})\'\n            )\n            writeLines(activate_statement, \'activate.R\')\n            is_package &lt;- tryCatch(\n              {\n                  path_desc &lt;- file.path(prefix_dir, \'DESCRIPTION\')\n                  suppressWarnings(desc &lt;- read.dcf(path_desc))\n                  "Package" %in% colnames(desc)\n              },\n              error = function(...) FALSE\n            )\n            if (is_package) {\n                renv::install(prefix_dir)\n            }\n            \n    ')
return code: 1
expected return code: 0
stdout:
    Executable `Rscript` not found
stderr: (none)</failure></testcase><testcase classname="tests.repository_test" name="test_r_local_with_additional_dependencies_hook" time="0.053"><failure message="pre_commit.util.CalledProcessError: command: ('Rscript', '--vanilla', '-e', '    options(install.packages.compile.from.source = &quot;never&quot;)\n                prefix_dir &lt;- \'/tmp/pytest-of-tester/pytest-44/test_r_local_with_additional_d0/0/.pre-commit/repobzwqsg_1\'\n            options(\n                repos = c(CRAN = &quot;https://cran.rstudio.com&quot;),\n                renv.consent = TRUE\n            )\n            source(&quot;renv/activate.R&quot;)\n            renv::restore()\n            activate_statement &lt;- paste0(\n              \'suppressWarnings({\',\n              \'old &lt;- setwd(&quot;\', getwd(), \'&quot;); \',\n              \'source(&quot;renv/activate.R&quot;); \',\n              \'setwd(old); \',\n              \'renv::load(&quot;\', getwd(), \'&quot;);})\'\n            )\n            writeLines(activate_statement, \'activate.R\')\n            is_package &lt;- tryCatch(\n              {\n                  path_desc &lt;- file.path(prefix_dir, \'DESCRIPTION\')\n                  suppressWarnings(desc &lt;- read.dcf(path_desc))\n                  &quot;Package&quot; %in% colnames(desc)\n              },\n              error = function(...) FALSE\n            )\n            if (is_package) {\n                renv::install(prefix_dir)\n            }\n            \n    ')&#10;return code: 1&#10;expected return code: 0&#10;stdout:&#10;    Executable `Rscript` not found&#10;stderr: (none)">Traceback (most recent call last):
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 341, in from_call
    result: Optional[TResult] = func()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 262, in &lt;lambda&gt;
    lambda: ihook(item=item, **kwds), when=when, reraise=reraise
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 152, in _multicall
    return outcome.get_result()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_result.py", line 114, in get_result
    raise exc.with_traceback(exc.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 177, in pytest_runtest_call
    raise e
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 169, in pytest_runtest_call
    item.runtest()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 1792, in runtest
    self.ihook.pytest_pyfunc_call(pyfuncitem=self)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 113, in _multicall
    raise exception.with_traceback(exception.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 194, in pytest_pyfunc_call
    result = testfunction(**testargs)
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 322, in test_r_local_with_additional_dependencies_hook
    hook = _get_hook(config, store, 'local-r')
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 61, in _get_hook
    install_hook_envs([hook], store)
  File "/workdir/pre-commit-2.20.0/pre_commit/repository.py", line 223, in install_hook_envs
    _hook_install(hook)
  File "/workdir/pre-commit-2.20.0/pre_commit/repository.py", line 79, in _hook_install
    lang.install_environment(
  File "/workdir/pre-commit-2.20.0/pre_commit/languages/r.py", line 139, in install_environment
    cmd_output_b(
  File "/workdir/pre-commit-2.20.0/pre_commit/util.py", line 146, in cmd_output_b
    raise CalledProcessError(returncode, cmd, retcode, stdout_b, stderr_b)
pre_commit.util.CalledProcessError: command: ('Rscript', '--vanilla', '-e', '    options(install.packages.compile.from.source = "never")\n                prefix_dir &lt;- \'/tmp/pytest-of-tester/pytest-44/test_r_local_with_additional_d0/0/.pre-commit/repobzwqsg_1\'\n            options(\n                repos = c(CRAN = "https://cran.rstudio.com"),\n                renv.consent = TRUE\n            )\n            source("renv/activate.R")\n            renv::restore()\n            activate_statement &lt;- paste0(\n              \'suppressWarnings({\',\n              \'old &lt;- setwd("\', getwd(), \'"); \',\n              \'source("renv/activate.R"); \',\n              \'setwd(old); \',\n              \'renv::load("\', getwd(), \'");})\'\n            )\n            writeLines(activate_statement, \'activate.R\')\n            is_package &lt;- tryCatch(\n              {\n                  path_desc &lt;- file.path(prefix_dir, \'DESCRIPTION\')\n                  suppressWarnings(desc &lt;- read.dcf(path_desc))\n                  "Package" %in% colnames(desc)\n              },\n              error = function(...) FALSE\n            )\n            if (is_package) {\n                renv::install(prefix_dir)\n            }\n            \n    ')
return code: 1
expected return code: 0
stdout:
    Executable `Rscript` not found
stderr: (none)</failure></testcase><testcase classname="tests.repository_test" name="test_run_a_ruby_hook" time="0.141"><failure message="pre_commit.util.CalledProcessError: command: ('gem', 'build', 'ruby_hook.gemspec')&#10;return code: 1&#10;expected return code: 0&#10;stdout:&#10;    Executable `gem` not found&#10;stderr: (none)">Traceback (most recent call last):
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 341, in from_call
    result: Optional[TResult] = func()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 262, in &lt;lambda&gt;
    lambda: ihook(item=item, **kwds), when=when, reraise=reraise
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 152, in _multicall
    return outcome.get_result()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_result.py", line 114, in get_result
    raise exc.with_traceback(exc.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 177, in pytest_runtest_call
    raise e
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 169, in pytest_runtest_call
    item.runtest()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 1792, in runtest
    self.ihook.pytest_pyfunc_call(pyfuncitem=self)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 113, in _multicall
    raise exception.with_traceback(exception.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 194, in pytest_pyfunc_call
    result = testfunction(**testargs)
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 329, in test_run_a_ruby_hook
    _test_hook_repo(
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 78, in _test_hook_repo
    hook = _get_hook(config, store, hook_id)
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 61, in _get_hook
    install_hook_envs([hook], store)
  File "/workdir/pre-commit-2.20.0/pre_commit/repository.py", line 223, in install_hook_envs
    _hook_install(hook)
  File "/workdir/pre-commit-2.20.0/pre_commit/repository.py", line 79, in _hook_install
    lang.install_environment(
  File "/workdir/pre-commit-2.20.0/pre_commit/languages/ruby.py", line 133, in install_environment
    helpers.run_setup_cmd(
  File "/workdir/pre-commit-2.20.0/pre_commit/languages/helpers.py", line 48, in run_setup_cmd
    cmd_output_b(*cmd, cwd=prefix.prefix_dir, **kwargs)
  File "/workdir/pre-commit-2.20.0/pre_commit/util.py", line 146, in cmd_output_b
    raise CalledProcessError(returncode, cmd, retcode, stdout_b, stderr_b)
pre_commit.util.CalledProcessError: command: ('gem', 'build', 'ruby_hook.gemspec')
return code: 1
expected return code: 0
stdout:
    Executable `gem` not found
stderr: (none)</failure></testcase><testcase classname="tests.repository_test" name="test_run_a_ruby_hook_with_user_install_set" time="0.136"><failure message="pre_commit.util.CalledProcessError: command: ('gem', 'build', 'ruby_hook.gemspec')&#10;return code: 1&#10;expected return code: 0&#10;stdout:&#10;    Executable `gem` not found&#10;stderr: (none)">Traceback (most recent call last):
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 341, in from_call
    result: Optional[TResult] = func()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 262, in &lt;lambda&gt;
    lambda: ihook(item=item, **kwds), when=when, reraise=reraise
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 152, in _multicall
    return outcome.get_result()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_result.py", line 114, in get_result
    raise exc.with_traceback(exc.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 177, in pytest_runtest_call
    raise e
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 169, in pytest_runtest_call
    item.runtest()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 1792, in runtest
    self.ihook.pytest_pyfunc_call(pyfuncitem=self)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 113, in _multicall
    raise exception.with_traceback(exception.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 194, in pytest_pyfunc_call
    result = testfunction(**testargs)
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 339, in test_run_a_ruby_hook_with_user_install_set
    test_run_a_ruby_hook(tempdir_factory, store)
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 329, in test_run_a_ruby_hook
    _test_hook_repo(
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 78, in _test_hook_repo
    hook = _get_hook(config, store, hook_id)
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 61, in _get_hook
    install_hook_envs([hook], store)
  File "/workdir/pre-commit-2.20.0/pre_commit/repository.py", line 223, in install_hook_envs
    _hook_install(hook)
  File "/workdir/pre-commit-2.20.0/pre_commit/repository.py", line 79, in _hook_install
    lang.install_environment(
  File "/workdir/pre-commit-2.20.0/pre_commit/languages/ruby.py", line 133, in install_environment
    helpers.run_setup_cmd(
  File "/workdir/pre-commit-2.20.0/pre_commit/languages/helpers.py", line 48, in run_setup_cmd
    cmd_output_b(*cmd, cwd=prefix.prefix_dir, **kwargs)
  File "/workdir/pre-commit-2.20.0/pre_commit/util.py", line 146, in cmd_output_b
    raise CalledProcessError(returncode, cmd, retcode, stdout_b, stderr_b)
pre_commit.util.CalledProcessError: command: ('gem', 'build', 'ruby_hook.gemspec')
return code: 1
expected return code: 0
stdout:
    Executable `gem` not found
stderr: (none)</failure></testcase><testcase classname="tests.repository_test" name="test_run_versioned_ruby_hook" time="125.308" /><testcase classname="tests.repository_test" name="test_run_ruby_hook_with_disable_shared_gems" time="126.160" /><testcase classname="tests.repository_test" name="test_system_hook_with_spaces" time="0.091" /><testcase classname="tests.repository_test" name="test_swift_hook" time="0.000"><skipped type="pytest.skip" message="swift isn't installed or can't be found">/workdir/pre-commit-2.20.0/tests/repository_test.py:381: swift isn't installed or can't be found</skipped></testcase><testcase classname="tests.repository_test" name="test_golang_hook" time="0.132"><failure message="pre_commit.util.CalledProcessError: command: ('go', 'install', './...')&#10;return code: 1&#10;expected return code: 0&#10;stdout:&#10;    Executable `go` not found&#10;stderr: (none)">Traceback (most recent call last):
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 341, in from_call
    result: Optional[TResult] = func()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 262, in &lt;lambda&gt;
    lambda: ihook(item=item, **kwds), when=when, reraise=reraise
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 152, in _multicall
    return outcome.get_result()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_result.py", line 114, in get_result
    raise exc.with_traceback(exc.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 177, in pytest_runtest_call
    raise e
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 169, in pytest_runtest_call
    item.runtest()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 1792, in runtest
    self.ihook.pytest_pyfunc_call(pyfuncitem=self)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 113, in _multicall
    raise exception.with_traceback(exception.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 194, in pytest_pyfunc_call
    result = testfunction(**testargs)
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 390, in test_golang_hook
    _test_hook_repo(
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 78, in _test_hook_repo
    hook = _get_hook(config, store, hook_id)
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 61, in _get_hook
    install_hook_envs([hook], store)
  File "/workdir/pre-commit-2.20.0/pre_commit/repository.py", line 223, in install_hook_envs
    _hook_install(hook)
  File "/workdir/pre-commit-2.20.0/pre_commit/repository.py", line 79, in _hook_install
    lang.install_environment(
  File "/workdir/pre-commit-2.20.0/pre_commit/languages/golang.py", line 83, in install_environment
    cmd_output_b('go', 'install', './...', cwd=repo_src_dir, env=env)
  File "/workdir/pre-commit-2.20.0/pre_commit/util.py", line 146, in cmd_output_b
    raise CalledProcessError(returncode, cmd, retcode, stdout_b, stderr_b)
pre_commit.util.CalledProcessError: command: ('go', 'install', './...')
return code: 1
expected return code: 0
stdout:
    Executable `go` not found
stderr: (none)</failure></testcase><testcase classname="tests.repository_test" name="test_golang_hook_still_works_when_gobin_is_set" time="0.133"><failure message="pre_commit.util.CalledProcessError: command: ('go', 'install', './...')&#10;return code: 1&#10;expected return code: 0&#10;stdout:&#10;    Executable `go` not found&#10;stderr: (none)">Traceback (most recent call last):
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 341, in from_call
    result: Optional[TResult] = func()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 262, in &lt;lambda&gt;
    lambda: ihook(item=item, **kwds), when=when, reraise=reraise
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 152, in _multicall
    return outcome.get_result()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_result.py", line 114, in get_result
    raise exc.with_traceback(exc.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 177, in pytest_runtest_call
    raise e
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 169, in pytest_runtest_call
    item.runtest()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 1792, in runtest
    self.ihook.pytest_pyfunc_call(pyfuncitem=self)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 113, in _multicall
    raise exception.with_traceback(exception.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 194, in pytest_pyfunc_call
    result = testfunction(**testargs)
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 399, in test_golang_hook_still_works_when_gobin_is_set
    test_golang_hook(tempdir_factory, store)
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 390, in test_golang_hook
    _test_hook_repo(
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 78, in _test_hook_repo
    hook = _get_hook(config, store, hook_id)
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 61, in _get_hook
    install_hook_envs([hook], store)
  File "/workdir/pre-commit-2.20.0/pre_commit/repository.py", line 223, in install_hook_envs
    _hook_install(hook)
  File "/workdir/pre-commit-2.20.0/pre_commit/repository.py", line 79, in _hook_install
    lang.install_environment(
  File "/workdir/pre-commit-2.20.0/pre_commit/languages/golang.py", line 83, in install_environment
    cmd_output_b('go', 'install', './...', cwd=repo_src_dir, env=env)
  File "/workdir/pre-commit-2.20.0/pre_commit/util.py", line 146, in cmd_output_b
    raise CalledProcessError(returncode, cmd, retcode, stdout_b, stderr_b)
pre_commit.util.CalledProcessError: command: ('go', 'install', './...')
return code: 1
expected return code: 0
stdout:
    Executable `go` not found
stderr: (none)</failure></testcase><testcase classname="tests.repository_test" name="test_golang_with_recursive_submodule" time="0.062"><failure message="pre_commit.util.CalledProcessError: command: ('/usr/bin/git', '-C', '/tmp/pytest-of-tester/pytest-44/test_golang_with_recursive_sub0/repo', 'submodule', 'add', '/tmp/pytest-of-tester/pytest-44/test_golang_with_recursive_sub0/sub', 'sub')&#10;return code: 128&#10;expected return code: 0&#10;stdout: (none)&#10;stderr:&#10;    Cloning into '/tmp/pytest-of-tester/pytest-44/test_golang_with_recursive_sub0/repo/sub'...&#10;    fatal: transport 'file' not allowed&#10;    fatal: clone of '/tmp/pytest-of-tester/pytest-44/test_golang_with_recursive_sub0/sub' into submodule path '/tmp/pytest-of-tester/pytest-44/test_golang_with_recursive_sub0/repo/sub' failed">Traceback (most recent call last):
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 341, in from_call
    result: Optional[TResult] = func()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 262, in &lt;lambda&gt;
    lambda: ihook(item=item, **kwds), when=when, reraise=reraise
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 152, in _multicall
    return outcome.get_result()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_result.py", line 114, in get_result
    raise exc.with_traceback(exc.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 177, in pytest_runtest_call
    raise e
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 169, in pytest_runtest_call
    item.runtest()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 1792, in runtest
    self.ihook.pytest_pyfunc_call(pyfuncitem=self)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 113, in _multicall
    raise exception.with_traceback(exception.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 194, in pytest_pyfunc_call
    result = testfunction(**testargs)
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 446, in test_golang_with_recursive_submodule
    cmd_output('git', '-C', str(repo), 'submodule', 'add', str(sub), 'sub')
  File "/workdir/pre-commit-2.20.0/pre_commit/util.py", line 152, in cmd_output
    returncode, stdout_b, stderr_b = cmd_output_b(*cmd, **kwargs)
  File "/workdir/pre-commit-2.20.0/pre_commit/util.py", line 146, in cmd_output_b
    raise CalledProcessError(returncode, cmd, retcode, stdout_b, stderr_b)
pre_commit.util.CalledProcessError: command: ('/usr/bin/git', '-C', '/tmp/pytest-of-tester/pytest-44/test_golang_with_recursive_sub0/repo', 'submodule', 'add', '/tmp/pytest-of-tester/pytest-44/test_golang_with_recursive_sub0/sub', 'sub')
return code: 128
expected return code: 0
stdout: (none)
stderr:
    Cloning into '/tmp/pytest-of-tester/pytest-44/test_golang_with_recursive_sub0/repo/sub'...
    fatal: transport 'file' not allowed
    fatal: clone of '/tmp/pytest-of-tester/pytest-44/test_golang_with_recursive_sub0/sub' into submodule path '/tmp/pytest-of-tester/pytest-44/test_golang_with_recursive_sub0/repo/sub' failed</failure></testcase><testcase classname="tests.repository_test" name="test_rust_hook" time="0.263" /><testcase classname="tests.repository_test" name="test_additional_rust_cli_dependencies_installed[cli:shellharden:3.1.0]" time="6.435" /><testcase classname="tests.repository_test" name="test_additional_rust_cli_dependencies_installed[cli:shellharden]" time="1.855" /><testcase classname="tests.repository_test" name="test_additional_rust_lib_dependencies_installed" time="1.331" /><testcase classname="tests.repository_test" name="test_missing_executable" time="0.085" /><testcase classname="tests.repository_test" name="test_run_a_script_hook" time="0.088" /><testcase classname="tests.repository_test" name="test_run_hook_with_spaced_args" time="0.094" /><testcase classname="tests.repository_test" name="test_run_hook_with_curly_braced_arguments" time="0.088" /><testcase classname="tests.repository_test" name="test_intermixed_stdout_stderr" time="0.087" /><testcase classname="tests.repository_test" name="test_output_isatty" time="0.091" /><testcase classname="tests.repository_test" name="test_grep_hook_matching" time="0.122" /><testcase classname="tests.repository_test" name="test_grep_hook_case_insensitive" time="0.103" /><testcase classname="tests.repository_test" name="test_grep_hook_not_matching[nope]" time="0.102" /><testcase classname="tests.repository_test" name="test_grep_hook_not_matching[foo'bar]" time="0.110" /><testcase classname="tests.repository_test" name="test_grep_hook_not_matching[^\\[INFO\\]]" time="0.106" /><testcase classname="tests.repository_test" name="test_cwd_of_hook" time="0.090" /><testcase classname="tests.repository_test" name="test_lots_of_files" time="0.260" /><testcase classname="tests.repository_test" name="test_additional_dependencies_roll_forward" time="4.681" /><testcase classname="tests.repository_test" name="test_additional_ruby_dependencies_installed" time="0.185"><failure message="pre_commit.util.CalledProcessError: command: ('gem', 'build', 'ruby_hook.gemspec')&#10;return code: 1&#10;expected return code: 0&#10;stdout:&#10;    Executable `gem` not found&#10;stderr: (none)">Traceback (most recent call last):
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 341, in from_call
    result: Optional[TResult] = func()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 262, in &lt;lambda&gt;
    lambda: ihook(item=item, **kwds), when=when, reraise=reraise
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 152, in _multicall
    return outcome.get_result()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_result.py", line 114, in get_result
    raise exc.with_traceback(exc.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 177, in pytest_runtest_call
    raise e
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 169, in pytest_runtest_call
    item.runtest()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 1792, in runtest
    self.ihook.pytest_pyfunc_call(pyfuncitem=self)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 113, in _multicall
    raise exception.with_traceback(exception.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 194, in pytest_pyfunc_call
    result = testfunction(**testargs)
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 655, in test_additional_ruby_dependencies_installed
    hook = _get_hook(config, store, 'ruby_hook')
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 61, in _get_hook
    install_hook_envs([hook], store)
  File "/workdir/pre-commit-2.20.0/pre_commit/repository.py", line 223, in install_hook_envs
    _hook_install(hook)
  File "/workdir/pre-commit-2.20.0/pre_commit/repository.py", line 79, in _hook_install
    lang.install_environment(
  File "/workdir/pre-commit-2.20.0/pre_commit/languages/ruby.py", line 133, in install_environment
    helpers.run_setup_cmd(
  File "/workdir/pre-commit-2.20.0/pre_commit/languages/helpers.py", line 48, in run_setup_cmd
    cmd_output_b(*cmd, cwd=prefix.prefix_dir, **kwargs)
  File "/workdir/pre-commit-2.20.0/pre_commit/util.py", line 146, in cmd_output_b
    raise CalledProcessError(returncode, cmd, retcode, stdout_b, stderr_b)
pre_commit.util.CalledProcessError: command: ('gem', 'build', 'ruby_hook.gemspec')
return code: 1
expected return code: 0
stdout:
    Executable `gem` not found
stderr: (none)</failure></testcase><testcase classname="tests.repository_test" name="test_additional_node_dependencies_installed" time="2.523" /><testcase classname="tests.repository_test" name="test_additional_golang_dependencies_installed" time="0.182"><failure message="pre_commit.util.CalledProcessError: command: ('go', 'install', './...')&#10;return code: 1&#10;expected return code: 0&#10;stdout:&#10;    Executable `go` not found&#10;stderr: (none)">Traceback (most recent call last):
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 341, in from_call
    result: Optional[TResult] = func()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 262, in &lt;lambda&gt;
    lambda: ihook(item=item, **kwds), when=when, reraise=reraise
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 152, in _multicall
    return outcome.get_result()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_result.py", line 114, in get_result
    raise exc.with_traceback(exc.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 177, in pytest_runtest_call
    raise e
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 169, in pytest_runtest_call
    item.runtest()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 1792, in runtest
    self.ihook.pytest_pyfunc_call(pyfuncitem=self)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 113, in _multicall
    raise exception.with_traceback(exception.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 194, in pytest_pyfunc_call
    result = testfunction(**testargs)
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 680, in test_additional_golang_dependencies_installed
    hook = _get_hook(config, store, 'golang-hook')
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 61, in _get_hook
    install_hook_envs([hook], store)
  File "/workdir/pre-commit-2.20.0/pre_commit/repository.py", line 223, in install_hook_envs
    _hook_install(hook)
  File "/workdir/pre-commit-2.20.0/pre_commit/repository.py", line 79, in _hook_install
    lang.install_environment(
  File "/workdir/pre-commit-2.20.0/pre_commit/languages/golang.py", line 83, in install_environment
    cmd_output_b('go', 'install', './...', cwd=repo_src_dir, env=env)
  File "/workdir/pre-commit-2.20.0/pre_commit/util.py", line 146, in cmd_output_b
    raise CalledProcessError(returncode, cmd, retcode, stdout_b, stderr_b)
pre_commit.util.CalledProcessError: command: ('go', 'install', './...')
return code: 1
expected return code: 0
stdout:
    Executable `go` not found
stderr: (none)</failure></testcase><testcase classname="tests.repository_test" name="test_local_golang_additional_dependencies" time="0.087"><failure message="pre_commit.util.CalledProcessError: command: ('go', 'install', './...')&#10;return code: 1&#10;expected return code: 0&#10;stdout:&#10;    Executable `go` not found&#10;stderr: (none)">Traceback (most recent call last):
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 341, in from_call
    result: Optional[TResult] = func()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 262, in &lt;lambda&gt;
    lambda: ihook(item=item, **kwds), when=when, reraise=reraise
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 152, in _multicall
    return outcome.get_result()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_result.py", line 114, in get_result
    raise exc.with_traceback(exc.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 177, in pytest_runtest_call
    raise e
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 169, in pytest_runtest_call
    item.runtest()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 1792, in runtest
    self.ihook.pytest_pyfunc_call(pyfuncitem=self)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 113, in _multicall
    raise exception.with_traceback(exception.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 194, in pytest_pyfunc_call
    result = testfunction(**testargs)
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 702, in test_local_golang_additional_dependencies
    hook = _get_hook(config, store, 'hello')
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 61, in _get_hook
    install_hook_envs([hook], store)
  File "/workdir/pre-commit-2.20.0/pre_commit/repository.py", line 223, in install_hook_envs
    _hook_install(hook)
  File "/workdir/pre-commit-2.20.0/pre_commit/repository.py", line 79, in _hook_install
    lang.install_environment(
  File "/workdir/pre-commit-2.20.0/pre_commit/languages/golang.py", line 83, in install_environment
    cmd_output_b('go', 'install', './...', cwd=repo_src_dir, env=env)
  File "/workdir/pre-commit-2.20.0/pre_commit/util.py", line 146, in cmd_output_b
    raise CalledProcessError(returncode, cmd, retcode, stdout_b, stderr_b)
pre_commit.util.CalledProcessError: command: ('go', 'install', './...')
return code: 1
expected return code: 0
stdout:
    Executable `go` not found
stderr: (none)</failure></testcase><testcase classname="tests.repository_test" name="test_local_rust_additional_dependencies" time="12.783" /><testcase classname="tests.repository_test" name="test_fail_hooks" time="0.029" /><testcase classname="tests.repository_test" name="test_unknown_keys" time="0.025" /><testcase classname="tests.repository_test" name="test_reinstall" time="1.846" /><testcase classname="tests.repository_test" name="test_control_c_control_c_on_install" time="2.266" /><testcase classname="tests.repository_test" name="test_invalidated_virtualenv" time="1.882" /><testcase classname="tests.repository_test" name="test_really_long_file_paths" time="1.864" /><testcase classname="tests.repository_test" name="test_config_overrides_repo_specifics" time="0.088" /><testcase classname="tests.repository_test" name="test_tags_on_repositories" time="0.156" /><testcase classname="tests.repository_test" name="test_local_python_repo" time="2.145" /><testcase classname="tests.repository_test" name="test_local_python_repo_python2" time="0.234"><failure message="pre_commit.util.CalledProcessError: command: ('/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/bin/python', '-mvirtualenv', '/tmp/pytest-of-tester/pytest-44/test_local_python_repo_python20/0/.pre-commit/repotdp342j6/py_env-python2', '-p', 'python2')&#10;return code: 1&#10;expected return code: 0&#10;stdout:&#10;    RuntimeError: failed to find interpreter for Builtin discover of python_spec='python2'&#10;    &#10;stderr: (none)">Traceback (most recent call last):
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 341, in from_call
    result: Optional[TResult] = func()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 262, in &lt;lambda&gt;
    lambda: ihook(item=item, **kwds), when=when, reraise=reraise
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 152, in _multicall
    return outcome.get_result()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_result.py", line 114, in get_result
    raise exc.with_traceback(exc.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 177, in pytest_runtest_call
    raise e
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 169, in pytest_runtest_call
    item.runtest()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 1792, in runtest
    self.ihook.pytest_pyfunc_call(pyfuncitem=self)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 113, in _multicall
    raise exception.with_traceback(exception.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 194, in pytest_pyfunc_call
    result = testfunction(**testargs)
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 906, in test_local_python_repo_python2
    hook = _get_hook(local_python_config, store, 'python3-hook')
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 61, in _get_hook
    install_hook_envs([hook], store)
  File "/workdir/pre-commit-2.20.0/pre_commit/repository.py", line 223, in install_hook_envs
    _hook_install(hook)
  File "/workdir/pre-commit-2.20.0/pre_commit/repository.py", line 79, in _hook_install
    lang.install_environment(
  File "/workdir/pre-commit-2.20.0/pre_commit/languages/python.py", line 219, in install_environment
    cmd_output_b(*venv_cmd, cwd='/')
  File "/workdir/pre-commit-2.20.0/pre_commit/util.py", line 146, in cmd_output_b
    raise CalledProcessError(returncode, cmd, retcode, stdout_b, stderr_b)
pre_commit.util.CalledProcessError: command: ('/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/bin/python', '-mvirtualenv', '/tmp/pytest-of-tester/pytest-44/test_local_python_repo_python20/0/.pre-commit/repotdp342j6/py_env-python2', '-p', 'python2')
return code: 1
expected return code: 0
stdout:
    RuntimeError: failed to find interpreter for Builtin discover of python_spec='python2'
    
stderr: (none)</failure></testcase><testcase classname="tests.repository_test" name="test_default_language_version" time="0.052" /><testcase classname="tests.repository_test" name="test_default_stages" time="0.053" /><testcase classname="tests.repository_test" name="test_hook_id_not_present" time="0.086" /><testcase classname="tests.repository_test" name="test_too_new_version" time="0.095" /><testcase classname="tests.repository_test" name="test_versions_ok[0.1.0]" time="0.098" /><testcase classname="tests.repository_test" name="test_versions_ok[2.20.0]" time="0.092" /><testcase classname="tests.repository_test" name="test_manifest_hooks" time="0.089" /><testcase classname="tests.repository_test" name="test_perl_hook" time="0.093"><failure message="pre_commit.util.CalledProcessError: command: ('cpan', '-T', '.')&#10;return code: 1&#10;expected return code: 0&#10;stdout:&#10;    Executable `cpan` not found&#10;stderr: (none)">Traceback (most recent call last):
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 341, in from_call
    result: Optional[TResult] = func()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 262, in &lt;lambda&gt;
    lambda: ihook(item=item, **kwds), when=when, reraise=reraise
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 152, in _multicall
    return outcome.get_result()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_result.py", line 114, in get_result
    raise exc.with_traceback(exc.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 177, in pytest_runtest_call
    raise e
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 169, in pytest_runtest_call
    item.runtest()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 1792, in runtest
    self.ihook.pytest_pyfunc_call(pyfuncitem=self)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 113, in _multicall
    raise exception.with_traceback(exception.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 194, in pytest_pyfunc_call
    result = testfunction(**testargs)
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 1026, in test_perl_hook
    _test_hook_repo(
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 78, in _test_hook_repo
    hook = _get_hook(config, store, hook_id)
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 61, in _get_hook
    install_hook_envs([hook], store)
  File "/workdir/pre-commit-2.20.0/pre_commit/repository.py", line 223, in install_hook_envs
    _hook_install(hook)
  File "/workdir/pre-commit-2.20.0/pre_commit/repository.py", line 79, in _hook_install
    lang.install_environment(
  File "/workdir/pre-commit-2.20.0/pre_commit/languages/perl.py", line 57, in install_environment
    helpers.run_setup_cmd(
  File "/workdir/pre-commit-2.20.0/pre_commit/languages/helpers.py", line 48, in run_setup_cmd
    cmd_output_b(*cmd, cwd=prefix.prefix_dir, **kwargs)
  File "/workdir/pre-commit-2.20.0/pre_commit/util.py", line 146, in cmd_output_b
    raise CalledProcessError(returncode, cmd, retcode, stdout_b, stderr_b)
pre_commit.util.CalledProcessError: command: ('cpan', '-T', '.')
return code: 1
expected return code: 0
stdout:
    Executable `cpan` not found
stderr: (none)</failure></testcase><testcase classname="tests.repository_test" name="test_local_perl_additional_dependencies" time="0.052"><failure message="pre_commit.util.CalledProcessError: command: ('cpan', '-T', '.', 'SHANCOCK/Perl-Tidy-20211029.tar.gz')&#10;return code: 1&#10;expected return code: 0&#10;stdout:&#10;    Executable `cpan` not found&#10;stderr: (none)">Traceback (most recent call last):
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 341, in from_call
    result: Optional[TResult] = func()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 262, in &lt;lambda&gt;
    lambda: ihook(item=item, **kwds), when=when, reraise=reraise
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 152, in _multicall
    return outcome.get_result()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_result.py", line 114, in get_result
    raise exc.with_traceback(exc.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 177, in pytest_runtest_call
    raise e
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 169, in pytest_runtest_call
    item.runtest()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 1792, in runtest
    self.ihook.pytest_pyfunc_call(pyfuncitem=self)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 113, in _multicall
    raise exception.with_traceback(exception.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 194, in pytest_pyfunc_call
    result = testfunction(**testargs)
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 1043, in test_local_perl_additional_dependencies
    hook = _get_hook(config, store, 'hello')
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 61, in _get_hook
    install_hook_envs([hook], store)
  File "/workdir/pre-commit-2.20.0/pre_commit/repository.py", line 223, in install_hook_envs
    _hook_install(hook)
  File "/workdir/pre-commit-2.20.0/pre_commit/repository.py", line 79, in _hook_install
    lang.install_environment(
  File "/workdir/pre-commit-2.20.0/pre_commit/languages/perl.py", line 57, in install_environment
    helpers.run_setup_cmd(
  File "/workdir/pre-commit-2.20.0/pre_commit/languages/helpers.py", line 48, in run_setup_cmd
    cmd_output_b(*cmd, cwd=prefix.prefix_dir, **kwargs)
  File "/workdir/pre-commit-2.20.0/pre_commit/util.py", line 146, in cmd_output_b
    raise CalledProcessError(returncode, cmd, retcode, stdout_b, stderr_b)
pre_commit.util.CalledProcessError: command: ('cpan', '-T', '.', 'SHANCOCK/Perl-Tidy-20211029.tar.gz')
return code: 1
expected return code: 0
stdout:
    Executable `cpan` not found
stderr: (none)</failure></testcase><testcase classname="tests.repository_test" name="test_dotnet_hook[dotnet_hooks_csproj_repo]" time="0.097"><failure message="pre_commit.util.CalledProcessError: command: ('dotnet', 'pack', '--configuration', 'Release', '--output', 'pre-commit-build')&#10;return code: 1&#10;expected return code: 0&#10;stdout:&#10;    Executable `dotnet` not found&#10;stderr: (none)">Traceback (most recent call last):
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 341, in from_call
    result: Optional[TResult] = func()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 262, in &lt;lambda&gt;
    lambda: ihook(item=item, **kwds), when=when, reraise=reraise
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 152, in _multicall
    return outcome.get_result()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_result.py", line 114, in get_result
    raise exc.with_traceback(exc.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 177, in pytest_runtest_call
    raise e
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 169, in pytest_runtest_call
    item.runtest()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 1792, in runtest
    self.ihook.pytest_pyfunc_call(pyfuncitem=self)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 113, in _multicall
    raise exception.with_traceback(exception.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 194, in pytest_pyfunc_call
    result = testfunction(**testargs)
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 1058, in test_dotnet_hook
    _test_hook_repo(
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 78, in _test_hook_repo
    hook = _get_hook(config, store, hook_id)
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 61, in _get_hook
    install_hook_envs([hook], store)
  File "/workdir/pre-commit-2.20.0/pre_commit/repository.py", line 223, in install_hook_envs
    _hook_install(hook)
  File "/workdir/pre-commit-2.20.0/pre_commit/repository.py", line 79, in _hook_install
    lang.install_environment(
  File "/workdir/pre-commit-2.20.0/pre_commit/languages/dotnet.py", line 51, in install_environment
    helpers.run_setup_cmd(
  File "/workdir/pre-commit-2.20.0/pre_commit/languages/helpers.py", line 48, in run_setup_cmd
    cmd_output_b(*cmd, cwd=prefix.prefix_dir, **kwargs)
  File "/workdir/pre-commit-2.20.0/pre_commit/util.py", line 146, in cmd_output_b
    raise CalledProcessError(returncode, cmd, retcode, stdout_b, stderr_b)
pre_commit.util.CalledProcessError: command: ('dotnet', 'pack', '--configuration', 'Release', '--output', 'pre-commit-build')
return code: 1
expected return code: 0
stdout:
    Executable `dotnet` not found
stderr: (none)</failure></testcase><testcase classname="tests.repository_test" name="test_dotnet_hook[dotnet_hooks_sln_repo]" time="0.089"><failure message="pre_commit.util.CalledProcessError: command: ('dotnet', 'pack', '--configuration', 'Release', '--output', 'pre-commit-build')&#10;return code: 1&#10;expected return code: 0&#10;stdout:&#10;    Executable `dotnet` not found&#10;stderr: (none)">Traceback (most recent call last):
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 341, in from_call
    result: Optional[TResult] = func()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 262, in &lt;lambda&gt;
    lambda: ihook(item=item, **kwds), when=when, reraise=reraise
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 152, in _multicall
    return outcome.get_result()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_result.py", line 114, in get_result
    raise exc.with_traceback(exc.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 177, in pytest_runtest_call
    raise e
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 169, in pytest_runtest_call
    item.runtest()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 1792, in runtest
    self.ihook.pytest_pyfunc_call(pyfuncitem=self)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 113, in _multicall
    raise exception.with_traceback(exception.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 194, in pytest_pyfunc_call
    result = testfunction(**testargs)
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 1058, in test_dotnet_hook
    _test_hook_repo(
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 78, in _test_hook_repo
    hook = _get_hook(config, store, hook_id)
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 61, in _get_hook
    install_hook_envs([hook], store)
  File "/workdir/pre-commit-2.20.0/pre_commit/repository.py", line 223, in install_hook_envs
    _hook_install(hook)
  File "/workdir/pre-commit-2.20.0/pre_commit/repository.py", line 79, in _hook_install
    lang.install_environment(
  File "/workdir/pre-commit-2.20.0/pre_commit/languages/dotnet.py", line 51, in install_environment
    helpers.run_setup_cmd(
  File "/workdir/pre-commit-2.20.0/pre_commit/languages/helpers.py", line 48, in run_setup_cmd
    cmd_output_b(*cmd, cwd=prefix.prefix_dir, **kwargs)
  File "/workdir/pre-commit-2.20.0/pre_commit/util.py", line 146, in cmd_output_b
    raise CalledProcessError(returncode, cmd, retcode, stdout_b, stderr_b)
pre_commit.util.CalledProcessError: command: ('dotnet', 'pack', '--configuration', 'Release', '--output', 'pre-commit-build')
return code: 1
expected return code: 0
stdout:
    Executable `dotnet` not found
stderr: (none)</failure></testcase><testcase classname="tests.repository_test" name="test_dotnet_hook[dotnet_hooks_combo_repo]" time="0.092"><failure message="pre_commit.util.CalledProcessError: command: ('dotnet', 'pack', '--configuration', 'Release', '--output', 'pre-commit-build')&#10;return code: 1&#10;expected return code: 0&#10;stdout:&#10;    Executable `dotnet` not found&#10;stderr: (none)">Traceback (most recent call last):
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 341, in from_call
    result: Optional[TResult] = func()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 262, in &lt;lambda&gt;
    lambda: ihook(item=item, **kwds), when=when, reraise=reraise
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 152, in _multicall
    return outcome.get_result()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_result.py", line 114, in get_result
    raise exc.with_traceback(exc.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 177, in pytest_runtest_call
    raise e
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 169, in pytest_runtest_call
    item.runtest()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 1792, in runtest
    self.ihook.pytest_pyfunc_call(pyfuncitem=self)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 113, in _multicall
    raise exception.with_traceback(exception.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 194, in pytest_pyfunc_call
    result = testfunction(**testargs)
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 1058, in test_dotnet_hook
    _test_hook_repo(
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 78, in _test_hook_repo
    hook = _get_hook(config, store, hook_id)
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 61, in _get_hook
    install_hook_envs([hook], store)
  File "/workdir/pre-commit-2.20.0/pre_commit/repository.py", line 223, in install_hook_envs
    _hook_install(hook)
  File "/workdir/pre-commit-2.20.0/pre_commit/repository.py", line 79, in _hook_install
    lang.install_environment(
  File "/workdir/pre-commit-2.20.0/pre_commit/languages/dotnet.py", line 51, in install_environment
    helpers.run_setup_cmd(
  File "/workdir/pre-commit-2.20.0/pre_commit/languages/helpers.py", line 48, in run_setup_cmd
    cmd_output_b(*cmd, cwd=prefix.prefix_dir, **kwargs)
  File "/workdir/pre-commit-2.20.0/pre_commit/util.py", line 146, in cmd_output_b
    raise CalledProcessError(returncode, cmd, retcode, stdout_b, stderr_b)
pre_commit.util.CalledProcessError: command: ('dotnet', 'pack', '--configuration', 'Release', '--output', 'pre-commit-build')
return code: 1
expected return code: 0
stdout:
    Executable `dotnet` not found
stderr: (none)</failure></testcase><testcase classname="tests.repository_test" name="test_dart_hook" time="0.090"><failure message="pre_commit.util.CalledProcessError: command: ('dart', 'pub', 'get')&#10;return code: 1&#10;expected return code: 0&#10;stdout:&#10;    Executable `dart` not found&#10;stderr: (none)">Traceback (most recent call last):
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 341, in from_call
    result: Optional[TResult] = func()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 262, in &lt;lambda&gt;
    lambda: ihook(item=item, **kwds), when=when, reraise=reraise
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 152, in _multicall
    return outcome.get_result()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_result.py", line 114, in get_result
    raise exc.with_traceback(exc.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 177, in pytest_runtest_call
    raise e
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 169, in pytest_runtest_call
    item.runtest()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 1792, in runtest
    self.ihook.pytest_pyfunc_call(pyfuncitem=self)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 113, in _multicall
    raise exception.with_traceback(exception.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 194, in pytest_pyfunc_call
    result = testfunction(**testargs)
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 1065, in test_dart_hook
    _test_hook_repo(
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 78, in _test_hook_repo
    hook = _get_hook(config, store, hook_id)
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 61, in _get_hook
    install_hook_envs([hook], store)
  File "/workdir/pre-commit-2.20.0/pre_commit/repository.py", line 223, in install_hook_envs
    _hook_install(hook)
  File "/workdir/pre-commit-2.20.0/pre_commit/repository.py", line 79, in _hook_install
    lang.install_environment(
  File "/workdir/pre-commit-2.20.0/pre_commit/languages/dart.py", line 74, in install_environment
    _install_dir(prefix, tmp)
  File "/workdir/pre-commit-2.20.0/pre_commit/languages/dart.py", line 57, in _install_dir
    helpers.run_setup_cmd(prefix_p, ('dart', 'pub', 'get'), env=dart_env)
  File "/workdir/pre-commit-2.20.0/pre_commit/languages/helpers.py", line 48, in run_setup_cmd
    cmd_output_b(*cmd, cwd=prefix.prefix_dir, **kwargs)
  File "/workdir/pre-commit-2.20.0/pre_commit/util.py", line 146, in cmd_output_b
    raise CalledProcessError(returncode, cmd, retcode, stdout_b, stderr_b)
pre_commit.util.CalledProcessError: command: ('dart', 'pub', 'get')
return code: 1
expected return code: 0
stdout:
    Executable `dart` not found
stderr: (none)</failure></testcase><testcase classname="tests.repository_test" name="test_local_dart_additional_dependencies" time="0.053"><failure message="pre_commit.util.CalledProcessError: command: ('dart', 'pub', 'get')&#10;return code: 1&#10;expected return code: 0&#10;stdout:&#10;    Executable `dart` not found&#10;stderr: (none)">Traceback (most recent call last):
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 341, in from_call
    result: Optional[TResult] = func()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 262, in &lt;lambda&gt;
    lambda: ihook(item=item, **kwds), when=when, reraise=reraise
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 152, in _multicall
    return outcome.get_result()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_result.py", line 114, in get_result
    raise exc.with_traceback(exc.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 177, in pytest_runtest_call
    raise e
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 169, in pytest_runtest_call
    item.runtest()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 1792, in runtest
    self.ihook.pytest_pyfunc_call(pyfuncitem=self)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 113, in _multicall
    raise exception.with_traceback(exception.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 194, in pytest_pyfunc_call
    result = testfunction(**testargs)
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 1082, in test_local_dart_additional_dependencies
    hook = _get_hook(config, store, 'local-dart')
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 61, in _get_hook
    install_hook_envs([hook], store)
  File "/workdir/pre-commit-2.20.0/pre_commit/repository.py", line 223, in install_hook_envs
    _hook_install(hook)
  File "/workdir/pre-commit-2.20.0/pre_commit/repository.py", line 79, in _hook_install
    lang.install_environment(
  File "/workdir/pre-commit-2.20.0/pre_commit/languages/dart.py", line 74, in install_environment
    _install_dir(prefix, tmp)
  File "/workdir/pre-commit-2.20.0/pre_commit/languages/dart.py", line 57, in _install_dir
    helpers.run_setup_cmd(prefix_p, ('dart', 'pub', 'get'), env=dart_env)
  File "/workdir/pre-commit-2.20.0/pre_commit/languages/helpers.py", line 48, in run_setup_cmd
    cmd_output_b(*cmd, cwd=prefix.prefix_dir, **kwargs)
  File "/workdir/pre-commit-2.20.0/pre_commit/util.py", line 146, in cmd_output_b
    raise CalledProcessError(returncode, cmd, retcode, stdout_b, stderr_b)
pre_commit.util.CalledProcessError: command: ('dart', 'pub', 'get')
return code: 1
expected return code: 0
stdout:
    Executable `dart` not found
stderr: (none)</failure></testcase><testcase classname="tests.repository_test" name="test_local_dart_additional_dependencies_versioned" time="0.053"><failure message="pre_commit.util.CalledProcessError: command: ('dart', 'pub', 'get')&#10;return code: 1&#10;expected return code: 0&#10;stdout:&#10;    Executable `dart` not found&#10;stderr: (none)">Traceback (most recent call last):
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 341, in from_call
    result: Optional[TResult] = func()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 262, in &lt;lambda&gt;
    lambda: ihook(item=item, **kwds), when=when, reraise=reraise
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 152, in _multicall
    return outcome.get_result()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_result.py", line 114, in get_result
    raise exc.with_traceback(exc.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 177, in pytest_runtest_call
    raise e
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 169, in pytest_runtest_call
    item.runtest()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 1792, in runtest
    self.ihook.pytest_pyfunc_call(pyfuncitem=self)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 113, in _multicall
    raise exception.with_traceback(exception.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 194, in pytest_pyfunc_call
    result = testfunction(**testargs)
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 1098, in test_local_dart_additional_dependencies_versioned
    hook = _get_hook(config, store, 'local-dart')
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 61, in _get_hook
    install_hook_envs([hook], store)
  File "/workdir/pre-commit-2.20.0/pre_commit/repository.py", line 223, in install_hook_envs
    _hook_install(hook)
  File "/workdir/pre-commit-2.20.0/pre_commit/repository.py", line 79, in _hook_install
    lang.install_environment(
  File "/workdir/pre-commit-2.20.0/pre_commit/languages/dart.py", line 74, in install_environment
    _install_dir(prefix, tmp)
  File "/workdir/pre-commit-2.20.0/pre_commit/languages/dart.py", line 57, in _install_dir
    helpers.run_setup_cmd(prefix_p, ('dart', 'pub', 'get'), env=dart_env)
  File "/workdir/pre-commit-2.20.0/pre_commit/languages/helpers.py", line 48, in run_setup_cmd
    cmd_output_b(*cmd, cwd=prefix.prefix_dir, **kwargs)
  File "/workdir/pre-commit-2.20.0/pre_commit/util.py", line 146, in cmd_output_b
    raise CalledProcessError(returncode, cmd, retcode, stdout_b, stderr_b)
pre_commit.util.CalledProcessError: command: ('dart', 'pub', 'get')
return code: 1
expected return code: 0
stdout:
    Executable `dart` not found
stderr: (none)</failure></testcase><testcase classname="tests.repository_test" name="test_non_installable_hook_error_for_language_version" time="0.025" /><testcase classname="tests.repository_test" name="test_non_installable_hook_error_for_additional_dependencies" time="0.026" /><testcase classname="tests.repository_test" name="test_lua_hook" time="0.088"><failure message="pre_commit.util.CalledProcessError: command: ('luarocks', 'config', '--lua-ver')&#10;return code: 1&#10;expected return code: 0&#10;stdout:&#10;    Executable `luarocks` not found&#10;stderr: (none)">Traceback (most recent call last):
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 341, in from_call
    result: Optional[TResult] = func()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 262, in &lt;lambda&gt;
    lambda: ihook(item=item, **kwds), when=when, reraise=reraise
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 152, in _multicall
    return outcome.get_result()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_result.py", line 114, in get_result
    raise exc.with_traceback(exc.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 177, in pytest_runtest_call
    raise e
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 169, in pytest_runtest_call
    item.runtest()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 1792, in runtest
    self.ihook.pytest_pyfunc_call(pyfuncitem=self)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 113, in _multicall
    raise exception.with_traceback(exception.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 194, in pytest_pyfunc_call
    result = testfunction(**testargs)
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 1152, in test_lua_hook
    _test_hook_repo(
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 78, in _test_hook_repo
    hook = _get_hook(config, store, hook_id)
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 61, in _get_hook
    install_hook_envs([hook], store)
  File "/workdir/pre-commit-2.20.0/pre_commit/repository.py", line 223, in install_hook_envs
    _hook_install(hook)
  File "/workdir/pre-commit-2.20.0/pre_commit/repository.py", line 79, in _hook_install
    lang.install_environment(
  File "/workdir/pre-commit-2.20.0/pre_commit/languages/lua.py", line 68, in install_environment
    with in_env(prefix):
  File "/usr/local/lib/python3.10/contextlib.py", line 135, in __enter__
    return next(self.gen)
  File "/workdir/pre-commit-2.20.0/pre_commit/languages/lua.py", line 55, in in_env
    with envcontext(get_env_patch(_envdir(prefix))):
  File "/workdir/pre-commit-2.20.0/pre_commit/languages/lua.py", line 31, in get_env_patch
    version = _get_lua_version()
  File "/workdir/pre-commit-2.20.0/pre_commit/languages/lua.py", line 26, in _get_lua_version
    _, stdout, _ = cmd_output('luarocks', 'config', '--lua-ver')
  File "/workdir/pre-commit-2.20.0/pre_commit/util.py", line 152, in cmd_output
    returncode, stdout_b, stderr_b = cmd_output_b(*cmd, **kwargs)
  File "/workdir/pre-commit-2.20.0/pre_commit/util.py", line 146, in cmd_output_b
    raise CalledProcessError(returncode, cmd, retcode, stdout_b, stderr_b)
pre_commit.util.CalledProcessError: command: ('luarocks', 'config', '--lua-ver')
return code: 1
expected return code: 0
stdout:
    Executable `luarocks` not found
stderr: (none)</failure></testcase><testcase classname="tests.repository_test" name="test_local_lua_additional_dependencies" time="0.051"><failure message="pre_commit.util.CalledProcessError: command: ('luarocks', 'config', '--lua-ver')&#10;return code: 1&#10;expected return code: 0&#10;stdout:&#10;    Executable `luarocks` not found&#10;stderr: (none)">Traceback (most recent call last):
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 341, in from_call
    result: Optional[TResult] = func()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 262, in &lt;lambda&gt;
    lambda: ihook(item=item, **kwds), when=when, reraise=reraise
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 152, in _multicall
    return outcome.get_result()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_result.py", line 114, in get_result
    raise exc.with_traceback(exc.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 177, in pytest_runtest_call
    raise e
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 169, in pytest_runtest_call
    item.runtest()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 1792, in runtest
    self.ihook.pytest_pyfunc_call(pyfuncitem=self)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 113, in _multicall
    raise exception.with_traceback(exception.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 194, in pytest_pyfunc_call
    result = testfunction(**testargs)
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 1170, in test_local_lua_additional_dependencies
    hook = _get_hook(config, store, 'local-lua')
  File "/workdir/pre-commit-2.20.0/tests/repository_test.py", line 61, in _get_hook
    install_hook_envs([hook], store)
  File "/workdir/pre-commit-2.20.0/pre_commit/repository.py", line 223, in install_hook_envs
    _hook_install(hook)
  File "/workdir/pre-commit-2.20.0/pre_commit/repository.py", line 79, in _hook_install
    lang.install_environment(
  File "/workdir/pre-commit-2.20.0/pre_commit/languages/lua.py", line 68, in install_environment
    with in_env(prefix):
  File "/usr/local/lib/python3.10/contextlib.py", line 135, in __enter__
    return next(self.gen)
  File "/workdir/pre-commit-2.20.0/pre_commit/languages/lua.py", line 55, in in_env
    with envcontext(get_env_patch(_envdir(prefix))):
  File "/workdir/pre-commit-2.20.0/pre_commit/languages/lua.py", line 31, in get_env_patch
    version = _get_lua_version()
  File "/workdir/pre-commit-2.20.0/pre_commit/languages/lua.py", line 26, in _get_lua_version
    _, stdout, _ = cmd_output('luarocks', 'config', '--lua-ver')
  File "/workdir/pre-commit-2.20.0/pre_commit/util.py", line 152, in cmd_output
    returncode, stdout_b, stderr_b = cmd_output_b(*cmd, **kwargs)
  File "/workdir/pre-commit-2.20.0/pre_commit/util.py", line 146, in cmd_output_b
    raise CalledProcessError(returncode, cmd, retcode, stdout_b, stderr_b)
pre_commit.util.CalledProcessError: command: ('luarocks', 'config', '--lua-ver')
return code: 1
expected return code: 0
stdout:
    Executable `luarocks` not found
stderr: (none)</failure></testcase><testcase classname="tests.staged_files_only_test" name="test_foo_staged" time="0.009" /><testcase classname="tests.staged_files_only_test" name="test_foo_nothing_unstaged" time="0.015" /><testcase classname="tests.staged_files_only_test" name="test_foo_something_unstaged" time="0.021" /><testcase classname="tests.staged_files_only_test" name="test_does_not_crash_patch_dir_does_not_exist" time="0.016" /><testcase classname="tests.staged_files_only_test" name="test_something_unstaged_ext_diff_tool" time="0.022" /><testcase classname="tests.staged_files_only_test" name="test_foo_something_unstaged_diff_color_always" time="0.022" /><testcase classname="tests.staged_files_only_test" name="test_foo_both_modify_non_conflicting" time="0.022" /><testcase classname="tests.staged_files_only_test" name="test_foo_both_modify_conflicting" time="0.026" /><testcase classname="tests.staged_files_only_test" name="test_img_staged" time="0.009" /><testcase classname="tests.staged_files_only_test" name="test_img_nothing_unstaged" time="0.015" /><testcase classname="tests.staged_files_only_test" name="test_img_something_unstaged" time="0.020" /><testcase classname="tests.staged_files_only_test" name="test_img_conflict" time="0.029" /><testcase classname="tests.staged_files_only_test" name="test_sub_staged" time="0.054"><error message="failed on setup with &quot;pre_commit.util.CalledProcessError: command: ('/usr/bin/git', 'submodule', 'add', '/tmp/pytest-of-tester/pytest-44/test_sub_staged0/0', 'sub')&#10;return code: 128&#10;expected return code: 0&#10;stdout: (none)&#10;stderr:&#10;    Cloning into '/tmp/pytest-of-tester/pytest-44/test_sub_staged0/1/sub'...&#10;    fatal: transport 'file' not allowed&#10;    fatal: clone of '/tmp/pytest-of-tester/pytest-44/test_sub_staged0/0' into submodule path '/tmp/pytest-of-tester/pytest-44/test_sub_staged0/1/sub' failed&quot;">Traceback (most recent call last):
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 341, in from_call
    result: Optional[TResult] = func()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 262, in &lt;lambda&gt;
    lambda: ihook(item=item, **kwds), when=when, reraise=reraise
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 152, in _multicall
    return outcome.get_result()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_result.py", line 114, in get_result
    raise exc.with_traceback(exc.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 157, in pytest_runtest_setup
    item.session._setupstate.setup(item)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 497, in setup
    raise exc
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 494, in setup
    col.setup()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 1795, in setup
    self._request._fillfixtures()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/fixtures.py", line 566, in _fillfixtures
    item.funcargs[argname] = self.getfixturevalue(argname)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/fixtures.py", line 585, in getfixturevalue
    fixturedef = self._get_active_fixturedef(argname)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/fixtures.py", line 607, in _get_active_fixturedef
    self._compute_fixture_value(fixturedef)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/fixtures.py", line 693, in _compute_fixture_value
    fixturedef.execute(request=subrequest)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/fixtures.py", line 1069, in execute
    result = ihook.pytest_fixture_setup(fixturedef=self, request=request)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 152, in _multicall
    return outcome.get_result()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_result.py", line 114, in get_result
    raise exc.with_traceback(exc.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/fixtures.py", line 1123, in pytest_fixture_setup
    result = call_fixture_func(fixturefunc, request, kwargs)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/fixtures.py", line 895, in call_fixture_func
    fixture_result = next(generator)
  File "/workdir/pre-commit-2.20.0/tests/staged_files_only_test.py", line 209, in sub_staged
    cmd_output(
  File "/workdir/pre-commit-2.20.0/pre_commit/util.py", line 152, in cmd_output
    returncode, stdout_b, stderr_b = cmd_output_b(*cmd, **kwargs)
  File "/workdir/pre-commit-2.20.0/pre_commit/util.py", line 146, in cmd_output_b
    raise CalledProcessError(returncode, cmd, retcode, stdout_b, stderr_b)
pre_commit.util.CalledProcessError: command: ('/usr/bin/git', 'submodule', 'add', '/tmp/pytest-of-tester/pytest-44/test_sub_staged0/0', 'sub')
return code: 128
expected return code: 0
stdout: (none)
stderr:
    Cloning into '/tmp/pytest-of-tester/pytest-44/test_sub_staged0/1/sub'...
    fatal: transport 'file' not allowed
    fatal: clone of '/tmp/pytest-of-tester/pytest-44/test_sub_staged0/0' into submodule path '/tmp/pytest-of-tester/pytest-44/test_sub_staged0/1/sub' failed</error></testcase><testcase classname="tests.staged_files_only_test" name="test_sub_nothing_unstaged" time="0.051"><error message="failed on setup with &quot;pre_commit.util.CalledProcessError: command: ('/usr/bin/git', 'submodule', 'add', '/tmp/pytest-of-tester/pytest-44/test_sub_nothing_unstaged0/0', 'sub')&#10;return code: 128&#10;expected return code: 0&#10;stdout: (none)&#10;stderr:&#10;    Cloning into '/tmp/pytest-of-tester/pytest-44/test_sub_nothing_unstaged0/1/sub'...&#10;    fatal: transport 'file' not allowed&#10;    fatal: clone of '/tmp/pytest-of-tester/pytest-44/test_sub_nothing_unstaged0/0' into submodule path '/tmp/pytest-of-tester/pytest-44/test_sub_nothing_unstaged0/1/sub' failed&quot;">Traceback (most recent call last):
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 341, in from_call
    result: Optional[TResult] = func()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 262, in &lt;lambda&gt;
    lambda: ihook(item=item, **kwds), when=when, reraise=reraise
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 152, in _multicall
    return outcome.get_result()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_result.py", line 114, in get_result
    raise exc.with_traceback(exc.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 157, in pytest_runtest_setup
    item.session._setupstate.setup(item)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 497, in setup
    raise exc
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 494, in setup
    col.setup()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 1795, in setup
    self._request._fillfixtures()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/fixtures.py", line 566, in _fillfixtures
    item.funcargs[argname] = self.getfixturevalue(argname)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/fixtures.py", line 585, in getfixturevalue
    fixturedef = self._get_active_fixturedef(argname)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/fixtures.py", line 607, in _get_active_fixturedef
    self._compute_fixture_value(fixturedef)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/fixtures.py", line 693, in _compute_fixture_value
    fixturedef.execute(request=subrequest)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/fixtures.py", line 1069, in execute
    result = ihook.pytest_fixture_setup(fixturedef=self, request=request)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 152, in _multicall
    return outcome.get_result()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_result.py", line 114, in get_result
    raise exc.with_traceback(exc.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/fixtures.py", line 1123, in pytest_fixture_setup
    result = call_fixture_func(fixturefunc, request, kwargs)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/fixtures.py", line 895, in call_fixture_func
    fixture_result = next(generator)
  File "/workdir/pre-commit-2.20.0/tests/staged_files_only_test.py", line 209, in sub_staged
    cmd_output(
  File "/workdir/pre-commit-2.20.0/pre_commit/util.py", line 152, in cmd_output
    returncode, stdout_b, stderr_b = cmd_output_b(*cmd, **kwargs)
  File "/workdir/pre-commit-2.20.0/pre_commit/util.py", line 146, in cmd_output_b
    raise CalledProcessError(returncode, cmd, retcode, stdout_b, stderr_b)
pre_commit.util.CalledProcessError: command: ('/usr/bin/git', 'submodule', 'add', '/tmp/pytest-of-tester/pytest-44/test_sub_nothing_unstaged0/0', 'sub')
return code: 128
expected return code: 0
stdout: (none)
stderr:
    Cloning into '/tmp/pytest-of-tester/pytest-44/test_sub_nothing_unstaged0/1/sub'...
    fatal: transport 'file' not allowed
    fatal: clone of '/tmp/pytest-of-tester/pytest-44/test_sub_nothing_unstaged0/0' into submodule path '/tmp/pytest-of-tester/pytest-44/test_sub_nothing_unstaged0/1/sub' failed</error></testcase><testcase classname="tests.staged_files_only_test" name="test_sub_something_unstaged" time="0.051"><error message="failed on setup with &quot;pre_commit.util.CalledProcessError: command: ('/usr/bin/git', 'submodule', 'add', '/tmp/pytest-of-tester/pytest-44/test_sub_something_unstaged0/0', 'sub')&#10;return code: 128&#10;expected return code: 0&#10;stdout: (none)&#10;stderr:&#10;    Cloning into '/tmp/pytest-of-tester/pytest-44/test_sub_something_unstaged0/1/sub'...&#10;    fatal: transport 'file' not allowed&#10;    fatal: clone of '/tmp/pytest-of-tester/pytest-44/test_sub_something_unstaged0/0' into submodule path '/tmp/pytest-of-tester/pytest-44/test_sub_something_unstaged0/1/sub' failed&quot;">Traceback (most recent call last):
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 341, in from_call
    result: Optional[TResult] = func()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 262, in &lt;lambda&gt;
    lambda: ihook(item=item, **kwds), when=when, reraise=reraise
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 152, in _multicall
    return outcome.get_result()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_result.py", line 114, in get_result
    raise exc.with_traceback(exc.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 157, in pytest_runtest_setup
    item.session._setupstate.setup(item)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 497, in setup
    raise exc
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 494, in setup
    col.setup()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 1795, in setup
    self._request._fillfixtures()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/fixtures.py", line 566, in _fillfixtures
    item.funcargs[argname] = self.getfixturevalue(argname)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/fixtures.py", line 585, in getfixturevalue
    fixturedef = self._get_active_fixturedef(argname)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/fixtures.py", line 607, in _get_active_fixturedef
    self._compute_fixture_value(fixturedef)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/fixtures.py", line 693, in _compute_fixture_value
    fixturedef.execute(request=subrequest)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/fixtures.py", line 1069, in execute
    result = ihook.pytest_fixture_setup(fixturedef=self, request=request)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 152, in _multicall
    return outcome.get_result()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_result.py", line 114, in get_result
    raise exc.with_traceback(exc.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/fixtures.py", line 1123, in pytest_fixture_setup
    result = call_fixture_func(fixturefunc, request, kwargs)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/fixtures.py", line 895, in call_fixture_func
    fixture_result = next(generator)
  File "/workdir/pre-commit-2.20.0/tests/staged_files_only_test.py", line 209, in sub_staged
    cmd_output(
  File "/workdir/pre-commit-2.20.0/pre_commit/util.py", line 152, in cmd_output
    returncode, stdout_b, stderr_b = cmd_output_b(*cmd, **kwargs)
  File "/workdir/pre-commit-2.20.0/pre_commit/util.py", line 146, in cmd_output_b
    raise CalledProcessError(returncode, cmd, retcode, stdout_b, stderr_b)
pre_commit.util.CalledProcessError: command: ('/usr/bin/git', 'submodule', 'add', '/tmp/pytest-of-tester/pytest-44/test_sub_something_unstaged0/0', 'sub')
return code: 128
expected return code: 0
stdout: (none)
stderr:
    Cloning into '/tmp/pytest-of-tester/pytest-44/test_sub_something_unstaged0/1/sub'...
    fatal: transport 'file' not allowed
    fatal: clone of '/tmp/pytest-of-tester/pytest-44/test_sub_something_unstaged0/0' into submodule path '/tmp/pytest-of-tester/pytest-44/test_sub_something_unstaged0/1/sub' failed</error></testcase><testcase classname="tests.staged_files_only_test" name="test_submodule_does_not_discard_changes" time="0.051"><error message="failed on setup with &quot;pre_commit.util.CalledProcessError: command: ('/usr/bin/git', 'submodule', 'add', '/tmp/pytest-of-tester/pytest-44/test_submodule_does_not_discar0/0', 'sub')&#10;return code: 128&#10;expected return code: 0&#10;stdout: (none)&#10;stderr:&#10;    Cloning into '/tmp/pytest-of-tester/pytest-44/test_submodule_does_not_discar0/1/sub'...&#10;    fatal: transport 'file' not allowed&#10;    fatal: clone of '/tmp/pytest-of-tester/pytest-44/test_submodule_does_not_discar0/0' into submodule path '/tmp/pytest-of-tester/pytest-44/test_submodule_does_not_discar0/1/sub' failed&quot;">Traceback (most recent call last):
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 341, in from_call
    result: Optional[TResult] = func()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 262, in &lt;lambda&gt;
    lambda: ihook(item=item, **kwds), when=when, reraise=reraise
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 152, in _multicall
    return outcome.get_result()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_result.py", line 114, in get_result
    raise exc.with_traceback(exc.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 157, in pytest_runtest_setup
    item.session._setupstate.setup(item)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 497, in setup
    raise exc
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 494, in setup
    col.setup()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 1795, in setup
    self._request._fillfixtures()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/fixtures.py", line 566, in _fillfixtures
    item.funcargs[argname] = self.getfixturevalue(argname)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/fixtures.py", line 585, in getfixturevalue
    fixturedef = self._get_active_fixturedef(argname)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/fixtures.py", line 607, in _get_active_fixturedef
    self._compute_fixture_value(fixturedef)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/fixtures.py", line 693, in _compute_fixture_value
    fixturedef.execute(request=subrequest)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/fixtures.py", line 1069, in execute
    result = ihook.pytest_fixture_setup(fixturedef=self, request=request)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 152, in _multicall
    return outcome.get_result()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_result.py", line 114, in get_result
    raise exc.with_traceback(exc.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/fixtures.py", line 1123, in pytest_fixture_setup
    result = call_fixture_func(fixturefunc, request, kwargs)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/fixtures.py", line 895, in call_fixture_func
    fixture_result = next(generator)
  File "/workdir/pre-commit-2.20.0/tests/staged_files_only_test.py", line 209, in sub_staged
    cmd_output(
  File "/workdir/pre-commit-2.20.0/pre_commit/util.py", line 152, in cmd_output
    returncode, stdout_b, stderr_b = cmd_output_b(*cmd, **kwargs)
  File "/workdir/pre-commit-2.20.0/pre_commit/util.py", line 146, in cmd_output_b
    raise CalledProcessError(returncode, cmd, retcode, stdout_b, stderr_b)
pre_commit.util.CalledProcessError: command: ('/usr/bin/git', 'submodule', 'add', '/tmp/pytest-of-tester/pytest-44/test_submodule_does_not_discar0/0', 'sub')
return code: 128
expected return code: 0
stdout: (none)
stderr:
    Cloning into '/tmp/pytest-of-tester/pytest-44/test_submodule_does_not_discar0/1/sub'...
    fatal: transport 'file' not allowed
    fatal: clone of '/tmp/pytest-of-tester/pytest-44/test_submodule_does_not_discar0/0' into submodule path '/tmp/pytest-of-tester/pytest-44/test_submodule_does_not_discar0/1/sub' failed</error></testcase><testcase classname="tests.staged_files_only_test" name="test_submodule_does_not_discard_changes_recurse" time="0.060"><error message="failed on setup with &quot;pre_commit.util.CalledProcessError: command: ('/usr/bin/git', 'submodule', 'add', '/tmp/pytest-of-tester/pytest-44/test_submodule_does_not_discar1/0', 'sub')&#10;return code: 128&#10;expected return code: 0&#10;stdout: (none)&#10;stderr:&#10;    Cloning into '/tmp/pytest-of-tester/pytest-44/test_submodule_does_not_discar1/1/sub'...&#10;    fatal: transport 'file' not allowed&#10;    fatal: clone of '/tmp/pytest-of-tester/pytest-44/test_submodule_does_not_discar1/0' into submodule path '/tmp/pytest-of-tester/pytest-44/test_submodule_does_not_discar1/1/sub' failed&quot;">Traceback (most recent call last):
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 341, in from_call
    result: Optional[TResult] = func()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 262, in &lt;lambda&gt;
    lambda: ihook(item=item, **kwds), when=when, reraise=reraise
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 152, in _multicall
    return outcome.get_result()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_result.py", line 114, in get_result
    raise exc.with_traceback(exc.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 157, in pytest_runtest_setup
    item.session._setupstate.setup(item)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 497, in setup
    raise exc
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 494, in setup
    col.setup()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 1795, in setup
    self._request._fillfixtures()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/fixtures.py", line 566, in _fillfixtures
    item.funcargs[argname] = self.getfixturevalue(argname)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/fixtures.py", line 585, in getfixturevalue
    fixturedef = self._get_active_fixturedef(argname)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/fixtures.py", line 607, in _get_active_fixturedef
    self._compute_fixture_value(fixturedef)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/fixtures.py", line 693, in _compute_fixture_value
    fixturedef.execute(request=subrequest)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/fixtures.py", line 1069, in execute
    result = ihook.pytest_fixture_setup(fixturedef=self, request=request)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 152, in _multicall
    return outcome.get_result()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_result.py", line 114, in get_result
    raise exc.with_traceback(exc.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/fixtures.py", line 1123, in pytest_fixture_setup
    result = call_fixture_func(fixturefunc, request, kwargs)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/fixtures.py", line 895, in call_fixture_func
    fixture_result = next(generator)
  File "/workdir/pre-commit-2.20.0/tests/staged_files_only_test.py", line 209, in sub_staged
    cmd_output(
  File "/workdir/pre-commit-2.20.0/pre_commit/util.py", line 152, in cmd_output
    returncode, stdout_b, stderr_b = cmd_output_b(*cmd, **kwargs)
  File "/workdir/pre-commit-2.20.0/pre_commit/util.py", line 146, in cmd_output_b
    raise CalledProcessError(returncode, cmd, retcode, stdout_b, stderr_b)
pre_commit.util.CalledProcessError: command: ('/usr/bin/git', 'submodule', 'add', '/tmp/pytest-of-tester/pytest-44/test_submodule_does_not_discar1/0', 'sub')
return code: 128
expected return code: 0
stdout: (none)
stderr:
    Cloning into '/tmp/pytest-of-tester/pytest-44/test_submodule_does_not_discar1/1/sub'...
    fatal: transport 'file' not allowed
    fatal: clone of '/tmp/pytest-of-tester/pytest-44/test_submodule_does_not_discar1/0' into submodule path '/tmp/pytest-of-tester/pytest-44/test_submodule_does_not_discar1/1/sub' failed</error></testcase><testcase classname="tests.staged_files_only_test" name="test_stage_utf8_changes" time="0.024" /><testcase classname="tests.staged_files_only_test" name="test_stage_non_utf8_changes" time="0.022" /><testcase classname="tests.staged_files_only_test" name="test_non_utf8_conflicting_diff" time="0.026" /><testcase classname="tests.staged_files_only_test" name="test_crlf[true-True-True]" time="0.019" /><testcase classname="tests.staged_files_only_test" name="test_crlf[true-True-False]" time="0.020" /><testcase classname="tests.staged_files_only_test" name="test_crlf[true-False-True]" time="0.020" /><testcase classname="tests.staged_files_only_test" name="test_crlf[true-False-False]" time="0.021" /><testcase classname="tests.staged_files_only_test" name="test_crlf[false-True-True]" time="0.021" /><testcase classname="tests.staged_files_only_test" name="test_crlf[false-True-False]" time="0.020" /><testcase classname="tests.staged_files_only_test" name="test_crlf[false-False-True]" time="0.020" /><testcase classname="tests.staged_files_only_test" name="test_crlf[false-False-False]" time="0.020" /><testcase classname="tests.staged_files_only_test" name="test_crlf[input-True-True]" time="0.019" /><testcase classname="tests.staged_files_only_test" name="test_crlf[input-True-False]" time="0.020" /><testcase classname="tests.staged_files_only_test" name="test_crlf[input-False-True]" time="0.020" /><testcase classname="tests.staged_files_only_test" name="test_crlf[input-False-False]" time="0.020" /><testcase classname="tests.staged_files_only_test" name="test_whitespace_errors" time="0.021" /><testcase classname="tests.staged_files_only_test" name="test_autocrlf_committed_crlf" time="0.024" /><testcase classname="tests.staged_files_only_test" name="test_intent_to_add" time="0.021" /><testcase classname="tests.store_test" name="test_our_session_fixture_works" time="0.001" /><testcase classname="tests.store_test" name="test_get_default_directory_defaults_to_home" time="0.001" /><testcase classname="tests.store_test" name="test_adheres_to_xdg_specification" time="0.001" /><testcase classname="tests.store_test" name="test_uses_environment_variable_when_present" time="0.001" /><testcase classname="tests.store_test" name="test_store_init" time="0.043" /><testcase classname="tests.store_test" name="test_clone" time="0.090" /><testcase classname="tests.store_test" name="test_clone_cleans_up_on_checkout_failure" time="0.037" /><testcase classname="tests.store_test" name="test_clone_when_repo_already_exists" time="0.033" /><testcase classname="tests.store_test" name="test_clone_shallow_failure_fallback_to_complete" time="0.091" /><testcase classname="tests.store_test" name="test_clone_tag_not_on_mainline" time="0.189" /><testcase classname="tests.store_test" name="test_create_when_directory_exists_but_not_db" time="0.047" /><testcase classname="tests.store_test" name="test_create_when_store_already_exists" time="0.024" /><testcase classname="tests.store_test" name="test_db_repo_name" time="0.025" /><testcase classname="tests.store_test" name="test_local_resources_reflects_reality" time="0.001" /><testcase classname="tests.store_test" name="test_mark_config_as_used" time="0.085" /><testcase classname="tests.store_test" name="test_mark_config_as_used_idempotent" time="0.035" /><testcase classname="tests.store_test" name="test_mark_config_as_used_does_not_exist" time="0.024" /><testcase classname="tests.store_test" name="test_select_all_configs_roll_forward" time="0.040" /><testcase classname="tests.store_test" name="test_mark_config_as_used_roll_forward" time="0.051" /><testcase classname="tests.store_test" name="test_mark_config_as_used_readonly" time="0.023" /><testcase classname="tests.util_test" name="test_CalledProcessError_str" time="0.001" /><testcase classname="tests.util_test" name="test_CalledProcessError_str_nooutput" time="0.000" /><testcase classname="tests.util_test" name="test_clean_on_failure_noop" time="0.002" /><testcase classname="tests.util_test" name="test_clean_path_on_failure_does_nothing_when_not_raising" time="0.002" /><testcase classname="tests.util_test" name="test_clean_path_on_failure_cleans_for_normal_exception" time="0.002" /><testcase classname="tests.util_test" name="test_clean_path_on_failure_cleans_for_system_exit" time="0.002" /><testcase classname="tests.util_test" name="test_tmpdir" time="0.001" /><testcase classname="tests.util_test" name="test_cmd_output_exe_not_found" time="0.001" /><testcase classname="tests.util_test" name="test_cmd_output_exe_not_found_bytes[cmd_output_b]" time="0.001" /><testcase classname="tests.util_test" name="test_cmd_output_exe_not_found_bytes[cmd_output_p]" time="0.001" /><testcase classname="tests.util_test" name="test_cmd_output_no_shebang[cmd_output_b]" time="0.003" /><testcase classname="tests.util_test" name="test_cmd_output_no_shebang[cmd_output_p]" time="0.003" /><testcase classname="tests.util_test" name="test_parse_version" time="0.001" /><testcase classname="tests.util_test" name="test_rmtree_read_only_directories" time="0.002" /><testcase classname="tests.xargs_test" name="test_environ_size[env0-0]" time="0.001" /><testcase classname="tests.xargs_test" name="test_environ_size[env1-12]" time="0.001" /><testcase classname="tests.xargs_test" name="test_environ_size[env2-13]" time="0.001" /><testcase classname="tests.xargs_test" name="test_environ_size[env3-24]" time="0.001" /><testcase classname="tests.xargs_test" name="test_partition_trivial" time="0.001" /><testcase classname="tests.xargs_test" name="test_partition_simple" time="0.001" /><testcase classname="tests.xargs_test" name="test_partition_limits" time="0.001" /><testcase classname="tests.xargs_test" name="test_partition_limit_win32" time="0.001" /><testcase classname="tests.xargs_test" name="test_partition_limit_linux" time="0.001" /><testcase classname="tests.xargs_test" name="test_argument_too_long_with_large_unicode" time="0.001" /><testcase classname="tests.xargs_test" name="test_partition_target_concurrency" time="0.001" /><testcase classname="tests.xargs_test" name="test_partition_target_concurrency_wont_make_tiny_partitions" time="0.000" /><testcase classname="tests.xargs_test" name="test_argument_too_long" time="0.000" /><testcase classname="tests.xargs_test" name="test_xargs_smoke" time="0.002" /><testcase classname="tests.xargs_test" name="test_xargs_retcode_normal" time="0.008" /><testcase classname="tests.xargs_test" name="test_xargs_concurrency" time="0.510" /><testcase classname="tests.xargs_test" name="test_thread_mapper_concurrency_uses_threadpoolexecutor_map" time="0.000" /><testcase classname="tests.xargs_test" name="test_thread_mapper_concurrency_uses_regular_map" time="0.000" /><testcase classname="tests.xargs_test" name="test_xargs_propagate_kwargs_to_cmd" time="0.002" /><testcase classname="tests.xargs_test" name="test_xargs_color_true_makes_tty" time="0.015" /><testcase classname="tests.xargs_test" name="test_xargs_with_batch_files[t.bat]" time="0.002"><skipped type="pytest.xfail" message="nt only" /></testcase><testcase classname="tests.xargs_test" name="test_xargs_with_batch_files[t.cmd]" time="0.002"><skipped type="pytest.xfail" message="nt only" /></testcase><testcase classname="tests.xargs_test" name="test_xargs_with_batch_files[T.CMD]" time="0.002"><skipped type="pytest.xfail" message="nt only" /></testcase><testcase classname="tests.commands.autoupdate_test" name="test_rev_info_from_config" time="0.001" /><testcase classname="tests.commands.autoupdate_test" name="test_rev_info_update_up_to_date_repo" time="0.033" /><testcase classname="tests.commands.autoupdate_test" name="test_rev_info_update_out_of_date_repo" time="0.041" /><testcase classname="tests.commands.autoupdate_test" name="test_rev_info_update_non_master_default_branch" time="0.044" /><testcase classname="tests.commands.autoupdate_test" name="test_rev_info_update_tags_even_if_not_tags_only" time="0.043" /><testcase classname="tests.commands.autoupdate_test" name="test_rev_info_update_tags_only_does_not_pick_tip" time="0.047" /><testcase classname="tests.commands.autoupdate_test" name="test_rev_info_update_tags_prefers_version_tag" time="0.047" /><testcase classname="tests.commands.autoupdate_test" name="test_rev_info_update_tags_non_version_tag" time="0.043" /><testcase classname="tests.commands.autoupdate_test" name="test_rev_info_update_freeze_tag" time="0.048" /><testcase classname="tests.commands.autoupdate_test" name="test_rev_info_update_does_not_freeze_if_already_sha" time="0.042" /><testcase classname="tests.commands.autoupdate_test" name="test_autoupdate_up_to_date_repo" time="0.113" /><testcase classname="tests.commands.autoupdate_test" name="test_autoupdate_old_revision_broken" time="0.130" /><testcase classname="tests.commands.autoupdate_test" name="test_autoupdate_out_of_date_repo" time="0.124" /><testcase classname="tests.commands.autoupdate_test" name="test_autoupdate_with_core_useBuiltinFSMonitor" time="0.113" /><testcase classname="tests.commands.autoupdate_test" name="test_autoupdate_pure_yaml" time="0.115" /><testcase classname="tests.commands.autoupdate_test" name="test_autoupdate_only_one_to_update" time="0.201" /><testcase classname="tests.commands.autoupdate_test" name="test_autoupdate_out_of_date_repo_with_correct_repo_name" time="0.120" /><testcase classname="tests.commands.autoupdate_test" name="test_autoupdate_out_of_date_repo_with_wrong_repo_name" time="0.047" /><testcase classname="tests.commands.autoupdate_test" name="test_does_not_reformat" time="0.112" /><testcase classname="tests.commands.autoupdate_test" name="test_does_not_change_mixed_endlines_read" time="0.108" /><testcase classname="tests.commands.autoupdate_test" name="test_does_not_change_mixed_endlines_write" time="0.114" /><testcase classname="tests.commands.autoupdate_test" name="test_loses_formatting_when_not_detectable" time="0.113" /><testcase classname="tests.commands.autoupdate_test" name="test_autoupdate_tagged_repo" time="0.114" /><testcase classname="tests.commands.autoupdate_test" name="test_autoupdate_freeze" time="0.182" /><testcase classname="tests.commands.autoupdate_test" name="test_autoupdate_tags_only" time="0.123" /><testcase classname="tests.commands.autoupdate_test" name="test_autoupdate_latest_no_config" time="0.118" /><testcase classname="tests.commands.autoupdate_test" name="test_hook_disppearing_repo_raises" time="0.115" /><testcase classname="tests.commands.autoupdate_test" name="test_autoupdate_hook_disappearing_repo" time="0.112" /><testcase classname="tests.commands.autoupdate_test" name="test_autoupdate_local_hooks" time="0.035" /><testcase classname="tests.commands.autoupdate_test" name="test_autoupdate_local_hooks_with_out_of_date_repo" time="0.114" /><testcase classname="tests.commands.autoupdate_test" name="test_autoupdate_meta_hooks" time="0.024" /><testcase classname="tests.commands.autoupdate_test" name="test_updates_old_format_to_new_format" time="0.024" /><testcase classname="tests.commands.autoupdate_test" name="test_maintains_rev_quoting_style" time="0.132" /><testcase classname="tests.commands.clean_test" name="test_clean" time="0.026" /><testcase classname="tests.commands.clean_test" name="test_clean_idempotent" time="0.024" /><testcase classname="tests.commands.gc_test" name="test_gc" time="0.202" /><testcase classname="tests.commands.gc_test" name="test_gc_repo_not_cloned" time="0.051" /><testcase classname="tests.commands.gc_test" name="test_gc_meta_repo_does_not_crash" time="0.039" /><testcase classname="tests.commands.gc_test" name="test_gc_local_repo_does_not_crash" time="0.039" /><testcase classname="tests.commands.gc_test" name="test_gc_unused_local_repo_with_env" time="0.086" /><testcase classname="tests.commands.gc_test" name="test_gc_config_with_missing_hook" time="0.128" /><testcase classname="tests.commands.gc_test" name="test_gc_deletes_invalid_configs" time="0.047" /><testcase classname="tests.commands.gc_test" name="test_invalid_manifest_gcd" time="0.109" /><testcase classname="tests.commands.hook_impl_test" name="test_validate_config_file_exists" time="0.002" /><testcase classname="tests.commands.hook_impl_test" name="test_validate_config_missing" time="0.001" /><testcase classname="tests.commands.hook_impl_test" name="test_validate_config_skip_missing_config" time="0.001" /><testcase classname="tests.commands.hook_impl_test" name="test_validate_config_skip_via_env_variable" time="0.001" /><testcase classname="tests.commands.hook_impl_test" name="test_run_legacy_does_not_exist" time="0.002" /><testcase classname="tests.commands.hook_impl_test" name="test_run_legacy_executes_legacy_script" time="0.004" /><testcase classname="tests.commands.hook_impl_test" name="test_run_legacy_pre_push_returns_stdin" time="0.002" /><testcase classname="tests.commands.hook_impl_test" name="test_run_legacy_recursive" time="0.002" /><testcase classname="tests.commands.hook_impl_test" name="test_check_args_length_ok[pre-commit-args0]" time="0.001" /><testcase classname="tests.commands.hook_impl_test" name="test_check_args_length_ok[pre-merge-commit-args1]" time="0.001" /><testcase classname="tests.commands.hook_impl_test" name="test_check_args_length_ok[pre-push-args2]" time="0.001" /><testcase classname="tests.commands.hook_impl_test" name="test_check_args_length_ok[commit-msg-args3]" time="0.001" /><testcase classname="tests.commands.hook_impl_test" name="test_check_args_length_ok[post-commit-args4]" time="0.001" /><testcase classname="tests.commands.hook_impl_test" name="test_check_args_length_ok[post-merge-args5]" time="0.001" /><testcase classname="tests.commands.hook_impl_test" name="test_check_args_length_ok[post-checkout-args6]" time="0.001" /><testcase classname="tests.commands.hook_impl_test" name="test_check_args_length_ok[post-rewrite-args7]" time="0.001" /><testcase classname="tests.commands.hook_impl_test" name="test_check_args_length_ok[prepare-commit-msg-args8]" time="0.001" /><testcase classname="tests.commands.hook_impl_test" name="test_check_args_length_ok[prepare-commit-msg-args9]" time="0.001" /><testcase classname="tests.commands.hook_impl_test" name="test_check_args_length_ok[prepare-commit-msg-args10]" time="0.001" /><testcase classname="tests.commands.hook_impl_test" name="test_check_args_length_error_too_many_plural" time="0.001" /><testcase classname="tests.commands.hook_impl_test" name="test_check_args_length_error_too_many_singular" time="0.001" /><testcase classname="tests.commands.hook_impl_test" name="test_check_args_length_prepare_commit_msg_error" time="0.001" /><testcase classname="tests.commands.hook_impl_test" name="test_run_ns_pre_commit" time="0.001" /><testcase classname="tests.commands.hook_impl_test" name="test_run_ns_commit_msg" time="0.000" /><testcase classname="tests.commands.hook_impl_test" name="test_run_ns_prepare_commit_msg_one_arg" time="0.001" /><testcase classname="tests.commands.hook_impl_test" name="test_run_ns_prepare_commit_msg_two_arg" time="0.001" /><testcase classname="tests.commands.hook_impl_test" name="test_run_ns_prepare_commit_msg_three_arg" time="0.001" /><testcase classname="tests.commands.hook_impl_test" name="test_run_ns_post_commit" time="0.001" /><testcase classname="tests.commands.hook_impl_test" name="test_run_ns_post_merge" time="0.001" /><testcase classname="tests.commands.hook_impl_test" name="test_run_ns_post_rewrite" time="0.001" /><testcase classname="tests.commands.hook_impl_test" name="test_run_ns_post_checkout" time="0.001" /><testcase classname="tests.commands.hook_impl_test" name="test_run_ns_pre_push_updating_branch" time="0.031" /><testcase classname="tests.commands.hook_impl_test" name="test_run_ns_pre_push_new_branch" time="0.033" /><testcase classname="tests.commands.hook_impl_test" name="test_run_ns_pre_push_new_branch_existing_rev" time="0.029" /><testcase classname="tests.commands.hook_impl_test" name="test_run_ns_pre_push_ref_with_whitespace" time="0.027" /><testcase classname="tests.commands.hook_impl_test" name="test_pushing_orphan_branch" time="0.041" /><testcase classname="tests.commands.hook_impl_test" name="test_run_ns_pre_push_deleting_branch" time="0.054" /><testcase classname="tests.commands.hook_impl_test" name="test_hook_impl_main_noop_pre_push" time="0.143" /><testcase classname="tests.commands.hook_impl_test" name="test_hook_impl_main_runs_hooks" time="0.058" /><testcase classname="tests.commands.init_templatedir_test" name="test_init_templatedir" time="0.565" /><testcase classname="tests.commands.init_templatedir_test" name="test_init_templatedir_already_set" time="0.033" /><testcase classname="tests.commands.init_templatedir_test" name="test_init_templatedir_not_set" time="0.030" /><testcase classname="tests.commands.init_templatedir_test" name="test_init_templatedir_expanduser" time="0.036" /><testcase classname="tests.commands.init_templatedir_test" name="test_init_templatedir_hookspath_set" time="0.031" /><testcase classname="tests.commands.init_templatedir_test" name="test_init_templatedir_skip_on_missing_config[True-0-Skipping `pre-commit`.]" time="0.173" /><testcase classname="tests.commands.init_templatedir_test" name="test_init_templatedir_skip_on_missing_config[False-1-No .pre-commit-config.yaml file was found]" time="0.162" /><testcase classname="tests.commands.install_uninstall_test" name="test_hook_types_explicitly_listed" time="0.001" /><testcase classname="tests.commands.install_uninstall_test" name="test_hook_types_default_value_when_not_specified" time="0.001" /><testcase classname="tests.commands.install_uninstall_test" name="test_hook_types_configured" time="0.002" /><testcase classname="tests.commands.install_uninstall_test" name="test_hook_types_configured_nonsense" time="0.002" /><testcase classname="tests.commands.install_uninstall_test" name="test_hook_types_configuration_has_error" time="0.002" /><testcase classname="tests.commands.install_uninstall_test" name="test_is_not_script" time="0.001" /><testcase classname="tests.commands.install_uninstall_test" name="test_is_script" time="0.001" /><testcase classname="tests.commands.install_uninstall_test" name="test_is_previous_pre_commit" time="0.002" /><testcase classname="tests.commands.install_uninstall_test" name="test_install_pre_commit" time="0.033" /><testcase classname="tests.commands.install_uninstall_test" name="test_install_hooks_directory_not_present" time="0.032" /><testcase classname="tests.commands.install_uninstall_test" name="test_install_multiple_hooks_at_once" time="0.033" /><testcase classname="tests.commands.install_uninstall_test" name="test_install_refuses_core_hookspath" time="0.030" /><testcase classname="tests.commands.install_uninstall_test" name="test_install_hooks_dead_symlink" time="0.033" /><testcase classname="tests.commands.install_uninstall_test" name="test_uninstall_does_not_blow_up_when_not_there" time="0.007" /><testcase classname="tests.commands.install_uninstall_test" name="test_uninstall" time="0.033" /><testcase classname="tests.commands.install_uninstall_test" name="test_install_pre_commit_and_run" time="0.252" /><testcase classname="tests.commands.install_uninstall_test" name="test_install_pre_commit_and_run_custom_path" time="0.262" /><testcase classname="tests.commands.install_uninstall_test" name="test_install_in_submodule_and_run" time="0.072"><failure message="pre_commit.util.CalledProcessError: command: ('/usr/bin/git', 'submodule', 'add', '/tmp/pytest-of-tester/pytest-44/test_install_in_submodule_and_0/2', 'sub')&#10;return code: 128&#10;expected return code: 0&#10;stdout: (none)&#10;stderr:&#10;    Cloning into '/tmp/pytest-of-tester/pytest-44/test_install_in_submodule_and_0/3/sub'...&#10;    fatal: transport 'file' not allowed&#10;    fatal: clone of '/tmp/pytest-of-tester/pytest-44/test_install_in_submodule_and_0/2' into submodule path '/tmp/pytest-of-tester/pytest-44/test_install_in_submodule_and_0/3/sub' failed">Traceback (most recent call last):
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 341, in from_call
    result: Optional[TResult] = func()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 262, in &lt;lambda&gt;
    lambda: ihook(item=item, **kwds), when=when, reraise=reraise
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 152, in _multicall
    return outcome.get_result()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_result.py", line 114, in get_result
    raise exc.with_traceback(exc.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 177, in pytest_runtest_call
    raise e
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 169, in pytest_runtest_call
    item.runtest()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 1792, in runtest
    self.ihook.pytest_pyfunc_call(pyfuncitem=self)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 113, in _multicall
    raise exception.with_traceback(exception.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 194, in pytest_pyfunc_call
    result = testfunction(**testargs)
  File "/workdir/pre-commit-2.20.0/tests/commands/install_uninstall_test.py", line 179, in test_install_in_submodule_and_run
    cmd_output('git', 'submodule', 'add', src_path, 'sub', cwd=parent_path)
  File "/workdir/pre-commit-2.20.0/pre_commit/util.py", line 152, in cmd_output
    returncode, stdout_b, stderr_b = cmd_output_b(*cmd, **kwargs)
  File "/workdir/pre-commit-2.20.0/pre_commit/util.py", line 146, in cmd_output_b
    raise CalledProcessError(returncode, cmd, retcode, stdout_b, stderr_b)
pre_commit.util.CalledProcessError: command: ('/usr/bin/git', 'submodule', 'add', '/tmp/pytest-of-tester/pytest-44/test_install_in_submodule_and_0/2', 'sub')
return code: 128
expected return code: 0
stdout: (none)
stderr:
    Cloning into '/tmp/pytest-of-tester/pytest-44/test_install_in_submodule_and_0/3/sub'...
    fatal: transport 'file' not allowed
    fatal: clone of '/tmp/pytest-of-tester/pytest-44/test_install_in_submodule_and_0/2' into submodule path '/tmp/pytest-of-tester/pytest-44/test_install_in_submodule_and_0/3/sub' failed</failure></testcase><testcase classname="tests.commands.install_uninstall_test" name="test_install_in_worktree_and_run" time="0.267" /><testcase classname="tests.commands.install_uninstall_test" name="test_commit_am" time="0.270" /><testcase classname="tests.commands.install_uninstall_test" name="test_unicode_merge_commit_message" time="0.269" /><testcase classname="tests.commands.install_uninstall_test" name="test_install_idempotent" time="0.257" /><testcase classname="tests.commands.install_uninstall_test" name="test_environment_not_sourced" time="0.053" /><testcase classname="tests.commands.install_uninstall_test" name="test_failing_hooks_returns_nonzero" time="0.260" /><testcase classname="tests.commands.install_uninstall_test" name="test_install_existing_hooks_no_overwrite" time="0.277" /><testcase classname="tests.commands.install_uninstall_test" name="test_legacy_overwriting_legacy_hook" time="0.055" /><testcase classname="tests.commands.install_uninstall_test" name="test_install_existing_hook_no_overwrite_idempotent" time="0.270" /><testcase classname="tests.commands.install_uninstall_test" name="test_install_with_existing_non_utf8_script" time="0.032" /><testcase classname="tests.commands.install_uninstall_test" name="test_failing_existing_hook_returns_1" time="0.269" /><testcase classname="tests.commands.install_uninstall_test" name="test_install_overwrite_no_existing_hooks" time="0.264" /><testcase classname="tests.commands.install_uninstall_test" name="test_install_overwrite" time="0.263" /><testcase classname="tests.commands.install_uninstall_test" name="test_uninstall_restores_legacy_hooks" time="0.062" /><testcase classname="tests.commands.install_uninstall_test" name="test_replace_old_commit_script" time="0.295" /><testcase classname="tests.commands.install_uninstall_test" name="test_uninstall_doesnt_remove_not_our_hooks" time="0.007" /><testcase classname="tests.commands.install_uninstall_test" name="test_installs_hooks_with_hooks_True" time="0.241" /><testcase classname="tests.commands.install_uninstall_test" name="test_install_hooks_command" time="0.246" /><testcase classname="tests.commands.install_uninstall_test" name="test_installed_from_venv" time="0.254" /><testcase classname="tests.commands.install_uninstall_test" name="test_pre_push_integration_failing" time="0.283" /><testcase classname="tests.commands.install_uninstall_test" name="test_pre_push_integration_accepted" time="0.309" /><testcase classname="tests.commands.install_uninstall_test" name="test_pre_push_force_push_without_fetch" time="0.313" /><testcase classname="tests.commands.install_uninstall_test" name="test_pre_push_new_upstream" time="0.291" /><testcase classname="tests.commands.install_uninstall_test" name="test_pre_push_environment_variables" time="0.212" /><testcase classname="tests.commands.install_uninstall_test" name="test_pre_push_integration_empty_push" time="0.367" /><testcase classname="tests.commands.install_uninstall_test" name="test_pre_push_legacy" time="0.286" /><testcase classname="tests.commands.install_uninstall_test" name="test_commit_msg_integration_failing" time="0.193" /><testcase classname="tests.commands.install_uninstall_test" name="test_commit_msg_integration_passing" time="0.201" /><testcase classname="tests.commands.install_uninstall_test" name="test_commit_msg_legacy" time="0.198" /><testcase classname="tests.commands.install_uninstall_test" name="test_post_commit_integration" time="0.199" /><testcase classname="tests.commands.install_uninstall_test" name="test_post_merge_integration" time="0.223" /><testcase classname="tests.commands.install_uninstall_test" name="test_post_rewrite_integration" time="0.171" /><testcase classname="tests.commands.install_uninstall_test" name="test_post_checkout_integration" time="0.180" /><testcase classname="tests.commands.install_uninstall_test" name="test_skips_post_checkout_unstaged_changes" time="0.322" /><testcase classname="tests.commands.install_uninstall_test" name="test_prepare_commit_msg_integration_failing" time="0.208" /><testcase classname="tests.commands.install_uninstall_test" name="test_prepare_commit_msg_integration_passing" time="0.194" /><testcase classname="tests.commands.install_uninstall_test" name="test_prepare_commit_msg_legacy" time="0.201" /><testcase classname="tests.commands.install_uninstall_test" name="test_pre_merge_commit_integration" time="0.275" /><testcase classname="tests.commands.install_uninstall_test" name="test_install_disallow_missing_config" time="0.194" /><testcase classname="tests.commands.install_uninstall_test" name="test_install_allow_missing_config" time="0.195" /><testcase classname="tests.commands.install_uninstall_test" name="test_install_temporarily_allow_mising_config" time="0.191" /><testcase classname="tests.commands.install_uninstall_test" name="test_install_uninstall_default_hook_types" time="0.037" /><testcase classname="tests.commands.migrate_config_test" name="test_migrate_config_normal_format" time="0.003" /><testcase classname="tests.commands.migrate_config_test" name="test_migrate_config_document_marker" time="0.003" /><testcase classname="tests.commands.migrate_config_test" name="test_migrate_config_list_literal" time="0.002" /><testcase classname="tests.commands.migrate_config_test" name="test_already_migrated_configuration_noop" time="0.002" /><testcase classname="tests.commands.migrate_config_test" name="test_migrate_config_sha_to_rev" time="0.002" /><testcase classname="tests.commands.run_test" name="test_start_msg" time="0.001" /><testcase classname="tests.commands.run_test" name="test_full_msg" time="0.000" /><testcase classname="tests.commands.run_test" name="test_full_msg_with_cjk" time="0.000" /><testcase classname="tests.commands.run_test" name="test_full_msg_with_color" time="0.001" /><testcase classname="tests.commands.run_test" name="test_full_msg_with_postfix" time="0.001" /><testcase classname="tests.commands.run_test" name="test_full_msg_postfix_not_colored" time="0.001" /><testcase classname="tests.commands.run_test" name="test_run_all_hooks_failing" time="0.120" /><testcase classname="tests.commands.run_test" name="test_arbitrary_bytes_hook" time="0.114" /><testcase classname="tests.commands.run_test" name="test_hook_that_modifies_but_returns_zero" time="0.124" /><testcase classname="tests.commands.run_test" name="test_types_hook_repository" time="0.116" /><testcase classname="tests.commands.run_test" name="test_types_or_hook_repository" time="0.116" /><testcase classname="tests.commands.run_test" name="test_exclude_types_hook_repository" time="0.129" /><testcase classname="tests.commands.run_test" name="test_global_exclude" time="0.062" /><testcase classname="tests.commands.run_test" name="test_global_files" time="0.064" /><testcase classname="tests.commands.run_test" name="test_verbose_duration[1.234-2.0-\n- duration: 0.77s\n]" time="0.062" /><testcase classname="tests.commands.run_test" name="test_verbose_duration[1.0-1.0-\n- duration: 0s\n]" time="0.063" /><testcase classname="tests.commands.run_test" name="test_show_diff_on_failure[args0-All changes made by hooks:]" time="0.125" /><testcase classname="tests.commands.run_test" name="test_show_diff_on_failure[args1-All changes made by hooks:]" time="0.123" /><testcase classname="tests.commands.run_test" name="test_show_diff_on_failure[args2-reproduce locally with: pre-commit run --all-files]" time="0.116" /><testcase classname="tests.commands.run_test" name="test_run[options0-outputs0-0-True]" time="0.110" /><testcase classname="tests.commands.run_test" name="test_run[options1-outputs1-0-True]" time="0.113" /><testcase classname="tests.commands.run_test" name="test_run[options2-outputs2-0-True]" time="0.112" /><testcase classname="tests.commands.run_test" name="test_run[options3-outputs3-1-True]" time="0.107" /><testcase classname="tests.commands.run_test" name="test_run[options4-outputs4-1-True]" time="0.108" /><testcase classname="tests.commands.run_test" name="test_run[options5-outputs5-0-True]" time="0.105" /><testcase classname="tests.commands.run_test" name="test_run[options6-outputs6-0-True]" time="0.103" /><testcase classname="tests.commands.run_test" name="test_run[options7-outputs7-0-False]" time="0.106" /><testcase classname="tests.commands.run_test" name="test_run_output_logfile" time="0.111" /><testcase classname="tests.commands.run_test" name="test_always_run" time="0.114" /><testcase classname="tests.commands.run_test" name="test_always_run_alt_config" time="0.119" /><testcase classname="tests.commands.run_test" name="test_hook_verbose_enabled" time="0.170" /><testcase classname="tests.commands.run_test" name="test_from_ref_to_ref_error_msg_error[master-]" time="0.050" /><testcase classname="tests.commands.run_test" name="test_from_ref_to_ref_error_msg_error[-master]" time="0.051" /><testcase classname="tests.commands.run_test" name="test_all_push_options_ok" time="0.105" /><testcase classname="tests.commands.run_test" name="test_is_squash_merge" time="0.132" /><testcase classname="tests.commands.run_test" name="test_rewrite_command" time="0.110" /><testcase classname="tests.commands.run_test" name="test_checkout_type" time="0.106" /><testcase classname="tests.commands.run_test" name="test_has_unmerged_paths" time="0.063" /><testcase classname="tests.commands.run_test" name="test_merge_conflict" time="0.090" /><testcase classname="tests.commands.run_test" name="test_merge_conflict_modified" time="0.090" /><testcase classname="tests.commands.run_test" name="test_merge_conflict_resolved" time="0.153" /><testcase classname="tests.commands.run_test" name="test_compute_cols[hooks0-80]" time="0.001" /><testcase classname="tests.commands.run_test" name="test_compute_cols[hooks1-81]" time="0.001" /><testcase classname="tests.commands.run_test" name="test_compute_cols[hooks2-82]" time="0.001" /><testcase classname="tests.commands.run_test" name="test_get_skips[environ0-expected_output0]" time="0.001" /><testcase classname="tests.commands.run_test" name="test_get_skips[environ1-expected_output1]" time="0.001" /><testcase classname="tests.commands.run_test" name="test_get_skips[environ2-expected_output2]" time="0.001" /><testcase classname="tests.commands.run_test" name="test_get_skips[environ3-expected_output3]" time="0.001" /><testcase classname="tests.commands.run_test" name="test_get_skips[environ4-expected_output4]" time="0.001" /><testcase classname="tests.commands.run_test" name="test_get_skips[environ5-expected_output5]" time="0.001" /><testcase classname="tests.commands.run_test" name="test_get_skips[environ6-expected_output6]" time="0.001" /><testcase classname="tests.commands.run_test" name="test_skip_hook" time="0.106" /><testcase classname="tests.commands.run_test" name="test_skip_aliased_hook" time="0.206" /><testcase classname="tests.commands.run_test" name="test_skip_bypasses_installation" time="0.129" /><testcase classname="tests.commands.run_test" name="test_hook_id_not_in_non_verbose_output" time="0.102" /><testcase classname="tests.commands.run_test" name="test_hook_id_in_verbose_output" time="0.106" /><testcase classname="tests.commands.run_test" name="test_multiple_hooks_same_id" time="0.123" /><testcase classname="tests.commands.run_test" name="test_aliased_hook_run" time="0.146" /><testcase classname="tests.commands.run_test" name="test_non_ascii_hook_id" time="0.225" /><testcase classname="tests.commands.run_test" name="test_stdout_write_bug_py26" time="0.267" /><testcase classname="tests.commands.run_test" name="test_lots_of_files" time="0.314" /><testcase classname="tests.commands.run_test" name="test_stages" time="0.325" /><testcase classname="tests.commands.run_test" name="test_commit_msg_hook" time="0.047" /><testcase classname="tests.commands.run_test" name="test_post_checkout_hook" time="0.044" /><testcase classname="tests.commands.run_test" name="test_prepare_commit_msg_hook" time="0.048" /><testcase classname="tests.commands.run_test" name="test_local_hook_passes" time="0.163" /><testcase classname="tests.commands.run_test" name="test_local_hook_fails" time="0.068" /><testcase classname="tests.commands.run_test" name="test_meta_hook_passes" time="0.065" /><testcase classname="tests.commands.run_test" name="test_error_with_unstaged_config" time="0.050" /><testcase classname="tests.commands.run_test" name="test_commit_msg_missing_filename" time="0.051" /><testcase classname="tests.commands.run_test" name="test_no_unstaged_error_with_all_files_or_files[opts0]" time="0.104" /><testcase classname="tests.commands.run_test" name="test_no_unstaged_error_with_all_files_or_files[opts1]" time="0.102" /><testcase classname="tests.commands.run_test" name="test_files_running_subdir" time="0.217" /><testcase classname="tests.commands.run_test" name="test_pass_filenames[True-hook_args0-foo.py]" time="0.122" /><testcase classname="tests.commands.run_test" name="test_pass_filenames[False-hook_args1-]" time="0.118" /><testcase classname="tests.commands.run_test" name="test_pass_filenames[True-hook_args2-some args foo.py]" time="0.115" /><testcase classname="tests.commands.run_test" name="test_pass_filenames[False-hook_args3-some args]" time="0.117" /><testcase classname="tests.commands.run_test" name="test_fail_fast" time="0.119" /><testcase classname="tests.commands.run_test" name="test_fail_fast_per_hook" time="0.117" /><testcase classname="tests.commands.run_test" name="test_classifier_removes_dne" time="0.001" /><testcase classname="tests.commands.run_test" name="test_classifier_normalizes_filenames_on_windows_to_forward_slashes" time="0.003" /><testcase classname="tests.commands.run_test" name="test_classifier_does_not_normalize_backslashes_non_windows" time="0.002" /><testcase classname="tests.commands.run_test" name="test_classifier_empty_types_or" time="0.002" /><testcase classname="tests.commands.run_test" name="test_include_exclude_base_case" time="0.001" /><testcase classname="tests.commands.run_test" name="test_matches_broken_symlink" time="0.002" /><testcase classname="tests.commands.run_test" name="test_include_exclude_total_match" time="0.001" /><testcase classname="tests.commands.run_test" name="test_include_exclude_does_search_instead_of_match" time="0.001" /><testcase classname="tests.commands.run_test" name="test_include_exclude_exclude_removes_files" time="0.001" /><testcase classname="tests.commands.run_test" name="test_args_hook_only" time="0.145" /><testcase classname="tests.commands.run_test" name="test_skipped_without_any_setup_for_post_checkout" time="0.034" /><testcase classname="tests.commands.run_test" name="test_pre_commit_env_variable_set" time="0.108" /><testcase classname="tests.commands.sample_config_test" name="test_sample_config" time="0.001" /><testcase classname="tests.commands.try_repo_test" name="test_try_repo_repo_only" time="0.112" /><testcase classname="tests.commands.try_repo_test" name="test_try_repo_with_specific_hook" time="0.113" /><testcase classname="tests.commands.try_repo_test" name="test_try_repo_relative_path" time="0.111" /><testcase classname="tests.commands.try_repo_test" name="test_try_repo_bare_repo" time="0.130" /><testcase classname="tests.commands.try_repo_test" name="test_try_repo_specific_revision" time="0.110" /><testcase classname="tests.commands.try_repo_test" name="test_try_repo_uncommitted_changes" time="0.134" /><testcase classname="tests.commands.try_repo_test" name="test_try_repo_staged_changes" time="0.151" /><testcase classname="tests.languages.conda_test" name="test_conda_exe[default0]" time="0.001" /><testcase classname="tests.languages.conda_test" name="test_conda_exe[default1]" time="0.001" /><testcase classname="tests.languages.conda_test" name="test_conda_exe[default2]" time="0.001" /><testcase classname="tests.languages.docker_test" name="test_docker_fallback_user" time="0.001" /><testcase classname="tests.languages.docker_test" name="test_in_docker_no_file" time="0.001" /><testcase classname="tests.languages.docker_test" name="test_in_docker_docker_in_file" time="0.005" /><testcase classname="tests.languages.docker_test" name="test_in_docker_docker_not_in_file" time="0.003" /><testcase classname="tests.languages.docker_test" name="test_get_container_id" time="0.003" /><testcase classname="tests.languages.docker_test" name="test_get_container_id_failure" time="0.004" /><testcase classname="tests.languages.docker_test" name="test_get_docker_path_not_in_docker_returns_same" time="0.001" /><testcase classname="tests.languages.docker_test" name="test_get_docker_path_in_docker_no_binds_same_path" time="0.001" /><testcase classname="tests.languages.docker_test" name="test_get_docker_path_in_docker_binds_path_equal" time="0.001" /><testcase classname="tests.languages.docker_test" name="test_get_docker_path_in_docker_binds_path_complex" time="0.001" /><testcase classname="tests.languages.docker_test" name="test_get_docker_path_in_docker_no_substring" time="0.001" /><testcase classname="tests.languages.docker_test" name="test_get_docker_path_in_docker_binds_path_many_binds" time="0.001" /><testcase classname="tests.languages.docker_test" name="test_get_docker_path_in_docker_windows" time="0.001" /><testcase classname="tests.languages.docker_test" name="test_get_docker_path_in_docker_docker_in_docker" time="0.001" /><testcase classname="tests.languages.golang_test" name="test_guess_go_dir[/im/a/path/on/disk-unknown_src_dir]" time="0.001" /><testcase classname="tests.languages.golang_test" name="test_guess_go_dir[file:///im/a/path/on/disk-unknown_src_dir]" time="0.001" /><testcase classname="tests.languages.golang_test" name="test_guess_go_dir[git@github.com:golang/lint-github.com/golang/lint]" time="0.001" /><testcase classname="tests.languages.golang_test" name="test_guess_go_dir[git://github.com/golang/lint-github.com/golang/lint]" time="0.001" /><testcase classname="tests.languages.golang_test" name="test_guess_go_dir[http://github.com/golang/lint-github.com/golang/lint]" time="0.001" /><testcase classname="tests.languages.golang_test" name="test_guess_go_dir[https://github.com/golang/lint-github.com/golang/lint]" time="0.001" /><testcase classname="tests.languages.golang_test" name="test_guess_go_dir[ssh://git@github.com/golang/lint-github.com/golang/lint]" time="0.001" /><testcase classname="tests.languages.golang_test" name="test_guess_go_dir[git@github.com:golang/lint.git-github.com/golang/lint]" time="0.001" /><testcase classname="tests.languages.helpers_test" name="test_exe_exists_does_not_exist" time="0.001" /><testcase classname="tests.languages.helpers_test" name="test_exe_exists_exists" time="0.001" /><testcase classname="tests.languages.helpers_test" name="test_exe_exists_false_if_shim" time="0.001" /><testcase classname="tests.languages.helpers_test" name="test_exe_exists_false_if_homedir" time="0.001" /><testcase classname="tests.languages.helpers_test" name="test_exe_exists_commonpath_raises_ValueError" time="0.001" /><testcase classname="tests.languages.helpers_test" name="test_exe_exists_true_when_homedir_is_slash" time="0.001" /><testcase classname="tests.languages.helpers_test" name="test_basic_get_default_version" time="0.000" /><testcase classname="tests.languages.helpers_test" name="test_basic_health_check" time="0.000" /><testcase classname="tests.languages.helpers_test" name="test_failed_setup_command_does_not_unicode_error" time="0.017" /><testcase classname="tests.languages.helpers_test" name="test_assert_no_additional_deps" time="0.001" /><testcase classname="tests.languages.helpers_test" name="test_target_concurrency_normal" time="0.001" /><testcase classname="tests.languages.helpers_test" name="test_target_concurrency_cpu_count_require_serial_true" time="0.001" /><testcase classname="tests.languages.helpers_test" name="test_target_concurrency_testing_env_var" time="0.001" /><testcase classname="tests.languages.helpers_test" name="test_target_concurrency_on_travis" time="0.001" /><testcase classname="tests.languages.helpers_test" name="test_target_concurrency_cpu_count_not_implemented" time="0.001" /><testcase classname="tests.languages.helpers_test" name="test_shuffled_is_deterministic" time="0.001" /><testcase classname="tests.languages.node_test" name="test_sets_system_when_node_and_npm_are_available" time="0.001" /><testcase classname="tests.languages.node_test" name="test_uses_default_when_node_and_npm_are_not_available" time="0.001" /><testcase classname="tests.languages.node_test" name="test_sets_default_on_windows" time="0.001" /><testcase classname="tests.languages.node_test" name="test_healthy_system_node" time="1.772" /><testcase classname="tests.languages.node_test" name="test_unhealthy_if_system_node_goes_missing" time="1.755" /><testcase classname="tests.languages.node_test" name="test_installs_without_links_outside_env" time="2.419" /><testcase classname="tests.languages.pygrep_test" name="test_main[baz-0-]" time="0.004" /><testcase classname="tests.languages.pygrep_test" name="test_main[foo-1-f1:1:foo\n]" time="0.004" /><testcase classname="tests.languages.pygrep_test" name="test_main[bar-1-f1:2:bar\n]" time="0.004" /><testcase classname="tests.languages.pygrep_test" name="test_main[(?i)\\[info\\]-1-f2:1:[INFO] hi\n]" time="0.004" /><testcase classname="tests.languages.pygrep_test" name="test_main[h'q-1-f3:1:with'quotes\n]" time="0.003" /><testcase classname="tests.languages.pygrep_test" name="test_negate_by_line_no_match" time="0.004" /><testcase classname="tests.languages.pygrep_test" name="test_negate_by_line_two_match" time="0.004" /><testcase classname="tests.languages.pygrep_test" name="test_negate_by_line_all_match" time="0.003" /><testcase classname="tests.languages.pygrep_test" name="test_negate_by_file_no_match" time="0.003" /><testcase classname="tests.languages.pygrep_test" name="test_negate_by_file_one_match" time="0.004" /><testcase classname="tests.languages.pygrep_test" name="test_negate_by_file_all_match" time="0.004" /><testcase classname="tests.languages.pygrep_test" name="test_ignore_case" time="0.003" /><testcase classname="tests.languages.pygrep_test" name="test_multiline" time="0.003" /><testcase classname="tests.languages.pygrep_test" name="test_multiline_line_number" time="0.003" /><testcase classname="tests.languages.pygrep_test" name="test_multiline_dotall_flag_is_enabled" time="0.004" /><testcase classname="tests.languages.pygrep_test" name="test_multiline_multiline_flag_is_enabled" time="0.004" /><testcase classname="tests.languages.python_test" name="test_read_pyvenv_cfg" time="0.002" /><testcase classname="tests.languages.python_test" name="test_read_pyvenv_cfg_non_utf8" time="0.002" /><testcase classname="tests.languages.python_test" name="test_norm_version_expanduser" time="0.001" /><testcase classname="tests.languages.python_test" name="test_norm_version_of_default_is_sys_executable" time="0.001" /><testcase classname="tests.languages.python_test" name="test_sys_executable_matches[python3.9]" time="0.001" /><testcase classname="tests.languages.python_test" name="test_sys_executable_matches[python3]" time="0.001" /><testcase classname="tests.languages.python_test" name="test_sys_executable_matches[python]" time="0.001" /><testcase classname="tests.languages.python_test" name="test_sys_executable_matches_does_not_match[notpython]" time="0.001" /><testcase classname="tests.languages.python_test" name="test_sys_executable_matches_does_not_match[python3.x]" time="0.001" /><testcase classname="tests.languages.python_test" name="test_find_by_sys_executable[/usr/bin/python3-/usr/bin/python3.7-python3]" time="0.001" /><testcase classname="tests.languages.python_test" name="test_find_by_sys_executable[/usr/bin/python-/usr/bin/python3.7-python3.7]" time="0.001" /><testcase classname="tests.languages.python_test" name="test_find_by_sys_executable[/usr/bin/python-/usr/bin/python-None]" time="0.001" /><testcase classname="tests.languages.python_test" name="test_find_by_sys_executable[/usr/bin/python3.7m-/usr/bin/python3.7m-python3.7m]" time="0.001" /><testcase classname="tests.languages.python_test" name="test_find_by_sys_executable[v/bin/python-v/bin/pypy-pypy]" time="0.001" /><testcase classname="tests.languages.python_test" name="test_healthy_default_creator" time="1.764" /><testcase classname="tests.languages.python_test" name="test_healthy_venv_creator" time="1.796" /><testcase classname="tests.languages.python_test" name="test_unhealthy_python_goes_missing" time="1.755" /><testcase classname="tests.languages.python_test" name="test_unhealthy_with_version_change" time="1.770" /><testcase classname="tests.languages.python_test" name="test_unhealthy_system_version_changes" time="1.745" /><testcase classname="tests.languages.python_test" name="test_unhealthy_old_virtualenv" time="1.723" /><testcase classname="tests.languages.python_test" name="test_unhealthy_unexpected_pyvenv" time="1.742" /><testcase classname="tests.languages.python_test" name="test_unhealthy_then_replaced" time="1.736" /><testcase classname="tests.languages.r_test" name="test_r_parsing_file_no_opts_no_args" time="0.096" /><testcase classname="tests.languages.r_test" name="test_r_parsing_file_opts_no_args" time="0.026" /><testcase classname="tests.languages.r_test" name="test_r_parsing_file_no_opts_args" time="0.092" /><testcase classname="tests.languages.r_test" name="test_r_parsing_expr_no_opts_no_args1" time="0.095" /><testcase classname="tests.languages.r_test" name="test_r_parsing_expr_no_opts_no_args2" time="0.025" /><testcase classname="tests.languages.r_test" name="test_r_parsing_expr_opts_no_args2" time="0.025" /><testcase classname="tests.languages.r_test" name="test_r_parsing_expr_args_in_entry2" time="0.030" /><testcase classname="tests.languages.r_test" name="test_r_parsing_expr_non_Rscirpt" time="0.024" /><testcase classname="tests.languages.r_test" name="test_r_parsing_file_local" time="0.062" /><testcase classname="tests.languages.r_test" name="test_rscript_exec_relative_to_r_home" time="0.001" /><testcase classname="tests.languages.r_test" name="test_path_rscript_exec_no_r_home_set" time="0.001" /><testcase classname="tests.languages.ruby_test" name="test_uses_default_version_when_not_available" time="0.001" /><testcase classname="tests.languages.ruby_test" name="test_uses_system_if_both_gem_and_ruby_are_available" time="0.001" /><testcase classname="tests.languages.ruby_test" name="test_install_ruby_system" time="0.003"><failure message="pre_commit.util.CalledProcessError: command: ('gem', 'build', 'placeholder_gem.gemspec')&#10;return code: 1&#10;expected return code: 0&#10;stdout:&#10;    Executable `gem` not found&#10;stderr: (none)">Traceback (most recent call last):
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 341, in from_call
    result: Optional[TResult] = func()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 262, in &lt;lambda&gt;
    lambda: ihook(item=item, **kwds), when=when, reraise=reraise
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 152, in _multicall
    return outcome.get_result()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_result.py", line 114, in get_result
    raise exc.with_traceback(exc.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 177, in pytest_runtest_call
    raise e
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 169, in pytest_runtest_call
    item.runtest()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 1792, in runtest
    self.ihook.pytest_pyfunc_call(pyfuncitem=self)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 113, in _multicall
    raise exception.with_traceback(exception.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 194, in pytest_pyfunc_call
    result = testfunction(**testargs)
  File "/workdir/pre-commit-2.20.0/tests/languages/ruby_test.py", line 53, in test_install_ruby_system
    ruby.install_environment(fake_gem_prefix, 'system', ())
  File "/workdir/pre-commit-2.20.0/pre_commit/languages/ruby.py", line 133, in install_environment
    helpers.run_setup_cmd(
  File "/workdir/pre-commit-2.20.0/pre_commit/languages/helpers.py", line 48, in run_setup_cmd
    cmd_output_b(*cmd, cwd=prefix.prefix_dir, **kwargs)
  File "/workdir/pre-commit-2.20.0/pre_commit/util.py", line 146, in cmd_output_b
    raise CalledProcessError(returncode, cmd, retcode, stdout_b, stderr_b)
pre_commit.util.CalledProcessError: command: ('gem', 'build', 'placeholder_gem.gemspec')
return code: 1
expected return code: 0
stdout:
    Executable `gem` not found
stderr: (none)</failure></testcase><testcase classname="tests.languages.ruby_test" name="test_install_ruby_default" time="0.051"><failure message="pre_commit.util.CalledProcessError: command: ('gem', 'build', 'placeholder_gem.gemspec')&#10;return code: 1&#10;expected return code: 0&#10;stdout:&#10;    Executable `gem` not found&#10;stderr: (none)">Traceback (most recent call last):
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 341, in from_call
    result: Optional[TResult] = func()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 262, in &lt;lambda&gt;
    lambda: ihook(item=item, **kwds), when=when, reraise=reraise
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 152, in _multicall
    return outcome.get_result()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_result.py", line 114, in get_result
    raise exc.with_traceback(exc.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 177, in pytest_runtest_call
    raise e
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/runner.py", line 169, in pytest_runtest_call
    item.runtest()
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 1792, in runtest
    self.ihook.pytest_pyfunc_call(pyfuncitem=self)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_hooks.py", line 493, in __call__
    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_manager.py", line 115, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 113, in _multicall
    raise exception.with_traceback(exception.__traceback__)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/pluggy/_callers.py", line 77, in _multicall
    res = hook_impl.function(*args)
  File "/workdir/pre-commit-2.20.0/.tox/cpythonlibtest-unit-test-tests/lib/python3.10/site-packages/_pytest/python.py", line 194, in pytest_pyfunc_call
    result = testfunction(**testargs)
  File "/workdir/pre-commit-2.20.0/tests/languages/ruby_test.py", line 63, in test_install_ruby_default
    ruby.install_environment(fake_gem_prefix, C.DEFAULT, ())
  File "/workdir/pre-commit-2.20.0/pre_commit/languages/ruby.py", line 133, in install_environment
    helpers.run_setup_cmd(
  File "/workdir/pre-commit-2.20.0/pre_commit/languages/helpers.py", line 48, in run_setup_cmd
    cmd_output_b(*cmd, cwd=prefix.prefix_dir, **kwargs)
  File "/workdir/pre-commit-2.20.0/pre_commit/util.py", line 146, in cmd_output_b
    raise CalledProcessError(returncode, cmd, retcode, stdout_b, stderr_b)
pre_commit.util.CalledProcessError: command: ('gem', 'build', 'placeholder_gem.gemspec')
return code: 1
expected return code: 0
stdout:
    Executable `gem` not found
stderr: (none)</failure></testcase><testcase classname="tests.languages.ruby_test" name="test_install_ruby_with_version" time="150.158" /><testcase classname="tests.languages.ruby_test" name="test_archive_root_stat[rbenv.tar.gz]" time="0.005" /><testcase classname="tests.languages.ruby_test" name="test_archive_root_stat[ruby-build.tar.gz]" time="0.022" /><testcase classname="tests.languages.ruby_test" name="test_archive_root_stat[ruby-download.tar.gz]" time="0.002" /><testcase classname="tests.meta_hooks.check_hooks_apply_test" name="test_hook_excludes_everything" time="0.040" /><testcase classname="tests.meta_hooks.check_hooks_apply_test" name="test_hook_includes_nothing" time="0.043" /><testcase classname="tests.meta_hooks.check_hooks_apply_test" name="test_hook_types_not_matched" time="0.038" /><testcase classname="tests.meta_hooks.check_hooks_apply_test" name="test_hook_types_excludes_everything" time="0.039" /><testcase classname="tests.meta_hooks.check_hooks_apply_test" name="test_valid_exceptions" time="0.043" /><testcase classname="tests.meta_hooks.check_useless_excludes_test" name="test_useless_exclude_global" time="0.014" /><testcase classname="tests.meta_hooks.check_useless_excludes_test" name="test_useless_exclude_for_hook" time="0.014" /><testcase classname="tests.meta_hooks.check_useless_excludes_test" name="test_useless_exclude_with_types_filter" time="0.015" /><testcase classname="tests.meta_hooks.check_useless_excludes_test" name="test_no_excludes" time="0.015" /><testcase classname="tests.meta_hooks.check_useless_excludes_test" name="test_valid_exclude" time="0.015" /><testcase classname="tests.meta_hooks.check_useless_excludes_test" name="test_useless_excludes_broken_symlink" time="0.035" /><testcase classname="tests.meta_hooks.identity_test" name="test_identity" time="0.054" /></testsuite></testsuites>